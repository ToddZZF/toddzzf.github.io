<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>单极放大器 on Todd's Blog</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/</link><description>Recent content in 单极放大器 on Todd's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Fri, 11 Nov 2022 13:55:00 +0800</lastBuildDate><atom:link href="https://todd.scuteee.com/analogic/amplifier/singe-stage/index.xml" rel="self" type="application/rss+xml"/><item><title>单极共漏放大器</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/</link><pubDate>Fri, 11 Nov 2022 18:51:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/</guid><description>&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-small-signal-with-cap.png"
width="531"
height="428"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-small-signal-with-cap_hua5fb3696a0613e26781690e6db05cc5e_10134_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-small-signal-with-cap_hua5fb3696a0613e26781690e6db05cc5e_10134_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="单极共漏电路小信号电路"
class="gallery-image"
data-flex-grow="124"
data-flex-basis="297px"
>&lt;/p>
&lt;p>易知，$V_{\rm out}$ 的输出是 $1/g_m$ 和 $R_E$ 的分压，所以有：&lt;/p>
&lt;p>$$
A_v = \frac{R_E}{1/g_m+R_E}
$$&lt;/p>
&lt;p>对于 $C_{GD}$，其等效电阻为：&lt;/p>
&lt;p>$$
\begin{cases}
\dfrac{V_D+V_t}{R_{\rm sig}} = I_t\
\dfrac{V_t}{1/g_m} = I_t + \dfrac{V_D}{R_E}
\end{cases}\
\Rightarrow \omega_{p1} = \frac{1}{C_{GS}\l( \frac{R_{\rm sig}+R_E}{1+g_m R_E}\r)}
$$&lt;/p></description></item><item><title>单极共栅放大器</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/</link><pubDate>Fri, 11 Nov 2022 16:50:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/</guid><description>&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/common-gate-small-signal.png"
width="538"
height="404"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/common-gate-small-signal_hu461030bca0a601e6024941ec4616be51_10077_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/common-gate-small-signal_hu461030bca0a601e6024941ec4616be51_10077_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="共栅放大器的小信号模型（T-model）"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="319px"
>&lt;/p>
&lt;p>对于 $C_{GS}$，其等效电阻为：$R_{\rm sig}|1/g_m$（$r_o$很大，可以看作断路，详细分析如下）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/CGS-equivalent-resistor.png"
width="459"
height="439"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/CGS-equivalent-resistor_hu1d4dd709614ff1acc9f547e95fbf530e_8414_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/CGS-equivalent-resistor_hu1d4dd709614ff1acc9f547e95fbf530e_8414_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CGS 右边的等效电阻计算（注意G与地之间无电流）"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/p>
&lt;p>$$
\frac{V_t}{1/g_m} + \frac{V_t - V_X}{r_o} = \frac{V_X}{R_D} = I_t\
\Rightarrow R_{\rm eq} = \frac{V_t}{I_t} = \frac{R_D+r_o}{1+g_m r_o} \approx \frac{1}{g_m}
$$&lt;/p>
&lt;p>所以&lt;/p>
&lt;p>$$
\omega_{p1} = \frac{1}{C_{GS} (R_{\rm sig}|1/g_m)} \approx \frac{1}{(1/g_m) \cdot C_{GS}}
$$&lt;/p>
&lt;p>对于 $C_{GD}$，过程和上面类似，等效电阻为 $R_D | (r_o + R_{\rm sig}+g_m r_o R_{\rm sig}) \approx R_D$，所以&lt;/p>
&lt;p>$$
\omega_{p2} \approx \frac{1}{C_{GD}\cdot R_D}
$$&lt;/p>
&lt;p>这两个极点都挺大的，所以这个电路可以操作在高频。得益于其输入电阻小，一般用作高频输入端。&lt;/p>
&lt;hr>
&lt;p>零点：&lt;/p>
&lt;ul>
&lt;li>$1/(sC_{GS}) = 0$，$\omega_{z1}=\infty$&lt;/li>
&lt;li>$1/(sC_{GD}) = 0$，$\omega_{z2}=\infty$&lt;/li>
&lt;/ul>
&lt;p>所以总的传输方程为：&lt;/p>
&lt;p>$$
H(s) = \frac{A_v}{(1+s/\omega_{p1})(1+s/\omega_{p2})}
$$&lt;/p></description></item><item><title>单极共射放大器</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/</link><pubDate>Fri, 11 Nov 2022 13:57:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/</guid><description>&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-amplifier.svg"
loading="lazy"
alt="单极共射放大器电路"
>&lt;/p>
&lt;p>图中，$C_{C1}$、$C_{C2}$ 为耦合电容，容值较大（$10^{-9}\sim 10^{-6}$），寄生电容一般只有 $10^{-15}$。&lt;/p>
&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;h3 id="分析原则">分析原则&lt;/h3>
&lt;ul>
&lt;li>一个电容对应一个极点+一个零点&lt;/li>
&lt;li>零点可能会在0或无穷&lt;/li>
&lt;li>分析一个电容的时候，忽略其他电容（耦合电容看作短路，寄生电容看作开路）&lt;/li>
&lt;li>找零点的方法：使输出始终为 0 的频率（无论输入是什么）&lt;/li>
&lt;/ul>
&lt;h3 id="不考虑寄生电容">不考虑寄生电容&lt;/h3>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal.png"
width="694"
height="354"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal_hu4322505d939f2cd999f9309e27d9d48f_13072_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal_hu4322505d939f2cd999f9309e27d9d48f_13072_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="单极共射放大电路小信号模型（T-model）"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="470px"
>&lt;/p>
&lt;ul>
&lt;li>$C_{C1}$，由于 $i_{G}=0$，只需要考虑 $R_{\rm sig},R_{G}$
&lt;ul>
&lt;li>$\omega_{p1}=\dfrac{1}{C_{C1}(R_{\rm sig}+R_{G})}$&lt;/li>
&lt;li>$\omega_{z1}=0$（此时 $\frac{1}{sC_{C1}} \rightarrow \infty$，$v_G=0$，输出为0）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>$C_{S}$，由于 $v_G = 0$，受控电流源为0，因此只需要考虑 $1/g_m, R_S$
&lt;ul>
&lt;li>$\omega_{p2}=\dfrac{1}{C_S(R_S|\frac{1}{g_m})}$&lt;/li>
&lt;li>$\omega_{z2}=\dfrac{1}{R_S C_S}$（此时 $R_S|\frac{1}{sC}\rightarrow \infty$，$i_D=0$，输出为0）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>$C_{C2}$，只需要考虑 $R_D,R_L$
&lt;ul>
&lt;li>$\omega_{p3}=\dfrac{1}{C_{C2}(R_D+R_L)}$&lt;/li>
&lt;li>$\omega_{z3}=0$（此时 $\frac{1}{sC_{C2}} \rightarrow \infty$，输出为0）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>总的频率响应：&lt;/p>
&lt;ul>
&lt;li>一般来说，为了减小电流，$R_G$ 比较大，所以 $\omega_{p1}$ 最小&lt;/li>
&lt;li>考虑到 $1/g_m \approx 50$, $R_S\approx 10^3$，从而 $\omega_{p2}\approx \dfrac{1}{C_S\frac{1}{g_m}}$ 最大，且 $\omega_{p2}&amp;gt;\omega_{z2}$&lt;/li>
&lt;li>$\omega_{p2}$ 在 $\omega_{p1},\omega_{p3}$ 之间&lt;/li>
&lt;li>$\omega_{z2}$ 不确定，可能在 $\omega_{p1},\omega_{p3}$ 周围&lt;/li>
&lt;/ul>
&lt;p>总之就是：$\omega_{p1}&amp;lt;\omega_{p3}&amp;lt;\omega_{p2}$ 且 $\omega_{z2}&amp;lt;\omega_{p2}$&lt;/p>
&lt;h3 id="考虑寄生电容">考虑寄生电容&lt;/h3>
&lt;p>为了简化分析，把耦合电容、旁路电容忽略，从而小信号电路为：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal-with-cap.png"
width="574"
height="238"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal-with-cap_huc36168f5cbe9d34caec171f6450b11b3_8168_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal-with-cap_huc36168f5cbe9d34caec171f6450b11b3_8168_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="单极共射放大电路小信号模型（π-model），考虑寄生电容"
class="gallery-image"
data-flex-grow="241"
data-flex-basis="578px"
>&lt;/p>
&lt;p>由于 $r_o \gg R_D$，所以 $R_D | r_o \approx R_D$&lt;/p>
&lt;p>&lt;strong>主极点法&lt;/strong>。饱和状态时，$C_{GS}&amp;gt;C_{GD}$，因此 Dominant Pole 应该在栅极。利用 Millar Effect 将 $C_{GD}$ 等效为 $[1+g_m(R_D| r_o)]C_{GD}$，从而有：&lt;/p>
&lt;p>$$
\omega_{p1} = \frac{1}{R_{\rm sig}[C_{GS}+C_{GD}(1+g_m R_D)]}
$$&lt;/p>
&lt;p>这个频率就是3dB带宽。这种方法比较精确，但不好算（需要确定主极点）。另一种方法叫 &lt;strong>OCTC&lt;/strong>（Open-Circuit Time Constant），就是把所有电容对应的时间常数相加取倒数，得到 BW：&lt;/p>
&lt;p>$$
{\rm BW} = \frac{1}{\sum_i C_i R_{io}}
$$&lt;/p>
&lt;p>$R_{io}$ 是开路电阻，也就是把其他电容忽略（开路）。利用这种方法，我们可以计算出共模BW为：&lt;/p>
&lt;p>$$
{\rm BW} = \frac{1}{\omega_{p1}+\omega_{p2}}
$$&lt;/p>
&lt;ul>
&lt;li>$\omega_{p1}=C_{GS}R_{\rm sig}$&lt;/li>
&lt;li>$\omega_{p2}=C_{GD}[R_{\rm sig}+({\color{red}1}+g_m R_{sig})R_D]$&lt;/li>
&lt;/ul>
&lt;p>其中，$C_{GD}$ 的往外看到的等效阻抗可以用下面这个电路计算（把 $C_{GD}$ 替换为一个电压源，$R_{\rm eq}=\frac{V_t}{I_t}$）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/CGD-equivalent-resistor.png"
width="574"
height="249"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/CGD-equivalent-resistor_hud01e952fe072fe1a379ad7c48f87dd12_8250_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/CGD-equivalent-resistor_hud01e952fe072fe1a379ad7c48f87dd12_8250_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CGD-equivalent-resistor"
class="gallery-image"
data-flex-grow="230"
data-flex-basis="553px"
>&lt;/p>
&lt;p>$$
\begin{cases}
V_{GS}=-I_t \cdot R_{\rm sig}\
I_t = g_m V_{GS} + \frac{V_{GS}+V_t}{R_D}
\end{cases}\
\Rightarrow R_{\rm eq}=R_{\rm sig}+(1+g_mR_{\rm sig})R_D
$$&lt;/p>
&lt;p>&lt;strong>OCTC&lt;/strong> 的结果不如 &lt;strong>主极点法&lt;/strong> 精准，但也只是分母多了个 1，所以可以用来进行大致的分析。&lt;/p>
&lt;hr>
&lt;p>对于零点，分析过程和上一节相似，所以有：&lt;/p>
&lt;ul>
&lt;li>$C_{GS}$：$\omega_{z1}=\infty$&lt;/li>
&lt;li>$C_{GD}$：$\omega_{z2}=-g_m/C_{GD}$&lt;/li>
&lt;/ul>
&lt;p>$C_{GD}$ 零点的分析如下：要使输出为0，则流过 $C_{GD}$ 的电流与 $g_m V_{GS}$ 相同，从而流过 $R_D$ 的电流为 0. 所以有：&lt;/p>
&lt;p>$$
g_m V_{DS} = i = \frac{V_{GS}}{1/(sC_{GD})}\
\Rightarrow s = g_m/C_{GD}
$$&lt;/p>
&lt;p>注意到 $\omega_{z2}$ 是一个右半平面零点，这有可能引起稳定性问题：&lt;/p>
&lt;ul>
&lt;li>左边平面零点会将相位 +90°，右半平面零点则会 -90°&lt;/li>
&lt;li>右半平面会使得信号在 0dB 前到达 -180°&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/%E5%8F%B3%E5%8D%8A%E5%B9%B3%E9%9D%A2%E9%9B%B6%E7%82%B9%E5%BC%95%E8%B5%B7%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98.png"
width="316"
height="355"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/%E5%8F%B3%E5%8D%8A%E5%B9%B3%E9%9D%A2%E9%9B%B6%E7%82%B9%E5%BC%95%E8%B5%B7%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98_hubff0cbc202adfa85dffc5adbae42f1df_80328_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/%E5%8F%B3%E5%8D%8A%E5%B9%B3%E9%9D%A2%E9%9B%B6%E7%82%B9%E5%BC%95%E8%B5%B7%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98_hubff0cbc202adfa85dffc5adbae42f1df_80328_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="零点引起的稳定性问题（上：左边平面；下：右半平面）"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="213px"
>&lt;/p>
&lt;p>但在共模电路中，$\omega_{p1},\omega_{p2}$ （OCTC中求得）都比 $\omega_{z1}$ 要小得多（$C_{GS}&amp;gt;C_{GD}$, $R_{\rm sig}&amp;gt;1/g_m$），所以幅度会以 40dB/10倍频迅速下降到 0（在到达 $\omega_{z1}$ 前）&lt;/p></description></item></channel></rss>