<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>MOSFET阈值电压的提取 - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>好物</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>日常</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>主页</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>日常</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2021/2021-10-18-extract-mosfet-theshold-voltage/>MOSFET阈值电压的提取</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">MOSFET阈值电压的提取</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2021-10-18</span>
<a href=/posts/>📂日常</a></div></div><div class="mdstyle highlightjs"><p>一些提取阈值电压的实验方法。</p><p>$$
\newcommand{\tx}{\text}
$$</p><p>MOSFET的阈值电压 $V_\tx{th}$ 是衡量 MOSFET 的一个重要参数，当 $V_g$ 达到阈值电压时，形成反型层，MOS开启。$V_\tx{th}$ 在器件设计、工艺监测、可靠性分析中均起到重要作用。</p><p>有多种方法提取阈值电压，但采用不同方法得到的 $V_\tx{th}$ 不同。这些方法主要依赖静态转移特性曲线 $I_d-V_{gs}$</p><p>在提取过程中会受到源漏寄生串联电阻和沟道载流子迁移率降低效应的影响，故如何消除这些影响是准确提取 $V_\tx{th}$ 关键。</p><p>下面简要列举几种方法。</p><h2 id=常数电流法cc>常数电流法(CC)</h2><p>这种方法定义当 $V_d&lt;0.1\tx{V}$ 时，与规定的 $I_d$ 对应的 $V_g$ 即为 $V_\tx{th}$。即：</p><p>$$
I_d = I_\tx{th} \frac{W_m}{L_m}
$$</p><p>其中，$I_\tx{th}$ 为阈值电流，$W_m,L_m$ 为掩模版上的沟道宽度和长度。</p><p>该方法的优点是：仅需进行一次测量操作即可得到 $V_\tx{th}$，测量速度很快。</p><p>缺点是：$I_\tx{th}$ 的取值有一定任意性，其典型值在 $10^{-6}-10^{-9}\tx{A}$ 之间，当取不同值时，得到的 $V_\tx{th}$ 不同。</p><h2 id=线性外推法最大gm法>线性外推法/最大gm法</h2><p>这种方法通过对 $I_d-V_{gs}$ 特性曲线的最大斜率点展开线性外推，并将外推曲线与 $I_d=0$ 时的 $V_g$ 作为 $V_\tx{th}$。最大斜率点对应跨导最大的点。</p><p>$$
g_m =\frac{\p I_d}{\p V_{gs}}
$$</p><p>该阈值电压为外推阈值电压，该方法是工业区确定阈值电压的常用标准。</p><p>为保证MOSFET保持在线性区，一般固定漏极电压 $V_{ds}\leq 0.1\tx{V}$，在低 $V_{ds}$ 时，漏电流 $I_d$ 由下面方程给出：</p><p>$$
I_d = \mu C_\tx{ox} \left(\frac{W}{L}\right)\left[V_{gs}-V_\tx{th}-\frac{1}{2}\alpha V_{ds}\right] V_{ds}
$$</p><p>该方程说明，$I_d$ 与 $V_{gs}$ 之间是线性相关，并且与 $V_{gs}$ 轴交于 $V_\tx{th}+\frac{1}{2}\alpha V_{ds}$. 参数 $\alpha$ 与背偏置电压有关，一般取 $1.1-1.5$，由于通常 $V_{ds}\leq 0.1\tx{V}$，一般情况下可以假设 $\alpha=1$，这一假设引起的误差小于 2%。这样一来，在计算 $V_\tx{th}$ 时，必须从外推得到的结果中再减去 $V_\tx{ds}$ 的一半。</p><p>从最大斜率点外推的理由是：载流子的迁移率 $\mu$ 随 $V_{gs}$ 增加而降低，漏电流 $I_d$ 并不能准确地随着 $V_{gs}$ 而线性变化，但是从另一方面考虑，从曲线最大斜率处外推不会将迁移率降低而引起的额外误差涵盖在 $V_\tx{th}$ 之内。</p><h2 id=平方外推法>平方外推法</h2><p>该方法通过利用饱和区 $\sqrt{I_d}$ 与 $V_{gs}$ 的关系曲线外推到 $I_{d}=0$ 得到阈值电压。</p><p>其中，确保MOSFET工作在饱和区的最简便的方法就是将器件的栅极和漏极连接在一起，此时饱和区的漏电流方程为：</p><p>$$
I_{d} = \frac{1}{2}\mu C_\tx{ox}\frac{W}{L_\alpha} (V_{gs}-V_\tx{th})^2
$$</p><p>由上式可知，$\sqrt{I_d}$ 与 $V_{gs}$ 呈直线关系。对该直线外推，得到的与 $V_{gs}$ 轴的交点即为 $V_\tx{th}$</p><p>但在短沟道器件中，由于漏致势垒降低效应使得 $V_\tx{th}$ 的取值随 $V_{ds}$ 的改变而改变，因此基于这种考虑，此方法通常不能应用于短沟道器件。</p><h2 id=跨导线性外推法>跨导线性外推法</h2><p>该方法的本质思想是：在低漏压时，跨导的微分 $\dif g_m / \dif V_{gs}$ 取最大值时所对应的栅压即为阈值电压。此方法得到的阈值电压与下式定义的阈值电压非常接近：</p><p>$$
\phi_{st} = 2\phi_f+V_\tx{th}
$$</p><p>并且它不受迁移率下降因子 $\theta$ 和串联电阻 $R_t$ 的影响。这种方法要求器件工作在线性区，且基于以下几点结论：</p><ol><li>在弱反型区，跨导和栅压呈指数关系</li><li>在强反型区，当串联电阻和迁移率退化可以忽略时，跨导为一个常量</li><li>由于串联电阻和迁移率退化的影响，跨导随栅压缓慢增大</li><li>在弱反型和强反型的过渡区，跨导和栅压呈线性关系。</li></ol><p>由于在该方法中，需要考虑漏电流的二级效应，故其很容易受噪声影响。</p><h2 id=参考文献>参考文献</h2><ol><li>[薛峰. 65nm工艺下MOSFET阈值电压提取方法研究]<a href=J>http://dx.chinadoi.cn/10.3969/j.issn.1673-260X.2015.07.017</a>. 赤峰学院学报（自然科学版）,2015(7):46-48. DOI:10.3969/j.issn.1673-260X.2015.07.017.</li><li>A. Bazigos, M. Bucher, J. Assenmacher, S. Decker, W. Grabinski and Y. Papananos, &ldquo;<a href=https://ieeexplore.ieee.org/document/6003772>An Adjusted Constant-Current Method to Determine Saturated and Linear Mode Threshold Voltage of MOSFETs</a>,&rdquo; in IEEE Transactions on Electron Devices, vol. 58, no. 11, pp. 3751-3758, Nov. 2011, doi: 10.1109/TED.2011.2164080.</li><li>O. F. Siebel, M. C. Schneider, and C. Galup-Montoro, “<a href=https://doi.org/10.1016/j.mejo.2012.01.004>MOSFET threshold voltage: Definition, extraction, and some applications</a>,” Microelectronics Journal, vol. 43, no. 5, pp. 329–336, May 2012, doi: 10.1016/j.mejo.2012.01.004.</li></ol><h2 id=matlab-处理脚本>Matlab 处理脚本</h2><p>由于实验获取的数据是离散的，所以我们需要使用内插函数 <code>interp1k</code> 获取特定 $I_d$ 对应的 $V_g$。另外由于实验数据可能会有缺陷，所以内插之前需要对数据进行预处理。我们将上述过程封装为如下函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>function</span><span class=w> </span>C <span class=p>=</span><span class=w> </span><span class=nf>interp1k</span><span class=p>(</span>A,B,Id<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>%A：Id_test</span>
</span></span><span class=line><span class=cl>    <span class=c>%B：Vg_test</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c>%获取非NAN元素</span>
</span></span><span class=line><span class=cl>    <span class=n>indx</span> <span class=p>=</span> <span class=o>~</span><span class=nb>isnan</span><span class=p>(</span><span class=n>A</span><span class=p>)</span> <span class=o>&amp;</span> <span class=o>~</span><span class=nb>isnan</span><span class=p>(</span><span class=n>B</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span> <span class=p>=</span> <span class=n>A</span><span class=p>(</span><span class=n>indx</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span> <span class=p>=</span> <span class=n>B</span><span class=p>(</span><span class=n>indx</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>%获取唯一元素</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>y</span><span class=p>,</span><span class=nb>i</span><span class=p>]</span> <span class=p>=</span> <span class=n>unique</span><span class=p>(</span><span class=n>A</span><span class=p>);</span> <span class=c>%返回列表y和下标i按元素大小升序排序</span>
</span></span><span class=line><span class=cl>    <span class=n>A1</span> <span class=p>=</span> <span class=n>A</span><span class=p>(</span><span class=n>sort</span><span class=p>(</span><span class=nb>i</span><span class=p>));</span> <span class=c>%将下标恢复原来的顺序</span>
</span></span><span class=line><span class=cl>    <span class=n>B1</span> <span class=p>=</span> <span class=n>B</span><span class=p>(</span><span class=n>sort</span><span class=p>(</span><span class=nb>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>C</span> <span class=p>=</span> <span class=n>interp1</span><span class=p>(</span><span class=n>A1</span><span class=p>,</span><span class=n>B1</span><span class=p>,</span><span class=n>Id</span><span class=p>);</span> <span class=c>%线性内插，获取 Id 对应的值 Vg</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><p>对于常数电流法，我们只需要通过内插得到与规定的 $I_d$ 对应的 $V_g$，即：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>function</span><span class=w> </span>Vth <span class=p>=</span><span class=w> </span><span class=nf>Vth_Extraction_CC</span><span class=p>(</span>Id_test, Vg_test, Id<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Vth</span> <span class=p>=</span> <span class=n>interp1k</span><span class=p>(</span><span class=n>Id_test</span><span class=p>,</span> <span class=n>Vg_test</span><span class=p>,</span> <span class=n>Id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>%画出转移特性曲线</span>
</span></span><span class=line><span class=cl>    <span class=n>plot</span><span class=p>(</span><span class=n>Vg_test</span><span class=p>,</span><span class=n>Id_test</span><span class=p>,</span><span class=s>&#39;color&#39;</span><span class=p>,</span><span class=s>&#39;b&#39;</span><span class=p>);</span> <span class=n>hold</span> <span class=n>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>plot</span><span class=p>([</span><span class=n>min</span><span class=p>(</span><span class=n>Vg_test</span><span class=p>),</span><span class=n>max</span><span class=p>(</span><span class=n>Vg_test</span><span class=p>)],[</span><span class=n>Id</span><span class=p>,</span><span class=n>Id</span><span class=p>],</span><span class=s>&#39;color&#39;</span><span class=p>,</span><span class=s>&#39;r&#39;</span><span class=p>,</span><span class=s>&#39;linestyle&#39;</span><span class=p>,</span><span class=s>&#39;--&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><hr><p>而对于线性外推法，我们需要先求 $I_d$ 对 $V_g$ 的导数，由于数据是离散的，所以我们用差分近似求导：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>function</span><span class=w> </span>[Vgm, gm] <span class=p>=</span><span class=w> </span><span class=nf>derivative_me_verilength</span><span class=p>(</span>Vg_test, Id_test<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>gm</span> <span class=p>=</span> <span class=n>gradient</span><span class=p>(</span><span class=n>Id_test</span><span class=p>)</span><span class=o>./</span><span class=n>gradient</span><span class=p>(</span><span class=n>Vg_test</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Vgm</span> <span class=p>=</span> <span class=n>Vg_test</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><p>然后根据斜率，外推到 $I_d=0$ 对应的 $V_g$</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>function</span><span class=w> </span>Vth <span class=p>=</span><span class=w> </span><span class=nf>Vth_Extraction_Max_gm</span><span class=p>(</span>Id_test, Vg_test<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>[</span><span class=n>Vgm</span><span class=p>,</span><span class=n>gm</span><span class=p>]</span> <span class=p>=</span> <span class=n>derivative_me_verilength</span><span class=p>(</span><span class=n>Vg</span><span class=p>,</span><span class=n>Id</span><span class=p>);</span> 
</span></span><span class=line><span class=cl>    <span class=n>max_gm</span> <span class=p>=</span> <span class=n>max</span><span class=p>(</span><span class=n>gm</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>indx</span> <span class=p>=</span> <span class=nb>find</span><span class=p>(</span><span class=n>gm</span> <span class=o>==</span> <span class=n>max</span><span class=p>(</span><span class=n>gm</span><span class=p>));</span> <span class=n>indx</span> <span class=p>=</span><span class=n>indx</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Vth</span> <span class=p>=</span> <span class=n>Vg</span><span class=p>(</span><span class=n>indx</span><span class=p>)</span> <span class=o>-</span> <span class=n>Id</span><span class=p>(</span><span class=n>indx</span><span class=p>)</span><span class=o>/</span><span class=n>max</span><span class=p>(</span><span class=n>gm</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>%画出转移特性曲线</span>
</span></span><span class=line><span class=cl>    <span class=n>plot</span><span class=p>(</span><span class=n>Vg_test</span><span class=p>,</span><span class=n>Id_test</span><span class=p>,</span><span class=n>Vg_test</span><span class=p>,</span><span class=n>gm</span><span class=p>);</span> <span class=n>hold</span> <span class=n>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>plot</span><span class=p>([</span><span class=n>Vth</span><span class=p>,</span><span class=n>Vg</span><span class=p>(</span><span class=n>indx</span><span class=p>)],[</span><span class=mi>0</span><span class=p>,</span><span class=n>Id</span><span class=p>(</span><span class=n>indx</span><span class=p>)],</span><span class=s>&#39;:&#39;</span><span class=p>,</span><span class=s>&#39;linewidth&#39;</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=s>&#39;color&#39;</span><span class=p>,</span><span class=s>&#39;red&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>plot</span><span class=p>([</span><span class=n>min</span><span class=p>(</span><span class=n>Vg</span><span class=p>),</span><span class=n>max</span><span class=p>(</span><span class=n>Vg</span><span class=p>)],[</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>],</span><span class=s>&#39;:&#39;</span><span class=p>,</span><span class=s>&#39;color&#39;</span><span class=p>,</span><span class=s>&#39;red&#39;</span><span class=p>);</span> 
</span></span><span class=line><span class=cl>    <span class=n>plot</span><span class=p>(</span><span class=n>Vth</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=s>&#39;s&#39;</span><span class=p>,</span><span class=s>&#39;MarkerSize&#39;</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=s>&#39;color&#39;</span><span class=p>,</span><span class=s>&#39;red&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>