<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>ÊïôËÇ≤ÁΩëipÂú∞ÂùÄ - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>Â•ΩÁâ©</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>Êó•Â∏∏</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>‰∏ªÈ°µ</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>Êó•Â∏∏</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2022/2022-05-24-cernet-ip/>ÊïôËÇ≤ÁΩëipÂú∞ÂùÄ</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">ÊïôËÇ≤ÁΩëipÂú∞ÂùÄ</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2022-05-24</span>
<a href=/posts/>üìÇÊó•Â∏∏</a></div></div><div class="mdstyle highlightjs"><p>‰πãÂâçÂª∫ËÆæ scuteee.com Êó∂Á†îÁ©∂‰∫Ü‰∏Ä‰∏ãÊÄé‰πàËÆæÁΩÆ‰ªÖÈôêÂ≠¶Ê†°ÂÜÖËÆøÈóÆÔºåÊñπÊ≥ïÊòØÂú® nginx ‰∏≠ÂºÄÂêØ ip Âú∞ÂùÄÁôΩÂêçÂçïÔºå‰ªÖÈôêÊïôËÇ≤ÁΩëipËÆøÈóÆ„ÄÇÂú®Ê≠§ËÆ∞ÂΩï‰∏Ä‰∏ãÊïôËÇ≤ÁΩëÁöÑip</p><details><summary>ip„ÄÅÂ≠êÁΩë„ÄÅÊé©Á†Å</summary>
{% highlight c %}
1.51.0.0 0.0.255.255 255.255.0.0
1.184.0.0 0.1.255.255 255.254.0.0
42.244.0.0 0.3.255.255 255.252.0.0
49.52.0.0 0.3.255.255 255.252.0.0
49.120.0.0 0.3.255.255 255.252.0.0
49.140.0.0 0.1.255.255 255.254.0.0
49.208.0.0 0.1.255.255 255.254.0.0
58.17.0.0 0.0.255.255 255.255.0.0
58.24.0.0 0.1.255.255 255.254.0.0
58.154.0.0 0.1.255.255 255.254.0.0
58.192.0.0 0.15.255.255 255.240.0.0
58.240.0.0 0.1.255.255 255.254.0.0
59.32.0.0 0.15.255.255 255.240.0.0
59.64.0.0 0.15.255.255 255.240.0.0
60.0.0.0 0.31.255.255 255.224.0.0
60.63.0.0 0.0.255.255 255.255.0.0
61.28.0.0 0.0.15.255 255.255.240.0
61.48.0.0 0.7.255.255 255.248.0.0
61.128.0.0 0.63.255.255 255.192.0.0
61.232.0.0 0.3.255.255 255.252.0.0
61.236.0.0 0.1.255.255 255.254.0.0
61.240.0.0 0.3.255.255 255.252.0.0
101.4.0.0 0.3.255.255 255.252.0.0
101.76.0.0 0.1.255.255 255.254.0.0
110.64.0.0 0.1.255.255 255.254.0.0
111.114.0.0 0.1.255.255 255.254.0.0
111.116.0.0 0.1.255.255 255.254.0.0
111.186.0.0 0.1.255.255 255.254.0.0
113.54.0.0 0.1.255.255 255.254.0.0
114.212.0.0 0.1.255.255 255.254.0.0
114.214.0.0 0.0.255.255 255.255.0.0
115.24.0.0 0.3.255.255 255.252.0.0
115.154.0.0 0.1.255.255 255.254.0.0
115.156.0.0 0.1.255.255 255.254.0.0
115.158.0.0 0.0.255.255 255.255.0.0
116.13.0.0 0.0.255.255 255.255.0.0
116.56.0.0 0.1.255.255 255.254.0.0
118.202.0.0 0.1.255.255 255.254.0.0
118.228.0.0 0.1.255.255 255.254.0.0
118.230.0.0 0.0.255.255 255.255.0.0
120.94.0.0 0.1.255.255 255.254.0.0
121.48.0.0 0.1.255.255 255.254.0.0
121.52.160.0 0.0.31.255 255.255.224.0
121.192.0.0 0.3.255.255 255.252.0.0
121.248.0.0 0.3.255.255 255.252.0.0
122.204.0.0 0.3.255.255 255.252.0.0
125.216.0.0 0.7.255.255 255.248.0.0
137.189.0.0 0.0.255.255 255.255.0.0
140.113.0.0 0.0.255.255 255.255.0.0
143.89.0.0 0.0.255.255 255.255.0.0
144.214.0.0 0.0.255.255 255.255.0.0
147.8.0.0 0.0.255.255 255.255.0.0
152.101.0.0 0.0.255.255 255.255.0.0
152.104.0.0 0.0.255.255 255.255.0.0
158.132.0.0 0.0.255.255 255.255.0.0
158.182.0.0 0.0.255.255 255.255.0.0
159.226.0.0 0.0.255.255 255.255.0.0
161.207.0.0 0.0.255.255 255.255.0.0
162.105.0.0 0.0.255.255 255.255.0.0
166.111.0.0 0.0.255.255 255.255.0.0
167.139.0.0 0.0.255.255 255.255.0.0
168.160.0.0 0.0.255.255 255.255.0.0
175.185.0.0 0.0.255.255 255.255.0.0
175.186.0.0 0.1.255.255 255.254.0.0
180.84.0.0 0.1.255.255 255.254.0.0
180.201.0.0 0.0.255.255 255.255.0.0
180.208.0.0 0.1.255.255 255.254.0.0
183.168.0.0 0.1.255.255 255.254.0.0
183.170.0.0 0.0.255.255 255.255.0.0
183.172.0.0 0.3.255.255 255.252.0.0
192.86.104.0 0.0.0.255 255.255.255.0
202.4.128.0 0.0.31.255 255.255.224.0
202.38.0.0 0.0.255.255 255.255.0.0
202.40.192.0 0.0.31.255 255.255.224.0
202.45.32.0 0.0.31.255 255.255.224.0
202.75.64.0 0.0.31.255 255.255.224.0
202.84.16.0 0.0.1.255 255.255.254.0
202.95.0.0 0.0.31.255 255.255.224.0
202.96.0.0 0.15.255.255 255.240.0.0
202.112.0.0 0.7.255.255 255.248.0.0
202.120.0.0 0.1.255.255 255.254.0.0
202.122.32.0 0.0.15.255 255.255.240.0
202.127.0.0 0.0.63.255 255.255.192.0
202.127.128.0 0.0.127.255 255.255.128.0
202.130.0.0 0.0.31.255 255.255.224.0
202.130.224.0 0.0.31.255 255.255.224.0
202.131.208.0 0.0.15.255 255.255.240.0
202.189.96.0 0.0.31.255 255.255.224.0
202.192.0.0 0.15.255.255 255.240.0.0
203.81.16.0 0.0.15.255 255.255.240.0
203.87.224.0 0.0.31.255 255.255.224.0
203.93.0.0 0.0.255.255 255.255.0.0
203.128.128.0 0.0.31.255 255.255.224.0
203.192.0.0 0.0.31.255 255.255.224.0
203.207.64.0 0.0.63.255 255.255.192.0
203.207.128.0 0.0.127.255 255.255.128.0
203.208.0.0 0.0.31.255 255.255.224.0
203.212.0.0 0.0.15.255 255.255.240.0
210.5.0.0 0.0.31.255 255.255.224.0
210.12.0.0 0.1.255.255 255.254.0.0
210.14.160.0 0.0.31.255 255.255.224.0
210.14.192.0 0.0.63.255 255.255.192.0
210.15.0.0 0.0.127.255 255.255.128.0
210.15.128.0 0.0.63.255 255.255.192.0
210.21.0.0 0.0.255.255 255.255.0.0
210.22.0.0 0.0.255.255 255.255.0.0
210.25.0.0 0.0.127.255 255.255.128.0
210.25.128.0 0.0.63.255 255.255.192.0
210.26.0.0 0.1.255.255 255.254.0.0
210.28.0.0 0.3.255.255 255.252.0.0
210.32.0.0 0.15.255.255 255.240.0.0
210.51.0.0 0.0.255.255 255.255.0.0
210.52.0.0 0.1.255.255 255.254.0.0
210.72.0.0 0.3.255.255 255.252.0.0
210.76.0.0 0.1.255.255 255.254.0.0
210.78.0.0 0.0.255.255 255.255.0.0
210.79.224.0 0.0.31.255 255.255.224.0
210.82.0.0 0.1.255.255 255.254.0.0
210.192.96.0 0.0.31.255 255.255.224.0
211.64.0.0 0.7.255.255 255.248.0.0
211.80.0.0 0.15.255.255 255.240.0.0
211.96.0.0 0.7.255.255 255.248.0.0
211.136.0.0 0.7.255.255 255.248.0.0
211.144.0.0 0.15.255.255 255.240.0.0
211.160.0.0 0.7.255.255 255.248.0.0
218.0.0.0 0.31.255.255 255.224.0.0
218.56.0.0 0.7.255.255 255.248.0.0
218.64.0.0 0.31.255.255 255.224.0.0
218.96.0.0 0.3.255.255 255.252.0.0
218.104.0.0 0.3.255.255 255.252.0.0
218.108.0.0 0.0.255.255 255.255.0.0
218.192.0.0 0.15.255.255 255.240.0.0
218.240.0.0 0.7.255.255 255.248.0.0
219.72.0.0 0.0.255.255 255.255.0.0
219.128.0.0 0.31.255.255 255.224.0.0
219.216.0.0 0.7.255.255 255.248.0.0
219.224.0.0 0.15.255.255 255.240.0.0
219.242.0.0 0.1.255.255 255.254.0.0
219.244.0.0 0.3.255.255 255.252.0.0
220.160.0.0 0.31.255.255 255.224.0.0
220.192.0.0 0.15.255.255 255.240.0.0
220.234.0.0 0.0.255.255 255.255.0.0
220.248.0.0 0.3.255.255 255.252.0.0
220.252.0.0 0.0.255.255 255.255.0.0
221.0.0.0 0.15.255.255 255.240.0.0
221.130.0.0 0.1.255.255 255.254.0.0
221.137.0.0 0.0.255.255 255.255.0.0
221.172.0.0 0.3.255.255 255.252.0.0
221.192.0.0 0.7.255.255 255.248.0.0
221.200.0.0 0.3.255.255 255.252.0.0
221.204.0.0 0.1.255.255 255.254.0.0
221.208.0.0 0.3.255.255 255.252.0.0
221.212.0.0 0.0.255.255 255.255.0.0
221.214.0.0 0.1.255.255 255.254.0.0
221.216.0.0 0.7.255.255 255.248.0.0
221.224.0.0 0.15.255.255 255.240.0.0
222.16.0.0 0.15.255.255 255.240.0.0
222.32.0.0 0.31.255.255 255.224.0.0
222.64.0.0 0.31.255.255 255.224.0.0
222.132.0.0 0.3.255.255 255.252.0.0
222.136.0.0 0.7.255.255 255.248.0.0
222.160.0.0 0.3.255.255 255.252.0.0
222.168.0.0 0.7.255.255 255.248.0.0
222.176.0.0 0.15.255.255 255.240.0.0
222.192.0.0 0.15.255.255 255.240.0.0
222.208.0.0 0.7.255.255 255.248.0.0
222.216.0.0 0.1.255.255 255.254.0.0
222.218.0.0 0.0.255.255 255.255.0.0
222.222.0.0 0.1.255.255 255.254.0.0
222.240.0.0 0.7.255.255 255.248.0.0
223.2.0.0 0.1.255.255 255.254.0.0
223.128.0.0 0.1.255.255 255.254.0.0
{% endhighlight %}</details>
<details><summary>nginxÂèØÁî®ÁöÑipÁôΩÂêçÂçï</summary>
{% highlight c %}
allow 1.51.0.0/16;
allow 1.184.0.0/15;
allow 42.244.0.0/14;
allow 49.52.0.0/14;
allow 49.120.0.0/14;
allow 49.140.0.0/15;
allow 49.208.0.0/15;
allow 58.17.0.0/16;
allow 58.24.0.0/15;
allow 58.154.0.0/15;
allow 58.192.0.0/12;
allow 58.240.0.0/15;
allow 59.32.0.0/12;
allow 59.64.0.0/12;
allow 60.0.0.0/11;
allow 60.63.0.0/16;
allow 61.28.0.0/20;
allow 61.48.0.0/13;
allow 61.128.0.0/10;
allow 61.232.0.0/14;
allow 61.236.0.0/15;
allow 61.240.0.0/14;
allow 101.4.0.0/14;
allow 101.76.0.0/15;
allow 110.64.0.0/15;
allow 111.114.0.0/15;
allow 111.116.0.0/15;
allow 111.186.0.0/15;
allow 113.54.0.0/15;
allow 114.212.0.0/15;
allow 114.214.0.0/16;
allow 115.24.0.0/14;
allow 115.154.0.0/15;
allow 115.156.0.0/15;
allow 115.158.0.0/16;
allow 116.13.0.0/16;
allow 116.56.0.0/15;
allow 118.202.0.0/15;
allow 118.228.0.0/15;
allow 118.230.0.0/16;
allow 120.94.0.0/15;
allow 121.48.0.0/15;
allow 121.52.160.0/19;
allow 121.192.0.0/14;
allow 121.248.0.0/14;
allow 122.204.0.0/14;
allow 125.216.0.0/13;
allow 137.189.0.0/16;
allow 140.113.0.0/16;
allow 143.89.0.0/16;
allow 144.214.0.0/16;
allow 147.8.0.0/16;
allow 152.101.0.0/16;
allow 152.104.0.0/16;
allow 158.132.0.0/16;
allow 158.182.0.0/16;
allow 159.226.0.0/16;
allow 161.207.0.0/16;
allow 162.105.0.0/16;
allow 166.111.0.0/16;
allow 167.139.0.0/16;
allow 168.160.0.0/16;
allow 175.185.0.0/16;
allow 175.186.0.0/15;
allow 180.84.0.0/15;
allow 180.201.0.0/16;
allow 180.208.0.0/15;
allow 183.168.0.0/15;
allow 183.170.0.0/16;
allow 183.172.0.0/14;
allow 192.86.104.0/24;
allow 202.4.128.0/19;
allow 202.38.0.0/16;
allow 202.40.192.0/19;
allow 202.45.32.0/19;
allow 202.75.64.0/19;
allow 202.84.16.0/23;
allow 202.95.0.0/19;
allow 202.96.0.0/12;
allow 202.112.0.0/13;
allow 202.120.0.0/15;
allow 202.122.32.0/20;
allow 202.127.0.0/18;
allow 202.127.128.0/17;
allow 202.130.0.0/19;
allow 202.130.224.0/19;
allow 202.131.208.0/20;
allow 202.189.96.0/19;
allow 202.192.0.0/12;
allow 203.81.16.0/20;
allow 203.87.224.0/19;
allow 203.93.0.0/16;
allow 203.128.128.0/19;
allow 203.192.0.0/19;
allow 203.207.64.0/18;
allow 203.207.128.0/17;
allow 203.208.0.0/19;
allow 203.212.0.0/20;
allow 210.5.0.0/19;
allow 210.12.0.0/15;
allow 210.14.160.0/19;
allow 210.14.192.0/18;
allow 210.15.0.0/17;
allow 210.15.128.0/18;
allow 210.21.0.0/16;
allow 210.22.0.0/16;
allow 210.25.0.0/17;
allow 210.25.128.0/18;
allow 210.26.0.0/15;
allow 210.28.0.0/14;
allow 210.32.0.0/12;
allow 210.51.0.0/16;
allow 210.52.0.0/15;
allow 210.72.0.0/14;
allow 210.76.0.0/15;
allow 210.78.0.0/16;
allow 210.79.224.0/19;
allow 210.82.0.0/15;
allow 210.192.96.0/19;
allow 211.64.0.0/13;
allow 211.80.0.0/12;
allow 211.96.0.0/13;
allow 211.136.0.0/13;
allow 211.144.0.0/12;
allow 211.160.0.0/13;
allow 218.0.0.0/11;
allow 218.56.0.0/13;
allow 218.64.0.0/11;
allow 218.96.0.0/14;
allow 218.104.0.0/14;
allow 218.108.0.0/16;
allow 218.192.0.0/12;
allow 218.240.0.0/13;
allow 219.72.0.0/16;
allow 219.128.0.0/11;
allow 219.216.0.0/13;
allow 219.224.0.0/12;
allow 219.242.0.0/15;
allow 219.244.0.0/14;
allow 220.160.0.0/11;
allow 220.192.0.0/12;
allow 220.234.0.0/16;
allow 220.248.0.0/14;
allow 220.252.0.0/16;
allow 221.0.0.0/12;
allow 221.130.0.0/15;
allow 221.137.0.0/16;
allow 221.172.0.0/14;
allow 221.192.0.0/13;
allow 221.200.0.0/14;
allow 221.204.0.0/15;
allow 221.208.0.0/14;
allow 221.212.0.0/16;
allow 221.214.0.0/15;
allow 221.216.0.0/13;
allow 221.224.0.0/12;
allow 222.16.0.0/12;
allow 222.32.0.0/11;
allow 222.64.0.0/11;
allow 222.132.0.0/14;
allow 222.136.0.0/13;
allow 222.160.0.0/14;
allow 222.168.0.0/13;
allow 222.176.0.0/12;
allow 222.192.0.0/12;
allow 222.208.0.0/13;
allow 222.216.0.0/15;
allow 222.218.0.0/16;
allow 222.222.0.0/15;
allow 222.240.0.0/13;
allow 223.2.0.0/15;
allow 223.128.0.0/15;
{% endhighlight %}</details><p>ÁîüÊàêngingxÁôΩÂêçÂçïÁöÑpython‰ª£Á†Å</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>netmask_to_bit_length</span><span class=p>(</span><span class=n>netmask</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>sum</span><span class=p>([</span><span class=nb>bin</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>i</span><span class=p>))</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>&#39;1&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>netmask</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;ip_num.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;ip.txt&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>ip</span> <span class=o>=</span> <span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;allow &#34;</span><span class=o>+</span><span class=n>ip</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>+</span><span class=s1>&#39;/&#39;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>netmask_to_bit_length</span><span class=p>(</span><span class=n>ip</span><span class=p>[</span><span class=mi>2</span><span class=p>]))</span><span class=o>+</span><span class=s1>&#39;;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span></code></pre></div></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>