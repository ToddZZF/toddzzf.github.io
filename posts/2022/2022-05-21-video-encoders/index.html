<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>视频编码器 - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>好物</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>日常</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>主页</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>日常</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2022/2022-05-21-video-encoders/>视频编码器</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">视频编码器</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2022-05-21</span>
<a href=/posts/>📂日常</a></div></div><div class="mdstyle highlightjs"><p>动辄 1G 以上的视频让我的硬盘实在吃不消，这些视频这么大的原因有两个：一是视频的画质与码率不匹配；二是视频的编码格式太老旧。故在此研究一下视频编码器，找到一个合适的视频压缩方法。</p><h2 id=视频封装格式>视频封装格式</h2><p>一个视频文件实际上是一个包含视频、音频、字幕等数据的容器。​ 视频封装格式就是将已经编码处理的视频数据、音频数据以及字幕数据按照一定的方式放到一个文件中。<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>编码格式与封装格式的名称有时是一致的，例如 MPEG、WMV、DivX、XviD、RM、RMVB 等格式，既是编码格式，也是封装格式；有时却不一致，例如 MKV 是一种能容纳多种不同类型编码的视频、音频及字幕流的“万能”视频封装格式，同样以mkv为扩展名的视频文件，可能封装了不同编码格式的视频数据。</p><p>常见的视频封装格式如下：</p><table><thead><tr><th>封装格式</th><th>文件后缀</th><th>组织/企业</th></tr></thead><tbody><tr><td>Matroska</td><td>.mkv</td><td>Google</td></tr><tr><td>WebM</td><td>.webm</td><td>Google</td></tr><tr><td>MP4</td><td>.mp4, .m4a, .m4v</td><td>MPEG</td></tr><tr><td>AVI</td><td>.avi</td><td>Microsoft</td></tr><tr><td>QuickTime</td><td>.mov</td><td>Apple</td></tr><tr><td>FLV</td><td>.flv</td><td>Adobe</td></tr><tr><td>AVCHD</td><td>.avchd</td><td>Sony</td></tr></tbody></table><h2 id=视频编码>视频编码</h2><h3 id=视频码率>视频码率</h3><p>码率（bit rate）即单位时间内传输的数据，单位是 bps（bit per second）。对于一个视频，码率×时长=视频大小。</p><p>对于未压缩的视频，还有个公式：</p><p>码率 = 采样率 × 位深度 × 通道数</p><h2 id=参考链接>参考链接</h2><ul><li>[https://developer.mozilla.org/zh-CN/docs/Web/Media/Formats/Video_codecs](Web 开发技术 - 视频编码指南)</li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>视频的编解码格式 <a href=https://zhuanlan.zhihu.com/p/143720720>https://zhuanlan.zhihu.com/p/143720720</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>