<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>Jupyter Notebook入门 - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>好物</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>日常</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>主页</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>日常</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2019/2019-07-22-jupyter-notebook-tutorial/>Jupyter Notebook入门</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">Jupyter Notebook入门</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2019-07-22</span>
<a href=/posts/>📂日常</a></div></div><div class="mdstyle highlightjs"><blockquote><p>大致介绍一下 Jupyter Notebook 怎么用。</p></blockquote><h1 id=简介>简介</h1><blockquote><p>The Jupyter Notebook is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text. Uses include: data cleaning and transformation, numerical simulation, statistical modeling, data visualization, machine learning, and much more.</p></blockquote><p>  官网的介绍巴拉巴拉一大串，其实 Jupyter Notebook （后面简称Jupyter）就是一个 Notebook 只不过这个 Notebook 比较厉害，它不但可以写字，还可以运行代码，还可以加图片、表格，所以非常适合用来学习代码或者编写文档。</p><p>  <a href=https://jupyter.org/>官网</a>提供了一个免费在线试用平台，不过由于使用的人较多，所以能不能登上全凭运气。如果能，可以看到它的界面是这样的：</p><p><img src=http://geospatialtraining.com/wp-content/uploads/2017/08/Jupyter-Notebook-for-ArcGIS-Users.jpg alt="&ldquo;Jupyter Notebook的界面&rdquo;" title="Jupyter Notebook的界面"></p><h1 id=安装>安装</h1><p>  由于我有树莓派，再加之我比较喜欢保持电脑清爽，所以我将树莓派作为一个服务器，再通过电脑访问。你可以视自己的情况决定。</p><h2 id=树莓派>树莓派</h2><p>  先升级 pip ，否则会出现 unsupported operand types &mldr;，逐个输入下面的命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>wget https://bootstrap.pypa.io/get-pip.py
</span></span><span class=line><span class=cl>python get-pip.py
</span></span><span class=line><span class=cl>python3 get-pip.py
</span></span></code></pre></div><p>  然后执行下面这个命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo pip3 install jupyter
</span></span></code></pre></div><p>  如果出现安装不成功的情况，可以逐个安装依赖的库（建议多试几次上面，实在不行再逐个安装）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo pip3 install ipython-genutils decorator traitlets tornado pyzmq backcall pygment ptyprocess pexpect pickleshare parso jedi wcwidth prompt-toolkit ipython ipykernel jinja2 attrs pyrsistent jsonschema nbformat entrypoints testpath webencodinga bleach defusedxml pandocfilters mistune nbconvert Send2Trassh terminado notebook ipywidgets qtconsole
</span></span></code></pre></div><p>  安装好后，输入下面命令生成配置文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>jupyter notebook --generate-config
</span></span></code></pre></div><p>  修改配置文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo nano ~/.jupyter/jupyter_notebook_config.py
</span></span></code></pre></div><p>  修改内容如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#c.NotebookApp.ip = &#39;localhost&#39;</span>
</span></span><span class=line><span class=cl>改为（*表示任意ip）
</span></span><span class=line><span class=cl>c.NotebookApp.ip <span class=o>=</span> <span class=s1>&#39;*&#39;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#c.NotebookApp.open_browser = True</span>
</span></span><span class=line><span class=cl>改为（启动时不打开浏览器）
</span></span><span class=line><span class=cl>c.NotebookApp.open_browser <span class=o>=</span> False
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#c.NotebookApp.port = 8888</span>
</span></span><span class=line><span class=cl>改为（在8888端口）
</span></span><span class=line><span class=cl>c.NotebookApp.port <span class=o>=</span> <span class=m>8888</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#c.NotebookApp.notebook_dir = &#39;&#39;</span>
</span></span><span class=line><span class=cl>改为（初始目录为/home/pi）
</span></span><span class=line><span class=cl>c.NotebookApp.notebook_dir <span class=o>=</span> <span class=s1>&#39;/home/pi&#39;</span>
</span></span></code></pre></div><p>  配置完成后修改密码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>jupyter notebook password
</span></span></code></pre></div><p>  然后就可以使用Jupyter Notebook了，方法是在树莓派上输入<code>jupyter notebook</code>，然后在电脑上的浏览器中打开<code>树莓派的ip地址:8888</code></p><h2 id=windows>Windows</h2><p>  如果安装了 Anaconda ，则会自动安装 Jupyter Notebook。也可以用<code>pip3 install jupyter</code>（要用最新的 pip）。如果你连 Python 都没安装，那就搜必应吧。</p><h2 id=macos>MacOS</h2><p>  希望有人能资助我一台Macbook Pro让我研究一下。</p><h1 id=上手>上手</h1><h2 id=启动与退出>启动与退出</h2><p>  在命令行输入 <code>jupyter notebook</code>，或以管理员模式运行Jupyter Notebook程序，即可启动。然后就可以在浏览器上打开Jupyter.</p><p>  Jupyter 默认启动后自动打开浏览器，并只能在本机上的8888端口访问。如果要修改设置，请看<a href=https://jupyter.readthedocs.io/en/latest/projects/config.html#command-line-options-for-configuration>Jupyter Configuration</a>，或自行查必应。</p><p>  启动后，双击 .ipynb 或 .md 后缀的文件即可查看笔记。如果要关闭笔记，不能只是关闭网页，记得要点击 Files - close and halt ，不然笔记的内核会一直运行</p><p>  如果要退出，可以在命令行连按两下 <em>Ctrl + c</em>，或者按Jupyter浏览器页面右上角的 Quit.</p><h2 id=界面>界面</h2><p>  进入 Jupyter 后，首先是 <code>File</code> 界面，就是文件管理器；上方可以切换到 <code>Running</code>，查看正在运行的 Jupyter 笔记；上方还有 <code>Cluster</code> ，这个不用管。</p><p>  点击右边，有一个 <code>New</code>，用于新建笔记/文件夹；<code>Upload</code> 用于从电脑上传文件（顺便提一句，文件后缀为 .ipynb）。</p><p>  我们新建一个笔记：点击 <code>new</code>，选择 <code>python3</code>，浏览器就会跳到一个新界面。这对于英语好的同学，可以点击菜单栏的 <em>Help - User Interface Tour</em>，系统会介绍这个界面。这个界面分为几部分：</p><ul><li><p>左上角是笔记名，单击可以更改。</p></li><li><p>下面一排是菜单栏，菜单栏的右边显示的是 当前的状态 / 内核 。编辑状态在编辑时会出现 :pencil2: ，可以按 <em>Esc</em> 退出编辑模式并进入命令模式；内核右边的小圆圈显示的是内核是否在运行程序，如果想要终止程序，可点击中间那个 :stop_button:</p></li><li><p>再下一行就是一些按钮，你可以把鼠标放上去，看它们的功能</p></li><li><p>最后就是笔记块，块分成三类：代码块、markdown块 和 raw块。编辑模式下，笔记块会变绿；命令模式下，笔记块变蓝。</p><p><img src=https://jupyter-notebook.readthedocs.io/en/latest/_images/edit_mode.png alt=&ldquo;编辑模式&rdquo; title=编辑模式></p><p><img src=https://jupyter-notebook.readthedocs.io/en/latest/_images/command_mode.png alt=命令模式 title=命令模式></p></li></ul><h2 id=编辑模式>编辑模式</h2><p>  编辑模式可以打代码或写markdown。Jupyer具有自动补全功能：代码打到一半后，按 <em>Tab</em> 就会自动补全或跳出候选框。</p><h2 id=命令模式>命令模式</h2><p>  按 <em>Esc</em> 退出编辑模式，进入命令模式。下面着重说一下常用快捷键：</p><table><thead><tr><th>快捷键</th><th>功能</th></tr></thead><tbody><tr><td><em>S</em></td><td>保存</td></tr><tr><td>↑ / <em>K</em> 和 ↓ / <em>J</em></td><td>上下选择要操作的块</td></tr><tr><td><em>Enter</em></td><td>进入编辑模式</td></tr><tr><td><em>Esc</em></td><td>退出编辑模式</td></tr><tr><td><em>Ctrl + Enter</em></td><td>运行代码块/显示编辑效果</td></tr><tr><td><em>Shift + Enter</em></td><td>运行代码块，并且光标跳到下一代码块。如果已经是最后一个代码块，则会新建一个代码块</td></tr><tr><td><em>Alt + Enter</em></td><td>运行代码块，并在下方新建一个代码块</td></tr><tr><td><em>A</em></td><td>在上方新建代码块</td></tr><tr><td><em>B</em></td><td>在下方新建代码块</td></tr><tr><td>双击 <em>D</em></td><td>删除</td></tr><tr><td><em>Z</em></td><td>撤销已删除的块</td></tr><tr><td><em>M</em></td><td>将代码块转化为 markdown块</td></tr><tr><td><em>Y</em></td><td>将 markdown块转化为代码块</td></tr></tbody></table><p>  更多快捷键可以去 Help 中查询。还有一些命令是没有快捷键的，需要按 <em>P</em> 建进入命令输入框。比如 如果想显示行号，可以输入 line，就能看到 show all line numbers 的命令，选中，回车。</p><h2 id=程序与内核>程序与内核</h2><p>  运行程序时，可能会有个问题，就是：不同代码块之间的程序是否相互影响？</p><p>  实际上，Jupyter 比较类似与 Python 的交互模式。在同一个内核中，先运行的代码块会影响后运行的代码块。代码块的先后可以通过界面左边的 In[ ] 中的数字判断。若要清除前面已运行的代码块的影响，可以重启内核，点击界面上的 :stop_button: 或用快捷键 <em>0</em> （零）</p><h1 id=进阶>进阶</h1><h2 id=执行shell命令>执行Shell命令</h2><p>  在代码块中，在Shell命令前加<code>!</code>即可。甚至可以在 Shell 与 Python 之间传递值，比如</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>path</span> <span class=o>=</span> <span class=err>!</span><span class=n>pwd</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=换主题>换主题</h2><p>  在 Linux 上 pip 安装 <code>sudo pip install jupyterthemes</code>，然后加载可用主题 <code>jt -l</code> ，最后选择主题 <code>jt -t &lt;name of theme></code>，重启 Jupyter 即可。想恢复原主题，可用 <code>jt -r</code></p><h2 id=扩展>扩展</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo pip install jupyter_contrib_nbextensions <span class=o>&amp;&amp;</span> jupyter contrib nbextension install
</span></span></code></pre></div><p>  安装完后，就能体验 候选语句、目录、折叠、自动整理等功能了，就在菜单 Edit 那里。</p><h1 id=高级>高级</h1><p>  现在有了一个新的 JupyterLab，可以去玩一下。</p><p>其他：</p><p><a href=https://blog.csdn.net/tuzixini/article/details/83117542>Jupyter notebook 查看Markdown .md文件</a></p></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>