<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>Arduino库之IRremote - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>好物</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>日常</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>主页</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>日常</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2019/2019-08-22-ir-remote/>Arduino库之IRremote</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">Arduino库之IRremote</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2019-08-22</span>
<a href=/posts/>📂日常</a></div></div><div class="mdstyle highlightjs"><blockquote><p>IRremote的wiki的中文翻译</p></blockquote><h1 id=介绍>介绍</h1><p>  IRremote 可以让你用标准的红外遥控器控制 Arduino，也可以用 Arduino 控制其他设备（电视、音箱等）</p><p>  下载安装请见<a href=https://github.com/shirriff/Arduino-IRremote>Arduino-IRremote github page</a></p><p>  这份文档包括：</p><p>[TOC]</p><h1 id=硬件设置>硬件设置</h1><p><img src=https://camo.githubusercontent.com/8ac489718a9de4e84d3d508f4322fa4e55e70157/687474703a2f2f66696c65732e617263666e2e636f6d2f696d616765732f61726475696e6f2d69722e6a7067 alt=img></p><h2 id=红外接收>红外接收</h2><p>  IRremote 库可以使用任何一个数字信号引脚来接收 38kHz 红外接收模块的数据。这些模块自带了滤波和逻辑输出。不能直接用红外发射管和红外接收管。</p><p><img src=https://camo.githubusercontent.com/88ce3189895c447e386a7eb94d62600b70cfade8/687474703a2f2f66696c65732e617263666e2e636f6d2f696d616765732f69722d736368656d617469632e706e67 alt></p><h2 id=红外发射>红外发射</h2><p>  将红外发射管和适当大小的电阻连接到有PWM的 pin 3，并确保红外发射管极性正确。我已经用 NTE 3027 和 100 欧实验过（如上图），发射距离大概是4~5米。可以加多一个三极管来加大距离。</p><h1 id=红外发射示例>红外发射示例</h1><p>下面这个是 Example -> IRremote -> IRsendDemo，它将控制索尼电视的开和关。需要将一个红外发射管连接到 pin 3.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;IRremote.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=n>IRsend</span> <span class=n>irsend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>Serial</span><span class=p>.</span><span class=nf>read</span><span class=p>()</span> <span class=o>!=</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>irsend</span><span class=p>.</span><span class=nf>sendSony</span><span class=p>(</span><span class=mh>0xa90</span><span class=p>,</span> <span class=mi>12</span><span class=p>);</span> <span class=c1>// Sony TV power code
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nf>delay</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=红外接收示例>红外接收示例</h1><h2 id=接收并打印数据>接收并打印数据</h2><p>下面这段代码将接收一个数据并通过串口打印出来，可以用于检测你的遥控器使用了什么数据格式。Example中还有一个更复杂的例子 <a href=https://github.com/shirriff/Arduino-IRremote/blob/master/examples/IRrecvDump/IRrecvDump.pde>IRrecvDump</a></p><p>同时这段代码也展示了如何在按下遥控器后触发对应的语句。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;IRremote.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=n>IRrecv</span> <span class=nf>irrecv</span><span class=p>(</span><span class=mi>11</span><span class=p>);</span> <span class=c1>// Receive on pin 11
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>decode_results</span> <span class=n>results</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>irrecv</span><span class=p>.</span><span class=nf>enableIRIn</span><span class=p>();</span> <span class=c1>// Start the receiver
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>irrecv</span><span class=p>.</span><span class=nf>decode</span><span class=p>(</span><span class=o>&amp;</span><span class=n>results</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=n>results</span><span class=p>.</span><span class=n>value</span><span class=p>,</span> <span class=n>HEX</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>irrecv</span><span class=p>.</span><span class=nf>resume</span><span class=p>();</span> <span class=c1>// Continue receiving
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=长按与松开>长按与松开</h2><p>下面这段代码展示了在长按遥控器时执行一段代码，松开后执行另一段代码。由于遥控器在按下时会不断地发送一个数据，所以需要用一个计时器来判读是否有松开遥控器。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;IRremote.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#define MAX_TIME 150 </span><span class=c1>// max ms between codes
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define LED_PIN 3
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>long</span> <span class=n>lastPressTime</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>state</span> <span class=o>=</span> <span class=n>LOW</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>IRrecv</span> <span class=nf>irrecv</span><span class=p>(</span><span class=mi>11</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>decode_results</span> <span class=n>results</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span><span class=p>(</span><span class=n>LED_PIN</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>  <span class=c1>// Status on pin 3 LED
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>irrecv</span><span class=p>.</span><span class=nf>enableIRIn</span><span class=p>();</span> <span class=c1>// Start the receiver
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>irrecv</span><span class=p>.</span><span class=nf>decode</span><span class=p>(</span><span class=o>&amp;</span><span class=n>results</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// Can check for a specific button here
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=n>state</span> <span class=o>==</span> <span class=n>LOW</span><span class=p>)</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>        <span class=n>state</span> <span class=o>=</span> <span class=n>HIGH</span><span class=p>;</span>  <span class=c1>// Button pressed, so set state to HIGH
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>LED_PIN</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=n>lastPressTime</span> <span class=o>=</span> <span class=nf>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>irrecv</span><span class=p>.</span><span class=nf>resume</span><span class=p>();</span> <span class=c1>// Receive the next value
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>state</span> <span class=o>==</span> <span class=n>HIGH</span> <span class=o>&amp;&amp;</span> <span class=nf>millis</span><span class=p>()</span> <span class=o>-</span> <span class=n>lastPressTime</span> <span class=o>&gt;</span> <span class=n>MAX_TIME</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>state</span> <span class=o>=</span> <span class=n>LOW</span><span class=p>;</span> <span class=c1>// Haven&#39;t heard from the button for a while, so not pressed
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>LED_PIN</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>注意，<code>if (1)</code> 会导致只要按下任何按钮（即使和原来的按钮不同）都能触发代码。如果要设置为特定按钮，需要替换为 <code>if (results.value == 0x1234)</code> （0x1234 是对应按钮的编码）</p><h2 id=irremote-api>IRremote API</h2><p>  API 通过 <code>IRsend</code> 对象来发送红外数据，通过 <code>IRrecv</code> 对象来接收红外数据。这个库不能同时发送和接收，但可以在发送和接收之间转换。</p><h2 id=发送>发送</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>IRsend</span> <span class=n>irsend</span><span class=p>;</span>
</span></span></code></pre></div><p>新建一个 <code>IRsend</code> 对象</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irsend</span><span class=p>.</span><span class=nf>sendNEC</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>bits</span><span class=p>);</span>
</span></span></code></pre></div><p>以 NEC格式编码 发送数据，<code>bits</code> 指定了编码长度，一般是16</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irsend</span><span class=p>.</span><span class=nf>sendSony</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>bits</span><span class=p>);</span>
</span></span></code></pre></div><p>以 Sony格式编码 发送数据</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irsend</span><span class=p>.</span><span class=nf>sendSAMSUNG</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>bits</span><span class=p>);</span>
</span></span></code></pre></div><p>以 三星格式编码 发送数据</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irsend</span><span class=p>.</span><span class=nf>sendRC5</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>bits</span><span class=p>);</span>
</span></span></code></pre></div><p>以 RC5格式编码 发送数据</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irsend</span><span class=p>.</span><span class=nf>sendRC6</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>bits</span><span class=p>);</span>
</span></span></code></pre></div><p>以 RC6格式编码 发送数据</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irsend</span><span class=p>.</span><span class=nf>sendRaw</span><span class=p>(</span><span class=n>buf</span><span class=p>,</span> <span class=n>len</span><span class=p>,</span> <span class=n>hertz</span><span class=p>);</span>
</span></span></code></pre></div><p>Sends a code corresponding to the buffer of raw durations</p><h2 id=接收>接收</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>IRrecv</span> <span class=nf>irrecv</span><span class=p>(</span><span class=n>pin</span><span class=p>);</span>
</span></span></code></pre></div><p>创建一个<code>IRrecv</code> 对象</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irrecv</span><span class=p>.</span><span class=nf>enableIRIn</span><span class=p>();</span>
</span></span></code></pre></div><p>开始接收红外数据</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>irrecv</span><span class=p>.</span><span class=nf>decode</span><span class=p>(</span><span class=o>&amp;</span><span class=n>results</span><span class=p>)</span>
</span></span></code></pre></div><p>如果接收到数据，返回1，否则返回0.
The fields of <em>results</em> are:</p><table><thead><tr><th><code>decode_type</code></th><th>NEC, SONY, RC5, RC6, or UNKNOWN</th></tr></thead><tbody><tr><td><code>value</code></td><td>the received code value</td></tr><tr><td><code>bits</code></td><td>The number of bits received</td></tr><tr><td><code>rawbuf[]</code></td><td>Raw durations</td></tr><tr><td><code>rawlen</code></td><td>Number of records in <em>rawbuf</em></td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>irrecv</span><span class=p>.</span><span class=nf>resume</span><span class=p>()</span>
</span></span></code></pre></div><p>必须在 <code>irrecv.decode()</code> 后调用，以继续接收</p><h1 id=irremote的实例>IRremote的实例</h1><p>Many projects have been built with the IRremote library</p><ul><li><a href=http://www.abluestar.com/blog/arduino-infrared-blue-robot-challenge-burning-man-and-superman/>Arduino Infrared, Blue Robot challenge</a></li><li>Controlling a <a href=http://arcfn.com/2010/01/dont-walk-controlling-pedestrian-sign.html>pedestrian sign</a> with a remote.</li><li>Extending the library to <a href=http://arcfn.com/2010/01/using-arbitrary-remotes-with-arduino.html>arbitrary remotes</a></li><li><a href=http://arcfn.com/2009/11/controlling-your-stereo-over-web-with.html>Controlling my stereo</a> over the web.</li><li><a href=http://arcfn.com/2009/09/arduino-universal-remote-record-and.html>&ldquo;Universal remote</a> to record and playback IR codes.</li><li><a href=http://arcfn.com/2009/11/ir-bubbles-controlling-relay-with.html>Infrared bubble maker</a> project.</li><li><a href=http://www.arcfn.com/2010/03/detecting-ir-beam-break-with-arduino-ir.html>Using the library to detect IR beam breaks</a></li><li><a href=http://electrosthetics.blogspot.com/2009/11/arduino-universal-remote-and-more.html>electrosthetics</a> used the library to control a home theater receiver.</li><li><a href=http://luckylarry.co.uk/2010/06/arduino-redefining-the-tv-remote/>Arduino: Redefining the TV Remote</a> – using the library and an ultrasonic sensor to control a TV by waving your hand.</li><li><a href=http://www.hobby-werkstatt-blog.de/arduino/286-arduino-infrarot-receiver-module.php>Arduino: Infrarot-Receiver Module</a> a 4WD controller (German page)</li><li><a href=http://www.tehnorama.ro/smart-lock-controlled-light-with-remote-temperature-led-graph/>Smart Lock with Remote Controlled Light</a> (Romanian page)</li></ul><p>下面是一些用 IRremote的实例：</p><ul><li><p><a href=https://blog.csdn.net/zuoheizhu/article/details/87452110>Arduino-IRremote-红外遥控器,发射与接收</a></p></li><li><p><a href=https://www.ncnynl.com/archives/201606/84.html>Arduino红外传感器-IR Transmitter Module红外发射模块</a></p></li><li><p><a href=https://www.arduino.cn/thread-1394-1-1.html>Arduino教程（提高篇）——红外遥控(发射篇)</a></p></li><li><p><a href=http://www.geek-workshop.com/thread-3444-1-1.html>Arduino红外遥控系列教程</a> 一共有6篇</p></li><li></li></ul><h1 id=红外编码>红外编码</h1><p>IRremote有如下几种编码：</p><p>NEC: 32 bits are transmitted, most-significant bit first. (<a href=http://www.sbprojects.com/knowledge/ir/nec.php>protocol details</a>)</p><p>Sony: 12 or more bits are transmitted, most-significant bit first. Typically 12 or 20 bits are used. Note that the official protocol is least-significant bit first. (<a href=http://www.sbprojects.com/knowledge/ir/sirc.php>protocol details</a>) For more details, I&rsquo;ve written an article that describes the Sony protocol in much more detail: <a href=http://www.arcfn.com/2010/03/understanding-sony-ir-remote-codes-lirc.html>Understanding Sony IR remote codes</a>.</p><p>RC5: 12 or more bits are transmitted most-significant bit first. The message starts with the two start bits, which are not part of the code values. (<a href=http://www.sbprojects.com/knowledge/ir/rc5.php>protocol details</a>)</p><p>RC6: 20 (typically) bits are transmitted, most-significant bit first. The message starts with a leader pulse, and a start bit, which is not part of the code values. The fourth bit is transmitted double-wide, since it is the trailer bit. (<a href=http://www.sbprojects.com/knowledge/ir/rc6.php>protocol details</a>)</p><p>For Sony and RC5/6, each transmission must be repeated 3 times as specified in the protocol. The transmission code does not implement the RC5/6 toggle bit; that is up to the caller.</p><h1 id=排除故障>排除故障</h1><p>如果在测试红外接收时，收到的是随机的数据，可以尝试调暗房间的灯光。某些日光灯会对 38kHz红外信号产生干扰。</p></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>