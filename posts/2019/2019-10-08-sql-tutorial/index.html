<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>SQL入门 - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>好物</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>日常</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>主页</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>日常</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2019/2019-10-08-sql-tutorial/>SQL入门</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">SQL入门</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2019-10-08</span>
<a href=/posts/>📂日常</a></div></div><div class="mdstyle highlightjs"><blockquote><p>SQL的简介</p></blockquote><h1 id=介绍>介绍</h1><p>  最近选修了一门 “数据库技术应用”，遂入门了数据库。下面大部分的内容摘自《MySQL 必知必会》，这本书很好，推荐大家去看看，我只讲部分重点内容：</p><ul><li><input checked disabled type=checkbox> 创建数据库</li><li><input checked disabled type=checkbox> 检索数据</li><li><input checked disabled type=checkbox> 排序检索数据</li><li><input checked disabled type=checkbox> 过滤数据</li><li><input disabled type=checkbox> 正则表达式</li><li><input checked disabled type=checkbox> 插入数据</li></ul><p>  我是在 Linux 上安装 MySQL 来学习的，所以下面都是命令行的形式。</p><h1 id=创建数据库>创建数据库</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=n>DATEBASE</span><span class=w> </span><span class=o>&lt;</span><span class=err>数据库名</span><span class=o>&gt;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>创建一个数据库。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=k>IF</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>EXISTS</span><span class=w> </span><span class=o>&lt;</span><span class=err>数据库名</span><span class=o>&gt;</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=kp>CHARSET</span><span class=w> </span><span class=n>utf8</span><span class=w> </span><span class=k>COLLATE</span><span class=w> </span><span class=n>utf8_general_ci</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>创建数据库，该命令的作用：</p><ol><li>如果数据库不存在则创建，存在则不创建。</li><li>创建RUNOOB数据库，并设定编码集为utf8</li></ol><h1 id=删除数据库>删除数据库</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>DROP</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=o>&lt;</span><span class=err>数据库名</span><span class=o>&gt;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>删除数据库。</p><h1 id=选择数据库>选择数据库</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>USE</span><span class=w> </span><span class=o>&lt;</span><span class=err>数据库名</span><span class=o>&gt;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>选择数据库（即打开数据库）</p><h1 id=创建数据表>创建数据表</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=n>column_name</span><span class=w> </span><span class=n>column_type</span><span class=p>,</span><span class=w> </span><span class=p>...);</span><span class=w>
</span></span></span></code></pre></div><p>创建数据表，括号里面可以指定多个<strong>列名</strong>（必需）、<strong>数据类型</strong>（必需）和<strong>约束条件</strong>，还可以指定<strong>主值</strong>、<strong>处理引擎</strong>、<strong>字符集</strong>等。比如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=k>IF</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>EXISTS</span><span class=w> </span><span class=o>`</span><span class=n>runoob_tbl</span><span class=o>`</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=o>`</span><span class=n>runoob_id</span><span class=o>`</span><span class=w> </span><span class=kt>INT</span><span class=w> </span><span class=k>UNSIGNED</span><span class=w> </span><span class=kp>AUTO_INCREMENT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=o>`</span><span class=n>runoob_title</span><span class=o>`</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=o>`</span><span class=n>runoob_author</span><span class=o>`</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>40</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=o>`</span><span class=n>submission_date</span><span class=o>`</span><span class=w> </span><span class=kt>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=o>`</span><span class=n>runoob_id</span><span class=o>`</span><span class=w> </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=kp>ENGINE</span><span class=o>=</span><span class=n>InnoDB</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=kp>CHARSET</span><span class=o>=</span><span class=n>utf8</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h1 id=删除数据表>删除数据表</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>DROP</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><h1 id=检索数据>检索数据</h1><h2 id=select-语句>SELECT 语句</h2><h3 id=检索列>检索列</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=mi>1</span><span class=err>，列</span><span class=mi>2</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><h3 id=检索所有列>检索所有列</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><p><code>*</code> 是通配符，可以匹配多个名字</p><p>如果后面有多个表，则结果是表相乘</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>列</span><span class=mi>1</span><span class=err>，列</span><span class=mi>2</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><h3 id=检索不同行>检索不同行</h3><p>如果要删除列中的重复行，可以用：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=err>列</span><span class=mi>1</span><span class=err>，列</span><span class=mi>2</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><p>这要就会删去 “列1，列2” 这两个属性相同的重复行</p><p><code>DISTINCE</code> 只能放在列名的前面，并且要应用于列出的所有列。</p><h3 id=限定表名>限定表名</h3><p>如果列在多个表内，则在同时检索这两个表时，需要在列名前面加上限制表名：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>表</span><span class=p>.</span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=mi>1</span><span class=err>，表</span><span class=mi>2</span><span class=w>
</span></span></span></code></pre></div><h2 id=like-语句>LIKE 语句</h2><p>如果要搜索特定特征的文本，可以使用 LIKE 语句：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s2>&#34;匹配文本&#34;</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>注：特殊的是，如果匹配文本中没有统配符，则即使列中的值完全等于匹配文本，也不会有输出</p></blockquote><h3 id=通配符>通配符</h3><p>MySQL 中有三种通配符：</p><ol><li><code>%</code> 匹配 0~n 个任意字符</li><li><code>_</code> 匹配 1 个任意字符</li></ol><h2 id=正则表达式>正则表达式</h2><p>正则表达式和 <code>LIKE</code> 语句相类似：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>REGEXP</span><span class=w> </span><span class=s2>&#34;匹配模式&#34;</span><span class=w>
</span></span></span></code></pre></div><h1 id=排序数据>排序数据</h1><h2 id=order-by-语句>ORDER BY 语句</h2><p>在 <code>SELECT ... FROM ... WHERE ...</code> 后面加上 <code>ORDER BY</code>，可以将数据按一定顺序输出：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=err>判断语句</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=err>列</span><span class=w>
</span></span></span></code></pre></div><h3 id=多个列排序>多个列排序</h3><h3 id=排序方向>排序方向</h3><h3 id=heading></h3><h1 id=过滤数据>过滤数据</h1><h2 id=where-语句>WHERE 语句</h2><p>使用 <code>SELECT</code> 会检索所有行，如果要提取特定的行，可以用 <code>WHERE</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=mi>1</span><span class=err>，列</span><span class=mi>2</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=err>判断语句</span><span class=w>
</span></span></span></code></pre></div><h2 id=操作符>操作符</h2><table><thead><tr><th>操作符</th><th>说明</th></tr></thead><tbody><tr><td>=</td><td>等于</td></tr><tr><td>&lt;> 或 !=</td><td>不等于</td></tr><tr><td>&lt;，&lt;= ，>，>=</td><td>小于，小于或等于，大于，大于或等于</td></tr><tr><td>BETWEEN value1 AND value2</td><td>在指定值之间（包括两端）</td></tr><tr><td>IS NULL</td><td>是空值</td></tr></tbody></table><h2 id=逻辑符>逻辑符</h2><table><thead><tr><th>操作符</th><th>说明</th></tr></thead><tbody><tr><td>AND</td><td>与</td></tr><tr><td>OR</td><td>或</td></tr><tr><td>NOT</td><td>非</td></tr></tbody></table><blockquote><p>注：在 MySQL 中，NOT 只能对 IN, BETWEEN, EXISTS 取反，但在 SQL Server 中，NOT 可以对各种条件取反。</p></blockquote><p>示例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=err>条件</span><span class=mi>1</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=err>条件</span><span class=mi>2</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=err>条件</span><span class=mi>1</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=err>条件</span><span class=mi>2</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>列</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>IN</span><span class=o>/</span><span class=k>BETWEEN</span><span class=o>/</span><span class=k>EXISTS</span><span class=w>
</span></span></span></code></pre></div><p>优先级：（和大多数 SQL 语言一样）在 MySQL 中，AND 的优先级大于 OR 的优先级。可以通过括号改变优先级。</p><h1 id=汇总数据>汇总数据</h1><p>用于计算数据的和、平均值等。</p><h2 id=聚集函数>聚集函数</h2><p>聚集函数作用在一个 行组 上，计算并返回一个值，包括：</p><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>AVG( )</td><td>平均值</td></tr><tr><td>COUNT( )</td><td>行数</td></tr><tr><td>MAX( )</td><td>最大值</td></tr><tr><td>MIN( )</td><td>最小值</td></tr><tr><td>SUM( )</td><td>和</td></tr></tbody></table><blockquote><p>注：</p><ol><li><code>AVG( )</code> 只能用于单列，要用于多列，要用多个 <code>AVG( )</code></li><li><code>COUNT(*)</code> 会包括空行，但 <code>COUNT(column)</code> 则不包括空行</li><li><code>MAX( )</code> 会返回数字或日期的最大值，对于文本，返回最后一行。</li></ol></blockquote><p>示例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=err>列</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=err>别名</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w> </span><span class=c1>#给结果提供一个别名，方便使用
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=err>别名</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表</span><span class=w>
</span></span></span></code></pre></div><h1 id=插入数据>插入数据</h1><h2 id=插入行>插入行</h2><p>插入可以使用 <code>INSERT</code> 语句，它要求指定表明和插入的行的值：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>sustomers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>VALUES</span><span class=p>(</span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Todd&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;CN&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><code>INSERT</code> 语句不会产生输出，如果列没有值，则要使用 NULL 值，上面的值的顺序取决于表中定义的列的顺序，因此这种 <code>INSERT</code> 语句很不安全，推荐使用更安全的方法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=nf>customers</span><span class=p>(</span><span class=n>cust_address</span><span class=p>,</span><span class=w> </span><span class=n>cust_name</span><span class=p>,</span><span class=w> </span><span class=n>cust_conutry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>VALUES</span><span class=p>(</span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Todd&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;CN&#39;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>这样 VALUES 中的值的顺序对应前面的列名顺序。</p><p>但无论上面哪种语法，都必须给出 VALUES 的正确数目，对于某些列，如果满足以下一个条件，则可以省略：</p><ol><li>该列允许为空值</li><li>在表定义中给出默认值</li></ol><p>如果要插入多个行，只需将每组值用圆括号括起来，用逗号分隔，统一放在 VALUES 后面：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=nf>customers</span><span class=p>(</span><span class=n>cust_address</span><span class=p>,</span><span class=w> </span><span class=n>cust_name</span><span class=p>,</span><span class=w> </span><span class=n>cust_conutry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>VALUES</span><span class=p>(</span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Todd&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;CN&#39;</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Andy&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;USA&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h2 id=复制行>复制行</h2><p>我们可以用 SELECT 代替 VALUES，将其他表的行复制到选中的表：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=nf>customers</span><span class=p>(</span><span class=n>cust_address</span><span class=p>,</span><span class=w> </span><span class=n>cust_name</span><span class=p>,</span><span class=w> </span><span class=n>cust_conutry</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>cust_address</span><span class=p>,</span><span class=w> </span><span class=n>cust_name</span><span class=p>,</span><span class=w> </span><span class=n>cust_conutry</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>custnew</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h1 id=使用游标>使用游标</h1><p>前面说过，<code>SELECT</code> 操作返回的是结果的集合，如果要选中其中一行，则需要用游标（相当于鼠标点击），游标可以在数据中滚动，这个主要用于于交互式应用。</p><p>使用游标的步骤：</p><ol><li>声明游标</li><li>打开游标</li><li>读取游标</li><li>关闭游标</li></ol><h2 id=声明游标>声明游标</h2><p>语句如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>DECLARE</span><span class=w> </span><span class=p>[</span><span class=err>游标名</span><span class=p>]</span><span class=w> </span><span class=k>CURSOR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FOR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=p>...;</span><span class=w>
</span></span></span></code></pre></div><h2 id=打开关闭游标>打开/关闭游标</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>OPEN</span><span class=w> </span><span class=p>[</span><span class=err>游标名</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>CLOSE</span><span class=w> </span><span class=p>[</span><span class=err>游标名</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><h2 id=使用游标-1>使用游标</h2><p>游标打开后，位于 -1 行，即位于第一条数据的前面。我们用 <code>FETCH</code> 语句读取下一行：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>FETCH</span><span class=w> </span><span class=p>[</span><span class=err>游标名</span><span class=p>]</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=p>[</span><span class=err>表</span><span class=p>]</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=p>[</span><span class=err>变量</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>