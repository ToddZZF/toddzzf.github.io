<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.7.0/style.css><link rel=stylesheet href=/css/tailwindcss/output.css><link rel=stylesheet href=/css/mdstyle.css><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script id=highlightjs src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js async></script>
<script>document.getElementById("highlightjs").addEventListener("load",function(){hljs.highlightAll()})</script><title>WSL手册 - Todd's Blog</title></head><body class="font-kai bg-neutral-50 antialiased"><header class="w-full text-gray-700 bg-white dark-mode:text-gray-200 dark-mode:bg-gray-800 shadow-sm"><div x-data="{ open: false }" class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="p-4 flex flex-row items-center justify-between"><a href=/ class="text-lg tracking-wider text-gray-900 uppercase rounded-lg dark-mode:text-white">Todd's Blog</a>
<button class="md:hidden rounded-lg focus:outline-none focus:drop-shadow-sm" @click="open = !open"><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow pb-4 md:pb-0 hidden md:flex md:justify-end md:flex-row"><a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/goodstuffs/>好物</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:bg-gray-700 dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href=/posts/>日常</a></nav></div></header><main><div class="max-w-screen-lg w-full mx-auto py-8 px-4 flex flex-col gap-4"><div class="breadcrumb w-full bg-white py-2 px-4 shadow-sm"><ul class="flex align-baseline flex-wrap"><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/>主页</a></li><li class="after:content-['>'] after:mr-0.5 after:text-gray-300 whitespace-nowrap"><a href=http://example.org/posts/>日常</a></li><li class="active whitespace-nowrap"><a href=http://example.org/posts/2023/2023-06-13-wsl-manual.md/>WSL手册</a></li></ul></div><div class="w-full mx-auto py-8"><div class="text-4xl font-semibold">WSL手册</div><div class="flex gap-2 text-sm flex-wrap"><span class=post-date>2023-06-13</span>
<a href=/posts/>📂日常</a></div></div><div class="mdstyle highlightjs"><h2 id=wsl-简介>WSL 简介</h2><p>WSL（Windows Subsystem for Linux），中文为“适用于 Linux 的 Windows 子系统”，是 Windows 自带的虚拟机，利用这个我们可以方便地在 Windows 上安装 Linux 系统。</p><h2 id=安装>安装</h2><p>安装过程可以参考 <a href=https://learn.microsoft.com/zh-cn/windows/wsl/install>使用 WSL 在 Windows 上安装 Linux</a>，简单来说就是打开 Hyper-V（在“启用或关闭 Windows 功能”里），然后运行</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-install</span>
</span></span></code></pre></div><p>默认情况下安装 Ubuntu，也可以指定特定的 Linux 发行版：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-install</span> <span class=n>-d</span> <span class=p>&lt;</span><span class=n>Distribution</span> <span class=n>Name</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><code>&lt;&lt;Distribution Name></code> 可以用 <code>wsl --list --online</code> 来查看，目前可用的系统为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>NAME</span>                                   <span class=n>FRIENDLY</span> <span class=n>NAME</span>
</span></span><span class=line><span class=cl><span class=n>Ubuntu</span>                                 <span class=n>Ubuntu</span>
</span></span><span class=line><span class=cl><span class=n>Debian</span>                                 <span class=n>Debian</span> <span class=n>GNU</span><span class=p>/</span><span class=n>Linux</span>
</span></span><span class=line><span class=cl><span class=nb>kali-linux</span>                             <span class=n>Kali</span> <span class=n>Linux</span> <span class=n>Rolling</span>
</span></span><span class=line><span class=cl><span class=n>Ubuntu</span><span class=p>-</span><span class=mf>18.04</span>                           <span class=n>Ubuntu</span> <span class=mf>18.04</span> <span class=n>LTS</span>
</span></span><span class=line><span class=cl><span class=n>Ubuntu</span><span class=p>-</span><span class=mf>20.04</span>                           <span class=n>Ubuntu</span> <span class=mf>20.04</span> <span class=n>LTS</span>
</span></span><span class=line><span class=cl><span class=n>Ubuntu</span><span class=p>-</span><span class=mf>22.04</span>                           <span class=n>Ubuntu</span> <span class=mf>22.04</span> <span class=n>LTS</span>
</span></span><span class=line><span class=cl><span class=n>OracleLinux_7_9</span>                        <span class=n>Oracle</span> <span class=n>Linux</span> <span class=mf>7.9</span>
</span></span><span class=line><span class=cl><span class=n>OracleLinux_8_7</span>                        <span class=n>Oracle</span> <span class=n>Linux</span> <span class=mf>8.7</span>
</span></span><span class=line><span class=cl><span class=n>OracleLinux_9_1</span>                        <span class=n>Oracle</span> <span class=n>Linux</span> <span class=mf>9.1</span>
</span></span><span class=line><span class=cl><span class=nb>SUSE-Linux</span><span class=n>-Enterprise-Server</span><span class=p>-</span><span class=mf>15</span><span class=n>-SP4</span>    <span class=n>SUSE</span> <span class=n>Linux</span> <span class=n>Enterprise</span> <span class=n>Server</span> <span class=mf>15</span> <span class=n>SP4</span>
</span></span><span class=line><span class=cl><span class=nb>openSUSE-Leap</span><span class=p>-</span><span class=mf>15.4</span>                     <span class=n>openSUSE</span> <span class=n>Leap</span> <span class=mf>15.4</span>
</span></span><span class=line><span class=cl><span class=nb>openSUSE-Tumbleweed</span>                    <span class=n>openSUSE</span> <span class=n>Tumbleweed</span>
</span></span></code></pre></div><p>可以同时安装不同的发行版，但每个发行版都只能安装一个，如果想安装多个，需要一些特殊手段，并且或多或少都存在问题，在此不再介绍。不同发行版会有自己的 Terminal，因此无需担心切换问题。</p><h2 id=关闭与卸载>关闭与卸载</h2><p>关闭所有虚拟机：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-shutdown</span>
</span></span></code></pre></div><p>关闭特定的发行版：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-terminate</span> <span class=p>&lt;</span><span class=n>Distribution</span> <span class=n>Name</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>卸载特定发行版：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-unregister</span> <span class=p>&lt;</span><span class=n>DistributionName</span><span class=p>&gt;</span>
</span></span></code></pre></div><h2 id=开机自启>开机自启</h2><p>WSL 默认是开机不自启的，若需要开机自启，可以参考：<a href=https://zhuanlan.zhihu.com/p/471272756>WSL2及服务自启动</a></p><h2 id=gui程序>GUI程序</h2><p>现在 WSL 直接就支持 GUI 程序，直接安装应用程序即可，比如 <code>sudo apt install VLC</code></p></div></div></main><script src=https://tokinx.github.io/lately/lately.min.js></script>
<script>window.Lately&&Lately.init({target:".post-date"})</script></body></html>