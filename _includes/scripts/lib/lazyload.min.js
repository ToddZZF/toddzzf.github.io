!function(){var Set=function(){var add=function(item){var i,data=this._data;for(i=0;i<data.length;i++)if(data[i]===item)return;return this.size++,data.push(item),data},Set=function(data){var i;if(this.size=0,this._data=[],data.length>0)for(i=0;i<data.length;i++)add.call(this,data[i])};return Set.prototype.add=add,Set.prototype.get=function(index){return this._data[index]},Set.prototype.has=function(item){var i,data=this._data;for(i=0;i<data.length;i++)if(this.get(i)===item)return!0;return!1},Set.prototype.is=function(map){if(map._data.length!==this._data.length)return!1;var i,j,flag,tData=this._data,mData=map._data;for(i=0;i<tData.length;i++){for(flag=!1,j=0;j<mData.length;j++)if(tData[i]===mData[j]){flag=!0;break}if(!flag)return!1}return!0},Set.prototype.values=function(){return this._data},Set}();window.Lazyload=function(doc){var queue={js:[],css:[]},sources={js:{},css:{}},context=this,createNode=function(name,attrs){var node=doc.createElement(name),attr;for(attr in attrs)attrs.hasOwnProperty(attr)&&node.setAttribute(attr,attrs[attr]);return node},end=function(type,url){var s,q,qi,cbs,i,j,cur,val,flag;if("js"===type||"css"===type)for(q=queue[type],(s=sources[type])[url]=!0,i=0;i<q.length;i++)if((cur=q[i]).urls.has(url)){for(val=(qi=cur).urls.values(),qi&&(cbs=qi.callbacks),flag=!0,j=0;j<val.length;j++)s[cur=val[j]]||(flag=!1);if(flag&&cbs&&cbs.length>0){for(j=0;j<cbs.length;j++)cbs[j].call(context);qi.load=!0}}},load=function(type,urls,callback){var s,q,qi,node,i,cur,_urls=new Set("string"==typeof urls?[urls]:urls),val,url;if("js"===type||"css"===type){for(s=sources[type],q=queue[type],i=0;i<q.length;i++)if(cur=q[i],_urls.is(cur.urls)){qi=cur;break}if(val=_urls.values(),qi)callback&&(qi.load||qi.callbacks.push(callback)),callback&&qi.load&&callback();else for(q.push({urls:_urls,callbacks:callback?[callback]:[],load:!1}),i=0;i<val.length;i++)node=null,void 0===s[url=val[i]]&&("js"===type&&(node=createNode("script",{src:url})),"css"===type&&(node=createNode("link",{rel:"stylesheet",href:url})),node&&(node.onload=function(type,url){return function(){end(type,url)}}(type,url),(doc.head||doc.body).appendChild(node),s[url]=!1))}};return{js:function(url,callback){load("js",url,callback)},css:function(url,callback){load("css",url,callback)}}}(this.document)}();