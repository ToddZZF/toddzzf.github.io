<!doctype html><html lang=en><head><meta charset=utf-8><meta name=renderer content="webkit"><meta http-equiv=x-ua-compatible content="IE=Edge,chrome=1"><meta http-equiv=cache-control content="no-siteapp"><meta http-equiv=cache-control content="no-transform"><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name=description content="(Experimental Design)"><link rel="shortcut icon" href=/images/favicon.png><link rel=apple-touch-icon href=/images/favicon.png><meta name=author content="map[]"><title>Todd's Blog | 从 Jekyll 迁移到 Hugo</title><link rel=stylesheet href=/css/style.css></head><body class="antialiased bg-primary"><div class="flex flex-col sm:flex-row w-full text-white"><div class="sm:fixed w-screen sm:w-4/12 lg:w-3/12 h-screen p-4 bg-secondary bg-cover bg-center" style=background-image:url(/images/bg.png)><div class="flex flex-col justify-center items-center space-y-3 w-full h-full text-center text-white"><div><img class="w-3/12 sm:w-4/12 h-auto aspect-square m-auto rounded-[50%]" src=/images/avatar.png alt=Todd></div><div><a class="text-3xl font-semibold hover:text-accent" href=/>Todd's Blog</a></div><div class=item-center><p class="text-lg font-medium">(Experimental Design)</p></div><div class=pt-5><ul class=text-3xl><li class="inline-block hover:text-accent"><a class=p-3 href=/><i class="fas fa-envelope"></i></a></li><li class="inline-block hover:text-accent"><a class=p-3 href=/about><i class="fab fa-youtube"></i></a></li><li class="inline-block hover:text-accent"><a class=p-3 href=https://github.com/ToddZZF><i class="fab fa-github"></i></a></li><li class="inline-block hover:text-accent"><a class=p-3 href=/about><i class="fab fa-weixin"></i></a></li></ul></div></div></div><div class="flex flex-col w-screen sm:w-8/12 lg:w-6/12 sm:ml-[33.3%] lg:ml-[25%] p-6 md:p-12 bg-primary"><div class="text-3xl font-semibold">从 Jekyll 迁移到 Hugo</div><div class="mb-4 text-base text-[#868E96]">May 30, 2022</div><div class="article relative"><blockquote><p>翻译自 <a href=https://chenhuijing.com/blog/migrating-from-jekyll-to-hugo/>Migrating from Jekyll to Hugo</a></p><p>因为文章太长了，所以只提炼要点。</p></blockquote><h2 id=迁移-template>迁移 Template</h2><p>首先是在 <code>layouts/_default/</code> 文件夹里建立一个基本 template 叫 <code>baseof.html</code>。这是我的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .Site.LanguageCode }}&#34;</span>&gt;
</span></span><span style=display:flex><span>  {{ partial &#34;head.html&#34; . }}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blender&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blender&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;checkbox&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blend-checkbox&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blendToggle&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>for</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blendToggle&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blend-toggle&#34;</span>&gt;&lt;/<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>    {{ partial &#34;header.html&#34; . }}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span>&gt;
</span></span><span style=display:flex><span>      {{ block &#34;main&#34; . }}{{ end }}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>main</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    {{ partial &#34;footer.html&#34; . }}
</span></span><span style=display:flex><span>    {{ partial &#34;scripts.html&#34; . }}
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><p>原本 Jekyll 的基本布局是：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{% include head.html %}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blender&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blender&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;checkbox&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blend-checkbox&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blendToggle&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>for</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blendToggle&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;blend-toggle&#34;</span>&gt;&lt;/<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>  {% include header.html %}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span>&gt;
</span></span><span style=display:flex><span>    {{ content }}
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>main</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  {% include footer.html %}
</span></span><span style=display:flex><span>{% include foot.html %}
</span></span></code></pre></div><h2 id=在多个地方重复使用-html>在多个地方重复使用 HTML</h2><blockquote><p><code>{% include FILE_NAME.html %}</code> 转换为 <code>{{ partial "FILE_NAME.html" }}</code></p><p><code>{{ site.VARIABLE_NAME }}</code> 转换为 <code>{{ .Site.VARIABLE_NAME }}</code> 或 <code>{{ .Site.Params.VARIABLE_NAME }}</code></p></blockquote><h2 id=template中的条件判断>template中的条件判断</h2><p>在 Jekyll 中，条件判断长这样：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{% if page.is_post and page.hascaniuse %}
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--Do something if condition is true--&gt;</span>
</span></span><span style=display:flex><span>{% endif %}
</span></span></code></pre></div><p>在 Hugo 中，长这样：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ if (and (eq .Type &#34;blog&#34;) (isset .Params &#34;hascaniuse&#34;)) }}
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--Do something if condition is true--&gt;</span>
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><h2 id=根目录下的单个页面比如-about>根目录下的单个页面，比如 About</h2><p>在 <code>content</code> 文件夹下建立 <code>about.md</code>，然后需要在 <code>layout/_default/</code> 内新建一个 <code>single.html</code>，这是我的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ define &#34;main&#34; }}
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>header</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-header&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>h1</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-header__title&#34;</span>&gt;{{ .Params.title }}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-content&#34;</span>&gt;
</span></span><span style=display:flex><span>  {{ .Content }}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><p>原 Jekyll 版本长这样：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>---
</span></span><span style=display:flex><span>layout: default
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>header</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-header&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>h1</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-header__title&#34;</span>&gt;{{ page.title }}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-content&#34;</span>&gt;
</span></span><span style=display:flex><span>  {{ content }}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p>页面变量在 Jekyll 和 Hugo 中都可以使用。</p><blockquote><p><code>{{ page.VARIABLE_NAME }}</code> 转换为 <code>{{ .VARIABLE_NAME }}</code> 或 <code>{{ .Params.VARIABLE_NAME }}</code></p></blockquote><p>但在页面内是无法访问页面变量的，如果需要使用的话，要写一个 <a href=https://gohugo.io/templates/shortcode-templates/>自定义 shortcode</a></p><h2 id=列表页面比如-home-或-posts>列表页面，比如 home 或 posts</h2><p>Hugo 中，列表页面负责列出一系列页面，对应的 template 是 <code>list.html</code></p><p>Jekyll 上的列表页面：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-list&#34;</span>&gt;
</span></span><span style=display:flex><span>  {% for post in site.posts limit:10 %}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;no-list-style&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-meta&#34;</span>&gt;{{ post.date | date: &#34;%b %-d, %Y&#34; }}&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h2</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-title&#34;</span>&gt;
</span></span><span style=display:flex><span>      {% if post.external_url %}
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-link external-url no-underline {{ post.external_site }}&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ post.external_url }}&#34;</span>&gt;{{ post.title }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>      {% else %}
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-link no-underline&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ post.url | prepend: site.baseurl }}&#34;</span>&gt;{{ post.title }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>      {% endif %}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>    {% if post.external_site %}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;note italicise&#34;</span>&gt;This article was originally published on {{ site.data.publications[post.external_site].name }}.&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>    {% endif %}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-summary&#34;</span>&gt;{{ post.content | markdownify | strip_html | truncatewords:20 }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>  {% endfor %}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><p>Hugo 上的列表页面：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-list&#34;</span>&gt;
</span></span><span style=display:flex><span>  {{ range $page := first 10 (where .Site.RegularPages &#34;Section&#34; &#34;in&#34; .Site.Params.mainSections) }}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;no-list-style&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-meta&#34;</span>&gt;{{ .Date.Format &#34;Jan 2, 2006&#34; }}&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h2</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-title&#34;</span>&gt;
</span></span><span style=display:flex><span>      {{ if .Params.external_url }}
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-link external-url no-underline {{ .Params.external_site }}&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .Params.external_url }}&#34;</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>      {{ else }}
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-link no-underline&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .Permalink }}&#34;</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>      {{ end }}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>    {{ if .Params.external_site }}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;note italicise&#34;</span>&gt;This article was originally published on {{ (index .Site.Data.publications .Params.external_site).name }}.&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>    {{ end }}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-summary&#34;</span>&gt;{{ .Summary | truncate 130 }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>  {{ end }}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><p>Hugo 文档中的建议是使用 <code>site.Params.mainSections</code> 而不是强行设为某个文件名：</p><blockquote><p><code>{% for post in site.posts limit:10 %}{% endfor %}</code> 转换为 <code>{{ range $page := first 10 (where .Site.RegularPages "Section" "in" .Site.Params.mainSections) }}{{ end }}</code></p></blockquote><p>日期格式化也不同：</p><blockquote><p><code>{{ post.date | date: "%b %-d, %Y" }}</code> 转换为 <code>{{ .Date.Format "Jan 2, 2006" }}</code></p></blockquote><p>Jekyll 和 Hugo 都可以生成摘要：</p><blockquote><p><code>{{ post.content | markdownify | strip_html | truncatewords:20 }}</code> 转换为 <code>{{ .Summary | truncate 130 }}</code></p></blockquote><h2 id=tags>Tags</h2><p>我的 Jekyll tag 长这样：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{% if post.tags.size &gt; 0 %}
</span></span><span style=display:flex><span>  {% capture tags_content %}
</span></span><span style=display:flex><span>  {% if post.tags.size == 1 %}
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon icon--tag&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>svg</span>&gt;<span style=color:#75715e>&lt;!--It&#39;s an inline SVG okay? Brevity here--&gt;</span>&lt;/<span style=color:#f92672>svg</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>  {% else %}
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon icon--tags&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>svg</span>&gt;<span style=color:#75715e>&lt;!--It&#39;s an inline SVG okay? Brevity here--&gt;</span>&lt;/<span style=color:#f92672>svg</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>  {% endif %}
</span></span><span style=display:flex><span>  {% endcapture %}
</span></span><span style=display:flex><span>  {% for post_tag in post.tags %}
</span></span><span style=display:flex><span>    {% assign tag = site.data.tags[post_tag] %}
</span></span><span style=display:flex><span>    {% if tag %}
</span></span><span style=display:flex><span>    {% capture tags_content_temp %}
</span></span><span style=display:flex><span>      {{ tags_content }}
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-content__tag small&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/blog/{{ post_tag }}/&#34;</span>&gt;{{ tag.name }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>      {% if forloop.last == false %}, {% endif %}
</span></span><span style=display:flex><span>    {% endcapture %}
</span></span><span style=display:flex><span>    {% assign tags_content = tags_content_temp %}
</span></span><span style=display:flex><span>    {% endif %}
</span></span><span style=display:flex><span>  {% endfor %}
</span></span><span style=display:flex><span>{% else %}
</span></span><span style=display:flex><span>  {% assign tags_content = &#39;&#39; %}
</span></span><span style=display:flex><span>{% endif %}
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-meta&#34;</span>&gt;{{ tags_content }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span></code></pre></div><p>Hugo 中的实现要更简单：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-meta&#34;</span>&gt;
</span></span><span style=display:flex><span>  {{ $count := (len .Params.tags) }}
</span></span><span style=display:flex><span>  {{ if gt $count 1 }} 
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon icon--tags&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>svg</span>&gt;<span style=color:#75715e>&lt;!--It&#39;s an inline SVG okay? Brevity here--&gt;</span>&lt;/<span style=color:#f92672>svg</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>  {{ else }}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon icon--tag&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>svg</span>&gt;<span style=color:#75715e>&lt;!--It&#39;s an inline SVG okay? Brevity here--&gt;</span>&lt;/<span style=color:#f92672>svg</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>  {{ end }}
</span></span><span style=display:flex><span>  {{ range $i, $e := .Params.tags }}
</span></span><span style=display:flex><span>    {{ if $i }}, {{ end }}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-content__tag small&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{ &#34;/tags/&#34; | relLangURL }}{{ . | urlize }}&#39;</span>&gt;{{ $e }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>  {{ end }}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>p</span>&gt;
</span></span></code></pre></div><h2 id=data-文件>Data 文件</h2><blockquote><p><code>{{ site.data.DATA_FILE_NAME }}</code> 转化为 <code>{{ .Site.Data.DATA_FILE_NAME }}</code></p></blockquote></div><hr class=my-6><footer class="text-base text-[#868E96]"><small>&copy; 0001 - 2022 <a href=https://toddzzf.github.io class="underline hover:text-accent">Todd</a>. All rights reserved.
Powered by <a href=https://gohugo.io/ class="underline hover:text-accent">Hugo</a> & <a href=https://github.com/vszhub/not-pure-poole class="underline hover:text-accent">Not Pure Poole</a>.</small></footer></div></div></body><link href=https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.3/css/all.min.css rel=stylesheet><link href=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css rel=stylesheet><script src=https://cdn.bootcdn.net/ajax/libs/highlight.js/11.4.0/highlight.min.js></script>
<script>hljs.highlightAll()</script></html>