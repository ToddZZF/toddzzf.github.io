---
layout: post
title: 3 写一个简单的head
date: 2021-11-26 11:06:00 +0800
category: document
thumbnail: /assets/images/thumbnail/twilight_sparkle.png
icon: book
excerpt: 开始丰富咱的网页
---

* Content
{:toc}

## HTML头部

根据规范，一个基本的 HTML 文档应该是这样的：

```html
<html>

<head>
    <title>文档的标题</title>
</head>

<body>
    文档的内容
</body>

</html>
```

本节就简单介绍一下如何写 `<head>` 部分。

首先，在 `_includes` 文件夹中新建一个 `head.html` 文件。根据 head 的格式，首先写：

```html
<head>

</head>
```

中间写什么呢？目前我们不需要考虑什么SEO，什么兼容性，我这里只给出一些基础的，以后我们再根据需要添加。

### 字符编码

声明文档使用的字符编码，现在都是 utf-8

```html
<meta charset="utf-8">
```

### 浏览器内核

让国产浏览器和 IE 使用 chrome 内核。

```html
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
```

### 禁止转码

避免百度乱改，避免中间代理对资源进行转换

```html
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta http-equiv="Cache-Control" content="no-transform" />
```

### 响应式布局

让网站适应不同大小的屏幕

```html
<meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
```

### 标题

```html
<title>your title</title>
```

为了方便自定义，而且不同页面的 title 也有所不同，所以我们一般这样写：

{% raw %}
```html
<title>{{ page.title | default: site.title }}</title>
```
{% endraw %}

这表示如果有 `page.title` 就用它，没有就用 `site.title`。另外，我们也需要在 `_config.yml` 中加这么一行，用来设置 title：

```yml
title: your title
```

当然，你也可以设计其他标题样式，比如像 “我的博客 - 首页”、“我的博客 - 博文”，那么可以写：

{% raw %}
```html
<title>
    {% if page.title %}
        {{ site.title | append: " - " | append: page.title }}
    {% else %}
        {{ site.title }}
    {% endif %}
</title>
```
{% endraw %}

### 描述

```html
<meta name="description" content="your description">
```

和上面的 title 一样，也可以利用 `_config.yml` 来设置。

{% raw %}
```html
<meta name="description" content="{{site.description}}">
```
{% endraw %}

## jekyll-seo-tag

Jekyll 官方为了方便写头部，设计了 [jekyll-seo-tag](https://github.com/jekyll/jekyll-seo-tag) 插件。如果你希望你的博客 SEO 优化，那么我强烈建议使用这个插件。

首先需要安装该插件，在 `Genfile` 中添加 `gem 'jekyll-seo-tag'`，同时在 `_config.yml` 中添加：

```yml
plugins:
  - jekyll-seo-tag
```

这个插件用起来很简单。在 `head.html` 中加这么一行：

{% raw %}
```html
<head>
    {% seo %}
</head>
```
{% endraw %}

然后在 `_config.yml` 中添加网站信息：

```yml
title: Jekyll-DIY # 网站标题，用作标题栏，比如 "HOME | jekyll-diy"（HOME 是 page.title）
tagline: Design your own site # 标题栏中的简短描述，当 page.title 未定义时，标题栏为 "jekyll-diy | Design your own site"
description: All you need to learn about designing your own site. # 网站的描述，当鼠标放在标题栏时会显示。
    # 另外，当 page.title 和 site.title 都未定义时，也会用作标题栏
url: https://jekyll-diy.github.io # 网站的完整网址，默认是 site.github.url
```

就可以啦！这样的话我们就不用在 head 中写标题、描述了。将其他 meta 信息的结合一下，我们可以写这样一个头：

{% raw %}
```html
<!-- head.html -->
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    {% seo %}
</head>
```
{% endraw %}

然后把这个头加入 `/_layout/default.html` 中：

{% raw %}
```html
<!DOCTYPE html>
<html>

{% include head.html %}

<body>
    {{ content }}
</body>

</html>
```
{% endraw %}

最终生成的博文源码如下：

```html
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Jekyll-DIY | Design your own site</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Jekyll-DIY" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="All you need to learn about designing your own site." />
<meta property="og:description" content="All you need to learn about designing your own site." />
<link rel="canonical" href="https://jekyll-diy.github.io/" />
<meta property="og:url" content="https://jekyll-diy.github.io/" />
<meta property="og:site_name" content="Jekyll-DIY" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Jekyll-DIY" />
<script type="application/ld+json">
{"description":"All you need to learn about designing your own site.","url":"https://jekyll-diy.github.io/","@type":"WebSite","headline":"Jekyll-DIY","name":"Jekyll-DIY","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
    <p>以下是我的博文：</p>

<ul>
    
    <li><a href="/2021/11/24/hello-world.html">Hello World</a></li>
    
</ul>
</body>

</html>
```

其中，`<meta property="og:...">` 是 Open Graph Protocol（开放图谱协议），这样可以让我们的网站在 Facebook、Twitter 上以更美观的方式分享。但是，微信、QQ 不支持，所以我觉得这个没啥必要。最终我还是决定不用 jekyll-seo-tag。

## 我的样式

{% raw %}
```html
<!-- head.html -->
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="{{- page.description | default: site.description -}}">
    <meta name="author" content="{{- page.author | default: site.author -}}">
    <title>
        {%- if page.title -%}
            {{- page.title | append: " | " | append: site.title -}}
        {%- else -%}
            {{- site.title -}}
        {%- endif -%}
    </title>
</head>
```
{% endraw %}

这里考虑了 page 和 site 可能会有差异，所以 description 和 author 不完全用 site 中的。

## 参考

[HTML head 头标签](http://fex.baidu.com/blog/2014/10/html-head-tags/)