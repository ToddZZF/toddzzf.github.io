<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Todd's Blog</title><link>https://todd.scuteee.com/</link><description>Recent content on Todd's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 10 Jul 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://todd.scuteee.com/index.xml" rel="self" type="application/rss+xml"/><item><title>乘法</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/</guid><description>&lt;h1 id="乘法器">乘法器&lt;/h1>
&lt;h2 id="简单乘法器">简单乘法器&lt;/h2>
&lt;p>按照小学的写法，乘法首先是用下面那个数的每一位，去乘上面那个数，得到部分积（partial products）。然后把得到的结果相加。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/multiply_general_form.png"
width="1149"
height="818"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/multiply_general_form_hu3447903b63b9bd3ea7574854526c2b69_106203_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/multiply_general_form_hu3447903b63b9bd3ea7574854526c2b69_106203_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="乘法器原理"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>&lt;/p>
&lt;p>为了简化，用“点”来表示：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/dot_notation.png"
width="1081"
height="759"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/dot_notation_hu8e9d1dae1a92fa83eac040d9b82da9c3_157966_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/dot_notation_hu8e9d1dae1a92fa83eac040d9b82da9c3_157966_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="dot notation"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="341px"
>&lt;/p>
&lt;ul>
&lt;li>点的数量即所需的门的数量&lt;/li>
&lt;li>行数（或高度）就是延迟&lt;/li>
&lt;/ul>
&lt;p>每个点可以看作是一个 1bit乘以1bit 的乘法，可以用一个与门来表示，而点与点之间的连线则是加法器。因此总的延时为：&lt;/p>
&lt;p>$$
T = [(M-1)+(N-2)]t_{carry}+(N-1)t_{sum}+t_{AND}
$$&lt;/p>
&lt;ul>
&lt;li>$M$ 是被乘数的位数（也就是上面那个数，即每行的宽度）&lt;/li>
&lt;li>$N$ 是乘数的位数（也就是行数）&lt;/li>
&lt;li>箭头方向向左就是一个 $t_{carry}$&lt;/li>
&lt;li>箭头方向向下就是一个 $t_{sum}$&lt;/li>
&lt;li>$t_{AND}$ 是最开始的相乘&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/delay_in_array_multiplier.png"
width="942"
height="701"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/delay_in_array_multiplier_hu03f22355769f492b0fbdeafb460feccc_177399_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/delay_in_array_multiplier_hu03f22355769f492b0fbdeafb460feccc_177399_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="乘法阵列的延迟"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;p>可以看出，$t_{carry}$（进位）消耗了大量时间，因为每一级都要等上一级的 carry 算出来后才开始算。因此我们不妨改变一下 carry 的接法，把它接到下一级（P.S. 下图没有问题，只是没有把 $z_2,z_1,z_0$ 标出来而已）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/carry_save_multiplier.png"
width="1169"
height="750"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/carry_save_multiplier_hu73df3c55cdd84183370a7ccb2b3dc2e1_105096_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/carry_save_multiplier_hu73df3c55cdd84183370a7ccb2b3dc2e1_105096_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="进位保存加法器"
class="gallery-image"
data-flex-grow="155"
data-flex-basis="374px"
>&lt;/p>
&lt;p>延迟为：&lt;/p>
&lt;p>$$
T = t_{AND} + (N-1)t_{carry}+t_{merge}
$$&lt;/p>
&lt;ul>
&lt;li>$t_{merge}$ 是最下面的 Vector Merging Adder 的时间。&lt;/li>
&lt;li>这里不考虑 $t_{sum}$ 是因为我们认为 $t_{sum}$ 和 $t_{carry}$ 是同时发生的，且 $t_{sum}\leq t_{carry}$。并且我们这里没有走向下的箭头。&lt;/li>
&lt;/ul>
&lt;p>但是上面还有一个问题，就是要做加法的次数太多了。假如我们要算 $A+B+C+D+E+F$对比下面两种做法：&lt;/p>
&lt;ol>
&lt;li>旧的方法
&lt;ul>
&lt;li>$S_1=A+B$&lt;/li>
&lt;li>$S_2=S_1+C$&lt;/li>
&lt;li>$S_3=S_2+D$&lt;/li>
&lt;li>$S_4=S_3+E$&lt;/li>
&lt;li>$S=S_4+F$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>更好的方法
&lt;ul>
&lt;li>同时计算：$S_1=A+B$，$S_2=C+D$，$S_3=E+F$&lt;/li>
&lt;li>$S=S_1+S_2+S_3$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>显然，做法2 的高度（层数）更少，算起来也更快。这就是我们下面这种 Wallace Tree 的思想，先减少层数，再算。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Wallace_Tree.png"
width="1110"
height="795"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Wallace_Tree_hu3ca07f4a9e011cf2474d52aa7e69bd93_89630_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Wallace_Tree_hu3ca07f4a9e011cf2474d52aa7e69bd93_89630_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Wallace Tree"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="335px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Wallace_Tree2.png"
width="1182"
height="741"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Wallace_Tree2_hud15639e671980a70ba34c4759e558964_92325_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Wallace_Tree2_hud15639e671980a70ba34c4759e558964_92325_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Wallace Tree"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>&lt;/p>
&lt;p>当然，Wallace Tree 看起来很简洁，但是由于它是不规则的，所以走线会很困难。在此基础上，进一步改进，把两个 &lt;code>FA&lt;/code> 结合成一个 &lt;code>4-2 Compressors&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/4-2-Compressor.png"
width="1071"
height="570"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/4-2-Compressor_hu9be193e577962c1aec4af19c08f8fa2b_109597_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/4-2-Compressor_hu9be193e577962c1aec4af19c08f8fa2b_109597_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="4-2 Compressors"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="450px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/4-2-Compressor_in_multipliers.png"
width="996"
height="809"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/4-2-Compressor_in_multipliers_hu3237dd4ab1bd7470b905f4cb23246b1d_93139_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/4-2-Compressor_in_multipliers_hu3237dd4ab1bd7470b905f4cb23246b1d_93139_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="4-2 Compressors 乘法器"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="295px"
>&lt;/p>
&lt;h2 id="booth编码">Booth编码&lt;/h2>
&lt;p>上面的计算可以进一步改进：&lt;/p>
&lt;ul>
&lt;li>如果是某一位是 0，那么这一位的乘积就是0，我们跳过这个加法&lt;/li>
&lt;li>如果乘数是 0111，我们可以改为用 (100-001)相乘。后者只需要做两次乘法和一次加法&lt;/li>
&lt;/ul>
&lt;p>那么如何实现上面的算法呢？听起来需要复杂的逻辑判断是吧？非也，只需要改变编码就行，下面介绍 Booth 编码。&lt;/p>
&lt;p>对于一个 $n$ 位的数：&lt;/p>
&lt;p>$$
y=-2^{n-1}y_{n-1}+2^{n-2}y_{n-2}+2^{n-3}y_{n-3}+\cdots+y_0
$$&lt;/p>
&lt;p>可以改写成：&lt;/p>
&lt;p>$$
\begin{aligned}
y=&amp;amp;2^{n-2}(-2y_{n-1}+y_{n-2}+y_{n-3})\
&amp;amp;+2^{n-4}(-2y_{n-3}+y_{n-4}+y_{n-5})\
&amp;amp;+\cdots+(-2y_1+y_0+y_{-1})
\end{aligned}
$$&lt;/p>
&lt;p>其中，最高位是符号位，而 $y_{-1}=0$。把括号中的数当作一组新的数，其可能的取值为（下表中左边三列）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Booth_encoding_values.png"
width="590"
height="301"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Booth_encoding_values_hu87e171fd957712184a9e4a59d4140d81_31154_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E4%B9%98%E6%B3%95/images/Booth_encoding_values_hu87e171fd957712184a9e4a59d4140d81_31154_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Booth编码取值"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="470px"
>&lt;/p>
&lt;p>而其对应的操作就是中间 $PP_i$ 列，比如：当 $-2y_1+y_0+y_{-1}=-2$，对应 $P P_i=-2Y$ 就是将被乘数取反、+1、再左移一位（注意如果是负数，那么高位需要补1）。&lt;/p>
&lt;p>因此，我们可以将 $2i+1,2i,2i-1$ 三个数划分为一组，根据上表得到对应操作，然后乘以被乘数，最后再相加。&lt;/p>
&lt;p>Booth编码可以配合 Carry-Save 来使用。&lt;/p>
&lt;p>我们可以进一步扩展 3 位 Booth编码为 4 位的Booth编码，但是这样的话就 $PP_i$ 的情况会很复杂，所以一般不会超过 4 位。&lt;/p></description></item><item><title>存储单元</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/</guid><description>&lt;h2 id="概论">概论&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB.png"
width="1015"
height="598"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB_hu40e6bb6921478865541dfc3beb647fae_83908_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB_hu40e6bb6921478865541dfc3beb647fae_83908_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="存储器的分类"
class="gallery-image"
data-flex-grow="169"
data-flex-basis="407px"
>&lt;/p>
&lt;ul>
&lt;li>RAM：Random Access Memory 随机读写存储器（常说的内存，掉电无数据）&lt;/li>
&lt;li>ROM：Read-Only Memory 只读存储器（一开始是在制造过程中写死，不过现在也有可擦除的，后者包括日常使用的 U盘）&lt;/li>
&lt;/ul>
&lt;h2 id="rom">ROM&lt;/h2>
&lt;h3 id="mask-rom">Mask ROM&lt;/h3>
&lt;p>Mask 只的是掩模版，意识是需要通过修改掩模版来改变存储的值。其实现方式有三种：&lt;/p>
&lt;ul>
&lt;li>OR&lt;/li>
&lt;li>NOR&lt;/li>
&lt;li>NAND&lt;/li>
&lt;/ul>
&lt;p>OR 的实现很简单，所有 BL 默认为 0，所有 WL 默认为 0，选中的 WL 为 1。在需要输出 1 的 BL 上接一个 NMOS，NMOS 一端接 VDD，另一端接 BL，由于输入的 WL=1，NMOS 打开，就会使得对应 BL 为 1.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/OR_ROM.png"
width="1002"
height="811"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/OR_ROM_hu851461cce889c3434d10290984ec8abe_44242_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/OR_ROM_hu851461cce889c3434d10290984ec8abe_44242_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="OR ROM"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="296px"
>&lt;/p>
&lt;p>NOR 和 OR 类似，只不过所有 BL 默认为 1（WL 还是默认为 0）。在需要输出 1 的 BL 上接一个 NMOS，NMOS 一端接 GND，由于输入的 WL=1，NMOS 打开，就会使得对应 BL 为 0.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NOR_ROM.png"
width="948"
height="806"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NOR_ROM_hua88eede2af5f673b49a9e90503093524_45710_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NOR_ROM_hua88eede2af5f673b49a9e90503093524_45710_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="NOR ROM"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="282px"
>&lt;/p>
&lt;p>可以看出，NOR、OR 的实现中，NMOS 管的一端都要接 VDD 或 GND。而 NAND 则不用，其实现方式如下：&lt;/p>
&lt;p>WL 默认为 1，选中的 WL 为 0. 所有 BL 默认为 0。在需要输出 1 的 BL 上接一个 NMOS（注意 NMOS 在 BL 到地的路径上），由于 WL 为 0，所以 NMOS 开路，BL 被上拉（这要求上拉器件是弱上拉）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NAND_ROM.png"
width="914"
height="805"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NAND_ROM_hu1355fdb4031c4d144c9802e027267f6a_54394_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NAND_ROM_hu1355fdb4031c4d144c9802e027267f6a_54394_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="NAND ROM"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="272px"
>&lt;/p>
&lt;p>三种中，NAND 的面积最小，但是它的性能（速度）不如 NOR ROM。&lt;/p>
&lt;hr>
&lt;p>设计要点：&lt;/p>
&lt;p>如何减小 WL 延迟（毕竟这么长的 Poly）：&lt;/p>
&lt;ul>
&lt;li>用两个 driver 从两端驱动&lt;/li>
&lt;li>加一条并联的 metal&lt;/li>
&lt;/ul>
&lt;h3 id="eeprom-和-flash">EEPROM 和 FLASH&lt;/h3>
&lt;p>基本原理是，通过向栅极注入电子，来改变阈值电压。这么一来，注入电子的阈值电压变高，在同等栅压下就相当于断路。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NOR_Flash_write.png"
width="563"
height="345"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NOR_Flash_write_hu1e9eb4b41cf1700c12a4a6cfd7ec0538_27319_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/NOR_Flash_write_hu1e9eb4b41cf1700c12a4a6cfd7ec0538_27319_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Flash 写入"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="391px"
>&lt;/p>
&lt;p>至于读取，则和 Mask ROM 一样。&lt;/p>
&lt;p>EEPROM 与 FLASH 的区别：flash属于广义的EEPROM，因为它也是电擦除的rom。但是为了区别于一般的按字节为单位的擦写的EEPROM，我们都叫它flash。&lt;/p>
&lt;h2 id="ram">RAM&lt;/h2>
&lt;p>RAM 一般由以下部分组成&lt;/p>
&lt;ul>
&lt;li>Array&lt;/li>
&lt;li>Decoder
&lt;ul>
&lt;li>Row Decoder&lt;/li>
&lt;li>Column Decoder&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Sense Amplifier&lt;/li>
&lt;li>Read/Write Circuits&lt;/li>
&lt;/ul>
&lt;p>对于 n 行 m 列的 RAM，有 $2^m \times 2^n$ 个bits（不太确定，按道理是按字节存储的）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/SRAM_diagram.png"
width="1154"
height="728"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/SRAM_diagram_hu6c683b91f50b6ea2c69a801e687b99e5_72951_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/SRAM_diagram_hu6c683b91f50b6ea2c69a801e687b99e5_72951_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="SRAM框图"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="380px"
>&lt;/p>
&lt;h3 id="sram">SRAM&lt;/h3>
&lt;p>下图是 SRAM 的电路图，我们会介绍图中的所有部分。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/SRAM_simulation_cross_section.png"
width="985"
height="744"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/SRAM_simulation_cross_section_hu7d99702cc5d4cafa6a24de5b698def22_95721_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/SRAM_simulation_cross_section_hu7d99702cc5d4cafa6a24de5b698def22_95721_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="SRAM电路图"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/p>
&lt;p>SRAM（Static RAM）与 DRAM 不同之处在于：&lt;/p>
&lt;ul>
&lt;li>DRAM 依靠“电容”来存储&lt;/li>
&lt;li>SRAM 依靠“反馈”来存储&lt;/li>
&lt;/ul>
&lt;p>尽管 SRAM 需要额面积比 SRAM 大，但它有如下好处：&lt;/p>
&lt;ol>
&lt;li>相比于比 flip-flop，密度更大&lt;/li>
&lt;li>可以用 CMOS 工艺实现&lt;/li>
&lt;li>比 DRAM 快&lt;/li>
&lt;li>比 DRAM 容易使用&lt;/li>
&lt;/ol>
&lt;p>一个最简单的 SRAM 单元是可以用 6 个晶体管实现（6T SRAM cell）：两个首尾相连的反相器+两个开关。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/6T-SRAM-cell.png"
width="514"
height="306"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/6T-SRAM-cell_hu6584cbc9161d0bb884f00bf3572d076c_13365_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/6T-SRAM-cell_hu6584cbc9161d0bb884f00bf3572d076c_13365_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6T SRAM cell"
class="gallery-image"
data-flex-grow="167"
data-flex-basis="403px"
>&lt;/p>
&lt;ul>
&lt;li>读操作
&lt;ul>
&lt;li>预充电 bit、bit_b到VDD&lt;/li>
&lt;li>N2、N4 打开&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>写操作
&lt;ul>
&lt;li>将数据驱动到 bit、bit_b&lt;/li>
&lt;li>N2、N4 打开&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>需要注意的是，这 6 个晶体管的大小（宽度）为：N2,4&amp;lt;P1,2&amp;lt;N1,3，因为：&lt;/p>
&lt;ul>
&lt;li>读取时，bit 为 VDD，那么在 N2、N1 导通时，中间的电压一定不能超过 $\frac{1}{2} V_{DD}$，所以 N1 的电阻一定要比 N2 小、&lt;/li>
&lt;li>写入时，假如原来是 1，要写入 0，那么在 N2、P1 导通时，中间的电压必须小于 $\frac{1}{2} V_{DD}$，所以 N2 的电阻一定要比 P1 小&lt;/li>
&lt;/ul>
&lt;h3 id="地址译码器">地址译码器&lt;/h3>
&lt;h4 id="行译码器">行译码器&lt;/h4>
&lt;p>行译码器的作用是从 $2^M$ 个存储行中确定一行，也就是选中这行的 Word Line。考虑一个 8 位地址译码器，它有 8 个输入和 127 个输出，每个输出的逻辑表达式为：&lt;/p>
&lt;p>$$
WL_0 = \bar{A}_0\bar{A}_1\bar{A}_2\bar{A}_3\bar{A}_4\bar{A}_5\bar{A}_6\bar{A}&lt;em>7\
\vdots\
WL&lt;/em>{127}=\bar{A}_0A_1A_2A_3A_4A_5A_6A_7
$$&lt;/p>
&lt;p>每行需要一个 8 输入的 NOR 门（De Morgan定理），大的扇入会导致延时很大，而每个 NOR 门也要驱动字线的大负载。因此这并不是一个好的设计。&lt;/p>
&lt;p>我们可以把单级的译码器拆分为 2 级：&lt;/p>
&lt;p>$$
\begin{aligned}
WL_0 &amp;amp;= \overline{\bar{A}_0\bar{A}_1\bar{A}_2\bar{A}_3\bar{A}_4\bar{A}_5\bar{A}_6\bar{A}_7}\
&amp;amp;= \overline{(\overline{A_0+A_1}) (\overline{A_2+A_3}) (\overline{A_4+A_5}) (\overline{A_6+A_7})}
\end{aligned}
$$&lt;/p>
&lt;ul>
&lt;li>先用 4 个 2 输入的或非门（预译码器）&lt;/li>
&lt;li>再用 1 个 4 输入的与非门&lt;/li>
&lt;/ul>
&lt;p>预译码器的优点：&lt;/p>
&lt;ol>
&lt;li>减少晶体管数目&lt;/li>
&lt;li>减小传播延时&lt;/li>
&lt;/ol>
&lt;h4 id="列选择器">列选择器&lt;/h4>
&lt;p>列选择器和行选择器类似，但不同的是，列选择器则是从 bit 和 bit_b 入手。它通过一个开关，将选中的 bit/bit_b 接出来。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/column_decoder.png"
width="1132"
height="816"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/column_decoder_hu2160148ca2adff0856168aecf91c569b_85654_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/column_decoder_hu2160148ca2adff0856168aecf91c569b_85654_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="列选择器"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="332px"
>&lt;/p>
&lt;p>当然，列选择器还要负责打开选中的 bit/bit_b 的充电开关，这样才能正确地读。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/bitline_precharge.png"
width="946"
height="534"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/bitline_precharge_hub79e7e5965f133f617b618f4fa9fd341_54827_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/bitline_precharge_hub79e7e5965f133f617b618f4fa9fd341_54827_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="bitline充电"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="425px"
>&lt;/p>
&lt;h5 id="灵敏放大器">灵敏放大器&lt;/h5>
&lt;p>每个 bitline 上面都连接着所有行。假如是一个 128 rows×256 cols 的 SRAM，那么一个 bitline 上就有 128 个单元，上面的电容会很大很大，放电速度会很慢，因此读出的速度会很慢&lt;/p>
&lt;p>因此，我们需要额外的方法帮助它放电。这就是灵敏放大器的用途。因此灵敏放大器一方面接受 bit/bit_b 的输入，另一方面输出到 sense/sense_b（作为新的读出数据）&lt;/p>
&lt;p>灵敏放大器（Sense Amplifier）在存储器中的作用：&lt;/p>
&lt;ol>
&lt;li>放大&lt;/li>
&lt;li>减小延时&lt;/li>
&lt;li>降低功耗&lt;/li>
&lt;li>恢复信号&lt;/li>
&lt;/ol>
&lt;p>灵敏放大器的速度是最重要的，增益次之。&lt;/p>
&lt;p>为了降低功耗，可以在不读取数据时关闭灵敏放大器。&lt;/p>
&lt;hr>
&lt;p>下面来说说灵敏放大器到底是个什么结构：&lt;/p>
&lt;ul>
&lt;li>历史上多种放大器均被当做读出放大器使用。对于模拟集成电路学习者最容易理解的读出放大器则是&lt;strong>静态差分放大器&lt;/strong>。然而，这类放大器几乎可以作为反面教材，具有静态功耗大，无法将小信号放大至轨对轨等缺点。&lt;/li>
&lt;li>&lt;strong>将电流而非电压作为输入信号的SRAM读出放大器&lt;/strong>在2000年左右曾被研究，因其具有可以忽略输入电容而几乎没有延迟的将存储单元的驱动电流作为信号放大的优点。然而，电流读出放大器电路往往需要多级放大结构，太过复杂而导致面积太大的问题。&lt;/li>
&lt;li>经过长年的自然选择，一类读出放大器脱颖而出，它就是&lt;strong>锁存型读出放大器&lt;/strong>。锁存型读出放大器具有几乎所有的优点：高速，面积小/结构简单，功耗低（无静态功耗），轨对轨输出。&lt;/li>
&lt;/ul>
&lt;p>一个最简单的例子，就是 SRAM 自身。一开始 bit/bit_b 都是高电平，反相器处于非稳态。但是一旦有个下降得快，就会使得反相器输出一个稳态（一边是 0，另一边是 1）。另外，加入了时钟来节省功耗。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/sense_amplifier_1.png"
width="1190"
height="828"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/sense_amplifier_1_hu7733750bc7cbb260e287f94db0d04936_88321_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/sense_amplifier_1_hu7733750bc7cbb260e287f94db0d04936_88321_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Clocked Sense Amp"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
>&lt;/p>
&lt;p>基于上面的电路，我们加一个去耦，把 sense amplifier 的输入和输出隔开，另外这个电路还能兼顾充电的功能。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/sense_amplifier_2.png"
width="1193"
height="831"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/sense_amplifier_2_hu8320dfed98f6238ea9c0095099b0bc6d_92895_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/sense_amplifier_2_hu8320dfed98f6238ea9c0095099b0bc6d_92895_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="De-coupled Sense Amplifier"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
>&lt;/p>
&lt;h3 id="cam">CAM&lt;/h3>
&lt;p>（不知道这是啥，考到就死）&lt;/p>
&lt;h3 id="dram">DRAM&lt;/h3>
&lt;p>DRAM 除了核心的 Cell 不同，其他都和 SRAM 类似。&lt;/p>
&lt;p>3-T DRAM：&lt;/p>
&lt;ul>
&lt;li>读：BL2 预充电为 1，然后选中 RWL=1，打开 M3，数据从 BL2 读出&lt;/li>
&lt;li>写：BL1 写入数据，然后选中 WWL=1，将数据存到 Cs&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/3-T-DRAM.png"
width="1182"
height="845"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/3-T-DRAM_hu177bc1604f5c158c26e719301516c246_84791_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/3-T-DRAM_hu177bc1604f5c158c26e719301516c246_84791_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3-T DRAM"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="335px"
>&lt;/p>
&lt;p>1-T DRAM：&lt;/p>
&lt;ul>
&lt;li>读：BL 预充电为 1，然后选中 WL=1，打开 M1，数据从 BL 读出。注意读是&lt;strong>破坏性的&lt;/strong>，读完后需要立即回写数据。&lt;/li>
&lt;li>写：同 3-T DRAM&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/1-T-DRAM.png"
width="1162"
height="835"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/1-T-DRAM_hu2b50f81f4f4f7d1974867f47eb68303c_116671_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/1-T-DRAM_hu2b50f81f4f4f7d1974867f47eb68303c_116671_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1-T DRAM"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="333px"
>&lt;/p>
&lt;p>由于存在电荷泄露，因此 DRAM 就算不读，也需要周期性地刷新数据。&lt;/p>
&lt;p>习题：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/1-T-DRAM-example.png"
width="1180"
height="524"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/1-T-DRAM-example_hu53b01c9bb5835749cf10ac07d38fcee1_110479_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/12-%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83/images/1-T-DRAM-example_hu53b01c9bb5835749cf10ac07d38fcee1_110479_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1-T DRAM 习题"
class="gallery-image"
data-flex-grow="225"
data-flex-basis="540px"
>&lt;/p>
&lt;p>这实际上是电荷重分配的问题。我们知道，$Q=CV$，假如读的是 1，那么总的电荷为：&lt;/p>
&lt;p>$$
Q_{tot} = 1.25\cdot 1p +1.9\cdot 50f
$$&lt;/p>
&lt;p>由于最终两个电容上的电压相同，因此：&lt;/p>
&lt;p>$$
Q_{tot} = V\cdot (1p+50f)
$$&lt;/p>
&lt;p>从而：&lt;/p>
&lt;p>$$
V = \frac{1.25\cdot 1p +1.9\cdot 50f}{1p+50f}
$$&lt;/p>
&lt;p>$$
\begin{aligned}
\Delta V &amp;amp;= \frac{1.25\cdot 1p +1.9\cdot 50f}{1p+50f}-1.25\
&amp;amp;= \frac{1.9\cdot 50f-1.25\cdot 50f}{1p+50f}\
&amp;amp;=30.95mV
\end{aligned}
$$&lt;/p>
&lt;p>同理，假如读的是 0，那么总的电荷为：&lt;/p>
&lt;p>$$
Q_{tot} = 1.25\cdot 1p +0\cdot 50f
$$&lt;/p>
&lt;p>由于最终两个电容上的电压相同，因此：&lt;/p>
&lt;p>$$
Q_{tot} = V\cdot (1p+50f)
$$&lt;/p>
&lt;p>从而：&lt;/p>
&lt;p>$$
V = \frac{1.25\cdot 1p +0\cdot 50f}{1p+50f}
$$&lt;/p>
&lt;p>$$
\begin{aligned}
\Delta V &amp;amp;= \frac{1.25\cdot 1p +0\cdot 50f}{1p+50f}-1.25\
&amp;amp;= \frac{-1.25\cdot 50f}{1p+50f}\
&amp;amp;=-59.52mV&lt;br>
\end{aligned}
$$&lt;/p></description></item><item><title>功耗</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%8A%9F%E8%80%97/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%8A%9F%E8%80%97/</guid><description>&lt;p>组合逻辑中的功耗主要分为：&lt;/p>
&lt;ul>
&lt;li>动态功耗：对电容充电的功耗&lt;/li>
&lt;li>静态功耗：短路电流的功耗&lt;/li>
&lt;li>漏电流的功耗&lt;/li>
&lt;/ul>
&lt;p>考试计算主要考静态逻辑的动态功耗，下面简单说说。&lt;/p>
&lt;p>动态功耗主要是电容充电的功耗，也就是从 0 变到 1 的功耗：&lt;/p>
&lt;p>$$
P = \int_0^{V_{DD}} V_{DD}\cdot C_L \frac{{\rm d}V}{{\rm d}t}{\rm d}t = C_L\cdot V_{DD}^2
$$&lt;/p>
&lt;p>假设翻转的频率为 $f_{0\rightarrow 1}$（也就是单位时间内发生了 $f_{0\rightarrow 1}$ 次翻转），那么功耗就等于：&lt;/p>
&lt;p>$$
P = C_L \cdot V_{DD}^2 \cdot f_{0\rightarrow 1}
$$&lt;/p>
&lt;p>翻转频率和概率有关：&lt;/p>
&lt;p>$$
f_{0\rightarrow 1} = P_{0\rightarrow1} \cdot f
$$&lt;/p>
&lt;p>其中 $f$ 是翻转频率，乘以概论 $P_{0\rightarrow1}$ 就是其中有多少次翻转是 $f_{0\rightarrow 1}$&lt;/p>
&lt;p>而 $P_{0\rightarrow1}$ 是概率的乘积：&lt;/p>
&lt;p>$$
\begin{aligned}
P_{0\rightarrow1} &amp;amp;= P_{0}\cdot P_{1}\
&amp;amp;=P_0 \cdot (1-P_0)
\end{aligned}
$$&lt;/p>
&lt;p>总结：&lt;/p>
&lt;ol>
&lt;li>求每个节点的 $C_L$，包括本征的和外部的&lt;/li>
&lt;li>求每个节点的 $P_0$&lt;/li>
&lt;li>求每个节点的 $P_{0\rightarrow1}$&lt;/li>
&lt;li>代入公式 $P = C_L \cdot V_{DD}^2 \cdot f_{0\rightarrow 1}$&lt;/li>
&lt;/ol></description></item><item><title>互连线</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/</guid><description>&lt;h2 id="材料">材料&lt;/h2>
&lt;ul>
&lt;li>180nm 以上是 Al&lt;/li>
&lt;li>180nm 以下是 Cu&lt;/li>
&lt;/ul>
&lt;h2 id="电阻">电阻&lt;/h2>
&lt;p>一般用方块电阻来衡量：&lt;/p>
&lt;p>$$
R = R_\square \dfrac{l}{w}
$$&lt;/p>
&lt;p>$$
R_\square = \frac{\rho}{t}
$$&lt;/p>
&lt;p>但电阻不是不变的，由于趋肤效应，当频率很高时，电流会集中在表面，电阻会增大。&lt;/p>
&lt;h2 id="电容">电容&lt;/h2>
&lt;p>导线和上下左右的导线间都有电容。&lt;/p>
&lt;p>导线可以看作平板电容，容值为：&lt;/p>
&lt;p>$$
C = \frac{\varepsilon A}{d}
$$&lt;/p>
&lt;p>除此之外，还有侧壁电容（Fringing Capacitance）。&lt;/p>
&lt;p>另外，密勒效应会导致电容变大。比如当两个相邻导线的电流方向相反时，电容会增大。&lt;/p>
&lt;h2 id="延迟">延迟&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/wire.png"
width="745"
height="418"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/wire_huc4b84f0516f2c8f46751049d7fd33560_32190_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/wire_huc4b84f0516f2c8f46751049d7fd33560_32190_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="wire"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>一个长段的延迟可以用多个小部分组成。每个小部分的电阻、电容可以用 L-model、π-model、T-model 表示。这三个model中，&lt;strong>π-model&lt;/strong> 是最好的，把整个导线分成 3 个 π-model 就能和仿真相近似。L-model 则需要 100 个。&lt;/p>
&lt;p>分割好后，可以用 Elmore 延迟模型来计算。这里 Elmore 延迟模型适用于 RC 树，即要求：&lt;/p>
&lt;ul>
&lt;li>有单一的输入（源）节点&lt;/li>
&lt;li>没有任何电阻回路&lt;/li>
&lt;li>所有电容都在节点和地之间&lt;/li>
&lt;/ul>
&lt;p>如果要计算任意两点间的电容，如 i→j，那么对每个节点 k，其电容电阻为：&lt;/p>
&lt;ul>
&lt;li>$C_k$：节点k和地之间的电容&lt;/li>
&lt;li>$R_k$：“$i$ 到 $j$ 路径上的电阻” 与 “$i$ 到 $k$ 路径上的电阻” 的交集&lt;/li>
&lt;/ul>
&lt;p>总的延时为：&lt;/p>
&lt;p>$$
\tau_{i,j} = \sum_{k} C_k R_k
$$&lt;/p>
&lt;p>对于单根长导线，其延时可以写成：&lt;/p>
&lt;p>$$
\tau = \sum_{i=1}^N i \cdot \frac{rL}{N} \frac{cL}{N} = rcL^2 \frac{N(N+1)}{2N^2}\rightarrow \frac{rcL^2}{2}
$$&lt;/p>
&lt;p>因此延时和 $L^2$ 成正比。有没有什么方法减小延时呢？有，就是使用 Repeater（反相器或放大器），这样延时就只与长度线性相关。具体的延时如下：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/repeater_delay.png"
width="1065"
height="619"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/repeater_delay_hub76262cbcb20ce9bd0fe31dbf258d458_80784_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/repeater_delay_hub76262cbcb20ce9bd0fe31dbf258d458_80784_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="repeater delay"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="412px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/repeater_total_delay.png"
width="1007"
height="656"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/repeater_total_delay_hu1a705fc76a7066a837d8840603554902_144481_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/repeater_total_delay_hu1a705fc76a7066a837d8840603554902_144481_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="repeater total delay"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="368px"
>&lt;/p>
&lt;p>最后两个式子表示需要几个 Repeater，以及每个 Repeater 的大小。考试的时候建议先写 $t_{pd}$ 再求导来算。&lt;/p>
&lt;h2 id="串扰">串扰&lt;/h2>
&lt;p>当一个导线上的电压变化时，由于存在电容耦合，会导致相邻导线电压变化。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/crosstalk.png"
width="757"
height="503"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/crosstalk_hucc7f65824e2a13df01a1d11a92b0dc7e_35613_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/9-%E4%BA%92%E8%BF%9E%E7%BA%BF/images/crosstalk_hucc7f65824e2a13df01a1d11a92b0dc7e_35613_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="串扰"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="361px"
>&lt;/p>
&lt;p>解决方法是用差分耦合线。&lt;/p>
&lt;h2 id="尺寸缩放">尺寸缩放&lt;/h2>
&lt;p>当尺寸减小时，即长、宽、高、层间高度都减小时，有两个变化：&lt;/p>
&lt;ul>
&lt;li>电阻随横截面减小而增大&lt;/li>
&lt;li>电容随比例不变而保持不变（甚至略微增大）&lt;/li>
&lt;/ul></description></item><item><title>加法</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/</guid><description>&lt;h2 id="1-bit-加法">1-bit 加法&lt;/h2>
&lt;h3 id="逻辑表达式">逻辑表达式&lt;/h3>
&lt;p>1-bit 加法有两种类型：&lt;/p>
&lt;ul>
&lt;li>半加器：不可以接收上一位的进位&lt;/li>
&lt;li>全加器：可以接收上一位的进位&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/half-and-full-adders.png"
width="217"
height="192"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/half-and-full-adders_hu8e7c6178dc84aa6ed0901470fe12625b_11160_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/half-and-full-adders_hu8e7c6178dc84aa6ed0901470fe12625b_11160_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="半加器和全加器"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="271px"
>&lt;/p>
&lt;p>它们对应的真值表不难写出：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/truth-table-of-half-and-full-adders.png"
width="603"
height="494"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/truth-table-of-half-and-full-adders_hu688b77d3bc083116c298891931d9a3a5_24218_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/truth-table-of-half-and-full-adders_hu688b77d3bc083116c298891931d9a3a5_24218_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="半加器和全加器的真值表"
class="gallery-image"
data-flex-grow="122"
data-flex-basis="292px"
>&lt;/p>
&lt;p>输入输出端口如下：&lt;/p>
&lt;ul>
&lt;li>$A$、$B$ 加数&lt;/li>
&lt;li>$C$ 上一位的进位&lt;/li>
&lt;li>$C_{out}$ 进位位&lt;/li>
&lt;li>$S$ 和&lt;/li>
&lt;/ul>
&lt;p>另外还有三个中间变量：&lt;/p>
&lt;ul>
&lt;li>$G$enerate：进位产生，即这一位会产生一个进位（不论上一位的进位如何），$G=AB$&lt;/li>
&lt;li>$P$ropagate：进位传播，即将上一位的进位传播到下一位，$P=A\oplus B$，有时候也定义为 $P=A+B$&lt;/li>
&lt;li>$K$ill：进位取消，即这一位不会产生进位（即使上一位有进位），$D=\bar{A}\bar{B}$&lt;/li>
&lt;/ul>
&lt;p>从真值表，不难写出半加器的逻辑表达式：&lt;/p>
&lt;p>$$
S=A \oplus B\
C_{out} = A \cdot B
$$&lt;/p>
&lt;p>全加器的逻辑表达式：&lt;/p>
&lt;p>$$
S = A \oplus B \oplus C\
C_{out} = AB + AC + BC = {\rm MAJ}(A,B,C)
$$&lt;/p>
&lt;p>${\rm MAJ}$ 表示 majority，即取 A,B,C 中占大多数的值（也就是当至少有两个为 1 时输出 1）&lt;/p>
&lt;p>全加器的另一种逻辑表达式：&lt;/p>
&lt;p>$$
S = = P \oplus C\
C_{out} = G+PC
$$&lt;/p>
&lt;h3 id="电路实现">电路实现&lt;/h3>
&lt;p>半加器的电路实现并不难，只需要一个异或门和一个与门就行。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/half-adder-design.png"
width="154"
height="147"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/half-adder-design_hu1b83a865498c791f392b645d88022b10_7683_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/half-adder-design_hu1b83a865498c791f392b645d88022b10_7683_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="半加器的电路实现"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="251px"
>&lt;/p>
&lt;p>而全加器则复杂得多。我们先来看常规实现：用一个三输入异或门，和一个 MAJ 门&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/full-adder-design.png"
width="617"
height="383"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/full-adder-design_hu9b030ae4d037b45895179725f1a92ff7_34976_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/full-adder-design_hu9b030ae4d037b45895179725f1a92ff7_34976_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="全加器的电路实现"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="386px"
>&lt;/p>
&lt;ul>
&lt;li>三输入的异或门中有很多支路是共享的。比如下拉网络中，$AB\overline{C}$ 和 $A\overline{B}C$ 共享了 $A$ 支路。&lt;/li>
&lt;li>MAJ 门的实现借鉴了“G、P、K”，
&lt;ul>
&lt;li>当 A、B 都为 0 时，Kill，$C_{out}=0$；&lt;/li>
&lt;li>当 A、B 都为 1 时，Generate，$C_{out}=1$；&lt;/li>
&lt;li>当 A、B 有一个为 1 时，Propagate，$C_{out}$ 取决于 $C$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>一共需要 32 个晶体管
&lt;ul>
&lt;li>反相器占 6 个&lt;/li>
&lt;li>三输入异或门占 16 个&lt;/li>
&lt;li>MAJ 门占 10 个&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>另一种更紧凑的实现方法是求出 $C_{out}$ 后，再用来求 $S$：&lt;/p>
&lt;p>$$
S = ABC + (A+B+C) \overline{C}_{out}
$$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/mirror-adder.png"
width="555"
height="358"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/mirror-adder_hu9d90fb53bc2d8902993a0b52168a734f_29231_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/mirror-adder_hu9d90fb53bc2d8902993a0b52168a734f_29231_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Mirror Adder"
class="gallery-image"
data-flex-grow="155"
data-flex-basis="372px"
>&lt;/p>
&lt;ul>
&lt;li>$\overline{C}_{out}$ 的求解使用的是 Minority 门，也就是将 MAJ 门的输入取反&lt;/li>
&lt;li>整个电路是上下对称的，因此这种实现方式也叫做 mirror adder.&lt;/li>
&lt;li>一共只使用了 28 个晶体管&lt;/li>
&lt;/ul>
&lt;p>另外，为了优化延时（下一节会讲到，关键路径是进位的路径，也即产生 $\overline{C}_{out}$ 的路径），这个电路作了如下优化：&lt;/p>
&lt;ul>
&lt;li>关键路径上的晶体管的尺寸较大&lt;/li>
&lt;li>非关键路径上的晶体管的尺寸都取最小，以减小关键路径的 Branch Effort&lt;/li>
&lt;li>将上一级的进位位 $C$ 放在内部，这样中间节点就已经提前放电了（通过 $A,B$）&lt;/li>
&lt;li>为了移除输出的反相器，使用正负逻辑交替连接（下一节会讲到）&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>这个电路的尺寸与教材的取值不同，我认为这里的取值更有道理。&lt;/p>
&lt;/blockquote>
&lt;h3 id="传输门加法器">传输门加法器&lt;/h3>
&lt;h2 id="多bits加法器">多bits加法器&lt;/h2>
&lt;h3 id="逐位进位加法器">逐位进位加法器&lt;/h3>
&lt;p>通过将多个全加器串联在一起，可以实现多 bits 加法器。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-ripple-adder.png"
width="581"
height="690"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-ripple-adder_huac043f1fd23cd9985fb43e0fea9bf8de_60241_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-ripple-adder_huac043f1fd23cd9985fb43e0fea9bf8de_60241_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="逐位进位加法器"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="202px"
>&lt;/p>
&lt;p>这里为了符合算数规律，把低位放到右边。从图中可以看出，要算出最后一位 $S_4$，必须等前面的进位算出来。因此关键路径就是 $C_{in}\rightarrow C_1 \rightarrow C_2 \rightarrow C_3 \rightarrow S_4$，延时可以写为：&lt;/p>
&lt;p>$$
t_{adder} = (N-1) t_{carry} + t_{sum}
$$&lt;/p>
&lt;ul>
&lt;li>$N$ 是加法器的位数&lt;/li>
&lt;li>$t_{carry}$ 是从 $C_{in}$ 到 $C_{out}$ 的延时&lt;/li>
&lt;li>$t_{sum}$ 是从 $C_{in}$ 到 $S$ 的延时&lt;/li>
&lt;li>显然，优化 $t_{carry}$ 比优化 $t_{sum}$ 重要。&lt;/li>
&lt;/ul>
&lt;p>另外值得说的是，延时还取决于输入的 $A$ 和 $B$。延时最坏的情况为：$A=x001$ 和 $B=x111$（答案不唯一，可以交换 $A,B$ 中的某些位）&lt;/p>
&lt;p>图(b)展示了&lt;strong>全加器&lt;/strong>的一个性质：&lt;strong>把输入反相，则输出也会反相&lt;/strong>。这点看真值表不难证明。利用这点就可以节省全加器中的反相器。&lt;/p>
&lt;p>逐位进位加法器的缺点是，如果位数很多，进位只能一位一位传播，速度很慢。解决方法是，我们 bits 分组，比如 32bit 分为 8 个 4bit，然后每个 4bit 加法器内部用一些方法提高进位传播速度。&lt;/p>
&lt;h3 id="旁路进位加法器">旁路进位加法器&lt;/h3>
&lt;p>考虑一个 4bits 的加法器。当 $P_0P_1P_2P_3 = 1$ 时，进位可以直接传到输出，就不需要一位一位传了。根据这个，我们可以设计“旁路进位加法器”：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-skip-adder.png"
width="722"
height="461"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-skip-adder_hue45dcadca38a6940dff6798e28918cb6_242793_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-skip-adder_hue45dcadca38a6940dff6798e28918cb6_242793_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="旁路进位加法器"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="375px"
>&lt;/p>
&lt;p>将多个旁路进位加法器组合起来可以得到多 bits 的加法器。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/4-16-bits-block-carry-skip-adder.png"
width="1099"
height="377"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/4-16-bits-block-carry-skip-adder_huffc2aa280e15c125801a2f53a847bcde_110639_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/4-16-bits-block-carry-skip-adder_huffc2aa280e15c125801a2f53a847bcde_110639_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="4/16 bits block carry skip adder"
class="gallery-image"
data-flex-grow="291"
data-flex-basis="699px"
>&lt;/p>
&lt;p>其关键路径如图中绿色部分所示。出人意料的是，关键路径居然经过了旁路进位，按道理旁路进位不应该更快吗？首先，我们要树立这么一个意识：&lt;strong>所有的 $P$、$G$ 都是同时计算出来的&lt;/strong>。假如中间（bits 4 to 15）有一个 $P=0$，那么就依赖于 $G$ 来产生进位，前面的进位就没有用了。因此，如果关键路径必须经过旁路进位。&lt;/p>
&lt;p>理解了上面一点，就可以简单地把延时计算出来：&lt;/p>
&lt;p>$$
T_{add} = t_{setup} + M t_{carry} + (\frac{N}{M}-1) t_{bypass} + (M-1) t_{carry} + t_{sum}
$$&lt;/p>
&lt;ul>
&lt;li>$N$ 位加法器，划分为 $N/M$ 级，每级 $M$ 位&lt;/li>
&lt;li>$t_{setup}$：产生 $P$、$G$ 信号所需的时间&lt;/li>
&lt;li>$t_{carry}$：进位传播一位所需的延时&lt;/li>
&lt;li>$t_{bypass}$：通过一级旁路多路开关的传播延时&lt;/li>
&lt;li>$t_{sum}$：产生最后一级“和”所需的时间&lt;/li>
&lt;/ul>
&lt;p>我们可以进一步利用这种“旁路”的思想。比如在单个旁路加法器内，进一步增加旁路。这就是我们下面所要介绍的。&lt;/p>
&lt;h3 id="并行前缀加法器">并行前缀加法器&lt;/h3>
&lt;p>为了更清楚地说明，我们定义：&lt;/p>
&lt;p>$$
P_{i:j}=P_{i}P_{i-1}\cdots P_{j}=P_{i:k}P_{k-1:j}
$$&lt;/p>
&lt;p>$$
G_{i:j} = G_{i:k}+P_{i:k}G_{k-1:j}
$$&lt;/p>
&lt;p>$i:j$ 表示从第 $i$ 级到第 $j$ 级（$i&amp;gt;j$）。为了简约起见，定义 $C_{i-1}=G_{i-1}$，且 $C_{-1}=G_{-1}=0$。以上式子可以代入到旁路进位加法器中来理解，在此不作过多解释。&lt;/p>
&lt;p>一旦知道 $G_{i:j}$，就可以用 $S_{i}=A_i\oplus B_i\oplus G_{i-1:-1}$ 来算出和。因此，如何快速算出 $G_{i-1:-1}$ 就是关键。&lt;/p>
&lt;p>以一个 16-bits 加法器为例。我们最终目标是要计算出 $G_{3:-1}$。逐次进位的做法是：&lt;/p>
&lt;ol>
&lt;li>$G_{0:-1}=G_{0}+P_{0}G_{-1}$&lt;/li>
&lt;li>$G_{1:-1}=G_{1}+P_{1}G_{0:-1}$&lt;/li>
&lt;li>$G_{2:-1}=G_{2}+P_{2}G_{1:-1}$&lt;/li>
&lt;li>$G_{3:-1}=G_{3}+P_{3}G_{2:-1}$&lt;/li>
&lt;li>……&lt;/li>
&lt;li>$G_{15:-1}=G_{15}+P_{15}G_{14:-1}$&lt;/li>
&lt;/ol>
&lt;p>为了方便理解，我们可以用下图来表示逐次进位加法器。可以看出它从上到下有很多级。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-ripple-adder-pg-network.png"
width="504"
height="562"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-ripple-adder-pg-network_hu3b6787e63ec04593bf4b3b45d2198457_21875_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-ripple-adder-pg-network_hu3b6787e63ec04593bf4b3b45d2198457_21875_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="逐次进位加法器 PG 网络"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="215px"
>&lt;/p>
&lt;p>旁路进位的做法是：&lt;/p>
&lt;ol>
&lt;li>$G_{3:-1}=G_{3:0}+P_{3:0}G_{-1}$&lt;/li>
&lt;li>$G_{7:-1}=G_{7:4}+P_{7:4}G_{3:-1}$&lt;/li>
&lt;li>$G_{11:-1}=G_{11:8}+P_{11:8}G_{7:-1}$&lt;/li>
&lt;li>$G_{15:-1}=G_{15:12}+P_{15:12}G_{11:-1}$&lt;/li>
&lt;/ol>
&lt;p>其中，&lt;/p>
&lt;ul>
&lt;li>$P_{3:0}=P_3P_2P_1P_0$&lt;/li>
&lt;li>$G_{3:0}=G_3+P_3G_{2:-1}$
&lt;ul>
&lt;li>$G_{2:-1}=G_2+P_2G_{1:-1}$
&lt;ul>
&lt;li>$G_{1:-1}=G_1+P_1G_{0:-1}$
&lt;ul>
&lt;li>$G_{0:-1}=G_0+P_0G_{-1}=G_0$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>下图表示旁路进位加法器。它从上到下的级数比逐次进位加法器少。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-skip-adder-pg-network.png"
width="543"
height="391"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-skip-adder-pg-network_hu8cb099047fdbbe22ba2449058cd7a172_23475_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-skip-adder-pg-network_hu8cb099047fdbbe22ba2449058cd7a172_23475_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="旁路进位加法器 PG 网络"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="333px"
>&lt;/p>
&lt;p>我们可以进一步拆分 $G_{3:0}$：&lt;/p>
&lt;ul>
&lt;li>$G_{3:0}=G_{3}+P_{3}G_{2:-1}$
&lt;ul>
&lt;li>$G_{2:-1}=G_{2:1}+P_{2:1}G_{0:-1}$
&lt;ul>
&lt;li>$G_{2:1}=G_{2}+P_{2}G_{1}$&lt;/li>
&lt;li>$G_{0:-1}=G_{0}+P_{0}G_{-1}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>这样拆分的好处是：当 $G_0=1$ 时，$G_{0:-1}=1$，$G_{2:1}$ 就可以算出来。而如果不拆分，则 $G_{0:-1}$ 算出来后，还要算 $G_{1:-1}$，才能得到 $G_{2:1}$&lt;/p>
&lt;p>以上公式可能有点抽象，下面这张图则更好理解：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/16-bit-prefix-adder.png"
width="786"
height="546"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/16-bit-prefix-adder_hufdd58866ae5961b2745a9fbdfdcf1d04_62786_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/16-bit-prefix-adder_hufdd58866ae5961b2745a9fbdfdcf1d04_62786_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="16-bit prefix adder"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="345px"
>&lt;/p>
&lt;p>可以只看 $3:-1$，并对比上面的文字分析。这种加法器叫做并行前缀加法器（prefix adder），其好处是，如果中间某一位 $G_i=1$，那么只需要 4 级，就可以传到最后一位 $G_{14:-1}$。它从上到下的级数比旁路进位加法器还少。&lt;/p>
&lt;p>它的延时可以写成：&lt;/p>
&lt;p>$$
T = t_{pg}+(\log_2 N)t_{AO}+t_{\rm xor}
$$&lt;/p>
&lt;ul>
&lt;li>$t_{pg}$ 为计算 $P_i,G_i$ 的延时&lt;/li>
&lt;li>$t_{AO}$ 为图中黑色方块的延时&lt;/li>
&lt;li>$t_{\rm xor}$ 为异或门的延时&lt;/li>
&lt;/ul>
&lt;h3 id="超前进位加法器">超前进位加法器&lt;/h3>
&lt;p>超前进位加法器是对旁路进位加法器的优化。简单来说就是，旁路进位器进位传播为：&lt;/p>
&lt;ul>
&lt;li>$G_{3:0}=G_3+P_3G_{2:-1}$
&lt;ul>
&lt;li>$G_{2:-1}=G_2+P_2G_{1:-1}$
&lt;ul>
&lt;li>$G_{1:-1}=G_1+P_1G_{0:-1}$
&lt;ul>
&lt;li>$G_{0:-1}=G_0+P_0G_{-1}=G_0$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>超前进位就是把这个结合：&lt;/p>
&lt;p>$$
G_{3:0} = G_3+P_3{ G_2+P_2[G_1+P_1(G_0+P_0G_{-1})] }+P_{3:0}G_{-1}
$$&lt;/p>
&lt;p>实现电路如下：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-lookahead-adder.png"
width="890"
height="565"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-lookahead-adder_hua01c29128836565b3d06c687d39b1e9d_78501_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-lookahead-adder_hua01c29128836565b3d06c687d39b1e9d_78501_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="超前进位加法器"
class="gallery-image"
data-flex-grow="157"
data-flex-basis="378px"
>&lt;/p>
&lt;p>下图是一个 16 位的超前进位加法器&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/16-bit-carry-lookahead-adder.png"
width="1068"
height="290"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/16-bit-carry-lookahead-adder_hu64a680f1c59761bf2d8ada790721d66b_42159_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/16-bit-carry-lookahead-adder_hu64a680f1c59761bf2d8ada790721d66b_42159_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="16位 超前进位加法器"
class="gallery-image"
data-flex-grow="368"
data-flex-basis="883px"
>&lt;/p>
&lt;p>延时计算如下：&lt;/p>
&lt;p>$$
t_{cla} = t_{pg} + t_{pg(n)}+[(n-1)+(k-1)]t_{AO}+t_{\rm xor}
$$&lt;/p>
&lt;ul>
&lt;li>$t_{pg}$ 是计算出 $P,G$ 的延时&lt;/li>
&lt;li>$t_{pg(b)}$ 是那一堆与门与或门的延时&lt;/li>
&lt;li>$t_{AO}$ 是下图中黑色方块的延时&lt;/li>
&lt;li>$t_{\rm xor}$ 是求 $S$ 的延时&lt;/li>
&lt;li>把 $N$ bits 的加法器分为 $k$ 份，每份 $n$ bits&lt;/li>
&lt;/ul>
&lt;p>中间的 $[(n-1)+(k-1)]$ 是怎么来的？是因为尽管 $C_{3:0}$ 提前算出来了，但是 $G_{3:-1},G_{2:-1}$ 还没算出来（也就是下图里的黑色方块）。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-lookahead-adder-pg-network.png"
width="800"
height="480"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-lookahead-adder-pg-network_hu32e438430838d8e63cbba6642e406607_34420_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-lookahead-adder-pg-network_hu32e438430838d8e63cbba6642e406607_34420_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="超前进位加法器 PG 网络"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;h3 id="进位选择加法器">进位选择加法器&lt;/h3>
&lt;p>进位选择加法器是对旁路进位加法器的另一种优化。其思想是，进位只有 0 或 1，那么干脆就把两种情况都算出来，然后用一个 2-1 mux 来决定最终结果。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-select-adder.png"
width="902"
height="587"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-select-adder_hu876fed0972ced4aa98ee6022632c70b0_189068_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/images/carry-select-adder_hu876fed0972ced4aa98ee6022632c70b0_189068_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="进位选择加法器"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="368px"
>&lt;/p></description></item><item><title>流水线</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%B5%81%E6%B0%B4%E7%BA%BF/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%B5%81%E6%B0%B4%E7%BA%BF/</guid><description>&lt;p>简单来说，如果不用流水线，那么：&lt;/p>
&lt;p>$$
T_{\min} = t_{c-q} + t_{pd,logic} + t_{setup}
$$&lt;/p>
&lt;p>而如果用流水线，把逻辑电路分成多个部分，那么：&lt;/p>
&lt;p>$$
T_{\min,pipe} = t_{c-q} + \max [ t_{pd,1},t_{pd,2},\cdots] + t_{setup}
$$&lt;/p>
&lt;p>如果有 $N$ 个部分，且延时相同，那么：&lt;/p>
&lt;p>$$
T_{\min,pipe} = T_{\min}/N
$$&lt;/p>
&lt;p>尽管对于单个数据而言，流水线需要的时间为 $NT_{\min,pipe}$，和不用流水线一样。但是，如果有两个数据，那么处理两个数据所需的时间是 $(N+1)T_{\min,pipe}$，比不用流水线快很多。（也就是增加了吞吐量）&lt;/p></description></item><item><title>延时</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/</guid><description>&lt;p>在数字集成电路课程中，老师花了整整三节课讲延时，包括反向器、组合逻辑电路的延时的计算以及优化，听得我头都晕了😵但其实延时并不难，我希望能通过这篇文章讲解清楚延时。&lt;/p>
&lt;h2 id="电容的延时">电容的延时&lt;/h2>
&lt;p>我们知道，电容的电流、电压关系为：&lt;/p>
&lt;p>$$
I=C\frac{{\rm d}V}{{\rm d} t}
$$&lt;/p>
&lt;p>对这个微分方程积分：&lt;/p>
&lt;p>$$
\int I {\rm d} t = \int C {\rm d}V
$$&lt;/p>
&lt;p>如果电流恒定，那么就有：&lt;/p>
&lt;p>$$
I t = C (V_t-V_0)
$$&lt;/p>
&lt;p>假如初始电压 $V_0=0$，定义延时为到 $V_{DD}/2$ 的时间，则延时 $t_d$ 为：&lt;/p>
&lt;p>$$
t_d = \frac{CV_{DD}}{2I}
$$&lt;/p>
&lt;h2 id="rc延时">RC延时&lt;/h2>
&lt;p>电路中很少有恒定的电流，一般是电源通过一个电阻给电容充电（电容初始电压为 0）。因此根据 KVL，有：&lt;/p>
&lt;p>$$
V_{DD} = IR+V_C = RC\frac{{\rm d}V_C}{{\rm d}t}+V_C
$$&lt;/p>
&lt;p>可以计算出：&lt;/p>
&lt;p>$$
V_C = V_{DD}-V_{DD}e^{-\frac{t}{RC}}
$$&lt;/p>
&lt;p>同样的，我们定义延时为充电到到 $V_{DD}/2$ 的时间，则延时 $t_d$ 为：&lt;/p>
&lt;p>$$
t_d=\sqrt{2}RC \approx 0.69 RC
$$&lt;/p>
&lt;h2 id="利用-rc-延时计算反相器延时">利用 RC 延时计算反相器延时&lt;/h2>
&lt;p>我们可以将反向器等效为一个RC电路（下图），其电阻为 MOS 管导通的电阻；而电容为自身的漏-衬底电容，以及下一级的栅-漏电容。这些电容电阻的具体大小我们先不管，只需要知道两点：&lt;/p>
&lt;ol>
&lt;li>电容和管子尺寸成正比，电阻与管子尺寸成反比。&lt;/li>
&lt;li>由于空穴的迁移率较差，因此要使 PMOS 的电阻等于 NMOS 的电阻，必须使 PMOS 为 NMOS 的两倍大。两者的电容在同尺寸下是相等的。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>你可能会疑惑：为什么要让 PMOS 的电阻等于 NMOS 的电阻？因为电阻相同时，充电、放电的时间才一致。只有这样我们才好优化分析。&lt;/p>
&lt;/blockquote>
&lt;p>在上述原则下，我们将反向器的尺寸设计为 PMOS = 2，NMOS = 1&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%8F%8D%E5%90%91%E5%99%A8%E7%9A%84RC%E7%AD%89%E6%95%88%E6%A8%A1%E5%9E%8B.png"
width="740"
height="402"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%8F%8D%E5%90%91%E5%99%A8%E7%9A%84RC%E7%AD%89%E6%95%88%E6%A8%A1%E5%9E%8B_hua2f654438698501856f4cbbd65a00523_45872_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%8F%8D%E5%90%91%E5%99%A8%E7%9A%84RC%E7%AD%89%E6%95%88%E6%A8%A1%E5%9E%8B_hua2f654438698501856f4cbbd65a00523_45872_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="反向器的RC等效模型"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;p>那么根据上面两点，我们可以将反向器驱动一个反向器的延时等效为上图(c)，自身的漏电容为 $3C_D$，下一级的栅电容为 $3C_G$，总电容为 $3C_D+3C_G$。总的延时就是即 $t_p=0.69R\times (3C_D+3C_G)$&lt;/p>
&lt;h2 id="设计逻辑门的尺寸">设计逻辑门的尺寸&lt;/h2>
&lt;p>设计的原则就是：我们希望在最坏情况下，充电和放电的时间相等；并且它的电阻能和反相器相同。&lt;/p>
&lt;p>以下面这个三输入与非门为例，最坏情况下，上面只有一个管子导通，此时要让它的电阻与反相器相同，那么应该为 2. 而下面是三个管子串联，所以它的尺寸应该为 3，这样总电阻才为 1.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/3%E8%BE%93%E5%85%A5%E4%B8%8E%E9%9D%9E%E9%97%A8.png"
width="238"
height="207"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/3%E8%BE%93%E5%85%A5%E4%B8%8E%E9%9D%9E%E9%97%A8_hu3f134ec9e68408641e3892ad050f687e_6262_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/3%E8%BE%93%E5%85%A5%E4%B8%8E%E9%9D%9E%E9%97%A8_hu3f134ec9e68408641e3892ad050f687e_6262_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3输入与非门"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>&lt;/p>
&lt;p>我们可以计算它的电容。对于一个输入端口，它看到的栅电容为 2+3=5。而在输出端 Y，有 (2+2+2)+3=9 的电容。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/3%E8%BE%93%E5%85%A5%E4%B8%8E%E9%9D%9E%E9%97%A8%E7%9A%84%E7%94%B5%E5%AE%B9.png"
width="378"
height="296"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/3%E8%BE%93%E5%85%A5%E4%B8%8E%E9%9D%9E%E9%97%A8%E7%9A%84%E7%94%B5%E5%AE%B9_hu9efc4d5f134034f4a49878b42c8b84a5_21968_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/3%E8%BE%93%E5%85%A5%E4%B8%8E%E9%9D%9E%E9%97%A8%E7%9A%84%E7%94%B5%E5%AE%B9_hu9efc4d5f134034f4a49878b42c8b84a5_21968_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3输入与非门的电容"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="306px"
>&lt;/p>
&lt;p>因此如果一个三输入的与非门驱动一个相同的与非门，那么延时为 $t_p=0.69\times R \times (9C_D+5C_G)$&lt;/p>
&lt;h2 id="多个fanout的延时">多个fanout的延时&lt;/h2>
&lt;p>如果一个反相器接了多个相同的反相器，那么它的延时是多少？显然，因为下一级的栅电容变多了，单个栅电容为 3，那么如果扇出为 f，那么总的栅电容为 3f. 考虑上自身的电容，总的电容为 (3+3f). 所以延时为：$t_p = 0.69 R (3C_D+3C_G f)$&lt;/p>
&lt;h2 id="延时标准化">延时标准化&lt;/h2>
&lt;p>我们始终没有求 R、C 的具体数值，一方面是求解过程比较复杂；另一个方面是不同工艺下的 R、C 都不同，换个工艺就要重新算，不利于我们优化。因此，我们不妨把延时标准化：我们将不接任何负载的标准反相器（尺寸最小的反相器）的延时定义为 $t_{p0}$，即：&lt;/p>
&lt;p>$$
t_{p0} = 0.69 R\times 3C_D
$$&lt;/p>
&lt;p>从而可以对延时标准化：&lt;/p>
&lt;p>$$
d=\frac{t_{p}}{t_{p0}}
$$&lt;/p>
&lt;p>那么如果一个反相器扇出 1 个反相器，那么它的标准化延时为：&lt;/p>
&lt;p>$$
d=\frac{0.69 R\times (3C_D+3C_G)}{0.69 R\times 3C_D}=1+\frac{C_G}{C_D}
$$&lt;/p>
&lt;p>我们令 $\frac{C_D}{C_G} = \gamma$，称为 &lt;strong>proportionality factor&lt;/strong>，则 $d=1+1/\gamma$。&lt;/p>
&lt;p>如果一个反相器扇出 f 个反相器，那么它的标准化延时为：&lt;/p>
&lt;p>$$
d=\frac{0.69 R\times (3C_D+3fC_G)}{0.69 R\times 3C_D}=1+\frac{f}{\gamma}
$$&lt;/p>
&lt;p>如果一个三输入与非门扇出 f 个三输入与非门，那么它的标准化延时为：&lt;/p>
&lt;p>$$
d=\frac{0.69 R\times (9C_D+5fC_G)}{0.69 R\times 3C_D}=3+\frac{5/3f}{\gamma}
$$&lt;/p>
&lt;p>我们可以发现，标准化延时会分成两个部分：其自身电容导致的延时（&lt;strong>本征延时 $p$&lt;/strong>，也叫&lt;strong>寄生延迟&lt;/strong>）、外部扇出导致的延时（&lt;strong>努力延时 $h$&lt;/strong>）：&lt;/p>
&lt;p>$$
d=p+\frac{h}{\gamma}
$$&lt;/p>
&lt;p>本征延时 $p$ 是固定不变的，与扇出无关，甚至与自身尺寸无关，因为当尺寸增大时，$R$ 减小，$C$ 增大，两者恰好抵消。努力延时 $h$ 则与门中MOS管的数量和尺寸有关，并且与扇出的数量有关。&lt;/p>
&lt;p>$$
h=gf
$$&lt;/p>
&lt;p>&lt;strong>$g$ 是逻辑努力&lt;/strong>，它与门电路结构有关。&lt;strong>$f$ 是扇出&lt;/strong>，有时候也叫&lt;strong>电气努力&lt;/strong>。&lt;/p>
&lt;p>我希望这些不要把你绕晕了。实际上我们可以用一张图来表示上面的公式，图中横坐标表示扇出，纵坐标表示标准化延时。本征延时决定了在无扇出时的延时（也就是最底下那一部分）；而逻辑努力决定了直线的斜率。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E6%A0%87%E5%87%86%E5%8C%96%E5%BB%B6%E6%97%B6%E5%92%8C%E6%89%87%E5%87%BA%E7%9A%84%E5%85%B3%E7%B3%BB.png"
width="626"
height="535"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E6%A0%87%E5%87%86%E5%8C%96%E5%BB%B6%E6%97%B6%E5%92%8C%E6%89%87%E5%87%BA%E7%9A%84%E5%85%B3%E7%B3%BB_hufbbe9bdd33f6f338f663b9ec621b7891_45775_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E6%A0%87%E5%87%86%E5%8C%96%E5%BB%B6%E6%97%B6%E5%92%8C%E6%89%87%E5%87%BA%E7%9A%84%E5%85%B3%E7%B3%BB_hufbbe9bdd33f6f338f663b9ec621b7891_45775_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="标准化延时和扇出的关系"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="280px"
>&lt;/p>
&lt;p>值得注意的是，上面我们在说扇出时，都是以与自身相同的门为扇出。但在实际中，显然不一定是这样。我们用等效扇出来说明，比如用一个反相器驱动一个三输入与非门，前者的栅电容为 3C，后者的栅电容为 5C，那么等效扇出为 5/3，也就是说等效扇出 $f$：&lt;/p>
&lt;p>$$
f = \frac{C_{out}}{C_{in}}
$$&lt;/p>
&lt;p>$C_{in}$ 是自身栅电容，$C_{out}$ 是外部总的栅电容，有的书上也记为 $C_{int}$、$C_{ext}$。&lt;/p>
&lt;blockquote>
&lt;p>注：有的书上定义了一个路径努力 $B=\frac{C_{out}}{C_{out,path}}$，同时 $f$ 改为 $f=\frac{C_{out,path}}{C_{in}}$。$C_{out,path}$ 表示当前数据路径上的电容。因此 $h=gfb$ 才是完整的努力延时。&lt;/p>
&lt;/blockquote>
&lt;h3 id="逻辑努力">逻辑努力&lt;/h3>
&lt;p>逻辑努力定义为：自身的栅电容与反相器的栅电容之比（当然，要求两者的电阻一致）。常见的逻辑努力：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%B8%B8%E8%A7%81%E7%9A%84%E9%80%BB%E8%BE%91%E5%8A%AA%E5%8A%9B.png"
width="891"
height="327"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%B8%B8%E8%A7%81%E7%9A%84%E9%80%BB%E8%BE%91%E5%8A%AA%E5%8A%9B_hud5fa1f4bbec99f18df0e1888dfd439f7_40647_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%B8%B8%E8%A7%81%E7%9A%84%E9%80%BB%E8%BE%91%E5%8A%AA%E5%8A%9B_hud5fa1f4bbec99f18df0e1888dfd439f7_40647_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="常见的逻辑努力"
class="gallery-image"
data-flex-grow="272"
data-flex-basis="653px"
>&lt;/p>
&lt;p>具体的计算方法和“设计逻辑门的尺寸”是一样的，但是不要忘了除以标准延时（也就是除以3）。&lt;/p>
&lt;h3 id="本征延迟">本征延迟&lt;/h3>
&lt;p>本征延迟定义为：自身的漏电容与反相器的漏电容之比（当然，要求两者的电阻一致）。常见的本征延迟：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%B8%B8%E8%A7%81%E7%9A%84%E6%9C%AC%E5%BE%81%E5%BB%B6%E8%BF%9F.png"
width="900"
height="306"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%B8%B8%E8%A7%81%E7%9A%84%E6%9C%AC%E5%BE%81%E5%BB%B6%E8%BF%9F_hu971608ff56efbc88fdf1de515d9b2954_31900_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97/images/%E5%B8%B8%E8%A7%81%E7%9A%84%E6%9C%AC%E5%BE%81%E5%BB%B6%E8%BF%9F_hu971608ff56efbc88fdf1de515d9b2954_31900_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="常见的本征延迟"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="705px"
>&lt;/p>
&lt;p>具体的计算方法和“设计逻辑门的尺寸”是一样的，但是不要忘了除以标准延时（也就是除以3）。&lt;/p>
&lt;h3 id="习题">习题&lt;/h3>
&lt;p>一个4输入的与非门驱动2个3输入的或非门，问延时多少？&lt;/p>
&lt;ol>
&lt;li>先找4输入与非门自身的本征延时。根据表格，为 4&lt;/li>
&lt;li>然后找或非门的逻辑努力。根据表格，为 7/3&lt;/li>
&lt;li>有效扇出为 $2\times \frac{6/3}{9/3}=4/3$&lt;/li>
&lt;li>总的延时为 $4+\frac{4}{3}\cdot \frac{7}{3}=\frac{64}{9}$&lt;/li>
&lt;/ol>
&lt;h2 id="尺寸的影响">尺寸的影响&lt;/h2>
&lt;p>如果我们改变尺寸，延时会怎么变化？前面说过，本征延时是与尺寸无关的，那么它只会影响努力延时。我们通过两个例子来说明。&lt;/p>
&lt;p>第一个例子：一个反相器扇出另一个反相器，两者的尺寸都增大两倍，延时是多少？显然，本征延时还是 1，努力延时等于逻辑努力乘以有效扇出，$h=gf$，$g=1$，$f=1$，也就是说总延时为 $1+\gamma$，与放大前的一致。&lt;/p>
&lt;p>我们也可以用老方法算，电阻为 $R/2$，本征电容为 $6C_D$，下一级的栅电容为 $6C_G$，因此总的延时为 $0.69\cdot R(3C_D+3C_G)$，和之前算的一样。&lt;/p>
&lt;hr>
&lt;p>第二个例子：一个反相器扇出另一个反相器，前者的尺寸增大两倍，延时是多少？显然，本征延时还是 1，努力延时等于逻辑努力乘以有效扇出，$h=gf$，$g=1$，$f=0.5$，也就是说总延时为 $1+0.5/\gamma$，比放大前快。&lt;/p>
&lt;p>我们也可以用老方法算，电阻为 $R/2$，本征电容为 $6C_D$，下一级的栅电容为 $3C_G$，因此总的延时为 $0.69\cdot R(3C_D+1.5C_G)$，除以 $0.69\cdot 3RC_D$ 得到标准化延时恰好是 $1+0.5/\gamma$。&lt;/p>
&lt;hr>
&lt;p>通过上面两个例子，我们可以发现，尺寸唯一影响的就是有效扇出 $f$ 。因此今后，我们讨论扇出时就是在讨论尺寸。&lt;/p>
&lt;h2 id="延时的优化">延时的优化&lt;/h2>
&lt;p>延时怎么优化？首先，从上面尺寸的讨论可以看出，在只有一级的情况下，如果能将尺寸增大无穷多倍，那么等效扇出将为 0，从而延时可以取最小值，也就是本征延时。&lt;/p>
&lt;p>如果是多级该怎么办？可以想象，对于中间级来说，如果加大尺寸，那么前面的延时会增大，后面的延时会减小，因此存在一个最优解。&lt;/p>
&lt;p>对于一个 $N$ 级的组合逻辑电路，总的延时可以表示为：&lt;/p>
&lt;p>$$
t_p=t_{p0}\sum_{j=1}^N (p_j + \frac{f_j g_j}{\gamma})
$$&lt;/p>
&lt;p>前面说过，$p,g,\gamma$ 都是固定的，改变尺寸实际上改变的的是 $f$. 如果第 i 级的尺寸增大，那么第 $i-1$ 级的等效扇出变大，第 $i$ 级的等效扇出减小。为了分析，我们将 $f$ 用 $C_{g,i+1}/C_{g,i}$ 替代：&lt;/p>
&lt;p>$$
t_p = \cdots + \frac{C_{g,i}}{C_{g,i-1}}\frac{g_{i-1}}{\gamma}+\frac{C_{g,i+1}}{C_{g,i}}\frac{g_i}{\gamma}+\cdots
$$&lt;/p>
&lt;p>当 $C_{g,i}$ 取什么时，这个延时最小？根据基本不等式：&lt;/p>
&lt;p>$$
a+b \geq \sqrt{2ab}\
当且仅当 a=b 时取最小值
$$&lt;/p>
&lt;p>因此当 $\frac{C_{g,i}}{C_{g,i-1}}\frac{g_{i-1}}{\gamma} = \frac{C_{g,i+1}}{C_{g,i}}\frac{g_i}{\gamma}$，也就是 $f_{i-1}g_{i-1}=f_{i}g_{i}$ 时 延时最小。这个结论可以推广到 $N$ 级：&lt;/p>
&lt;p>$$
f_1 g_1 = f_2 g_2 = \cdots f_N g_N
$$&lt;/p>
&lt;p>那么这个 $h = f_i g_i$ 具体等于多少呢？我们定义&lt;strong>路径的等效扇出&lt;/strong>、&lt;strong>路径的逻辑努力&lt;/strong>：&lt;/p>
&lt;p>$$
F = f_1f_2\cdots f_N = C_L/C_{G1}\
G = g_1g_2\cdots g_N
$$&lt;/p>
&lt;p>因此&lt;strong>路径努力&lt;/strong>为：$H=FG$&lt;/p>
&lt;p>因此我们有：&lt;/p>
&lt;p>$$
h = \sqrt[N]{\prod_{j=1}^N f_j g_j} = \sqrt[N]{FG} = \sqrt[N]{H}
$$&lt;/p>
&lt;p>也就是每一级的 $fg$ 都应该等于 $h$，此时有最小延迟：&lt;/p>
&lt;p>$$
D=t_{p0} \left(\sum_{j=1}^N p_j + \frac{N(\sqrt[N]{H})}{\gamma} \right)
$$&lt;/p></description></item><item><title>组合逻辑电路实现</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E5%AE%9E%E7%8E%B0/</link><pubDate>Mon, 10 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E5%AE%9E%E7%8E%B0/</guid><description>&lt;p>本节介绍组合逻辑电路有多种实现方式，下面主要分析各种实现方式的优缺点。&lt;/p>
&lt;blockquote>
&lt;p>如果我没有写完，那么可以去看：&lt;a class="link" href="https://www.cnblogs.com/lyc-seu/p/12832029.html" target="_blank" rel="noopener"
>专用集成电路 &amp;ndash; CMOS组合逻辑设计&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="无比电路">无比电路&lt;/h2>
&lt;h2 id="有比电路">有比电路&lt;/h2>
&lt;p>基本原理：把上拉网络换成一个“电阻”，其输出电压为：$V_{DD}$ 或 $\frac{R_{PDN}}{R_{PDN}+R_L}$。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E5%AE%9E%E7%8E%B0/images/ratioed_logic.png"
width="946"
height="432"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E5%AE%9E%E7%8E%B0/images/ratioed_logic_hu6c390ccab9206740996140e7e9efb2d0_46801_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF%E5%AE%9E%E7%8E%B0/images/ratioed_logic_hu6c390ccab9206740996140e7e9efb2d0_46801_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="有比逻辑"
class="gallery-image"
data-flex-grow="218"
data-flex-basis="525px"
>&lt;/p>
&lt;p>“电阻”也可以用一个耗尽型的NMOS或增强型的PMOS（也叫pseudo-NMOS）来实现，这两者的面积都比电阻小（优点，记！）；同时pseudo-NMOS比NMOS好，因为PMOS没有body effect，并且电流更大（也就是等效电阻更小）&lt;/p>
&lt;p>相比与无比电路的优缺点：&lt;/p>
&lt;ul>
&lt;li>优点：
&lt;ul>
&lt;li>管子数量少&lt;/li>
&lt;li>逻辑努力更少，速度更快&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>缺点：
&lt;ul>
&lt;li>存在静态功耗&lt;/li>
&lt;li>输出电压取决于管子比例&lt;/li>
&lt;li>鲁棒性更差&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>要改进有比逻辑，有两个方向：&lt;/p>
&lt;ul>
&lt;li>使得输出为 VDD~0：差分串联电压开关逻辑（Differential Cascode Voltage Switch Logic），注意这依然是有比逻辑
&lt;ul>
&lt;li>优势：
&lt;ul>
&lt;li>消除静态电流&lt;/li>
&lt;li>提供轨到轨输出&lt;/li>
&lt;li>同时产生了输出和其反信号，节省了额外的反相器，避免使用反相器引起的时差问题。这实际上受益于差分逻辑。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>缺陷：
&lt;ul>
&lt;li>增加开关的活动性&lt;/li>
&lt;li>增加动态功耗&lt;/li>
&lt;li>布线增多&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>使得静态功耗减小：动态逻辑（后面会讲）&lt;/li>
&lt;/ul>
&lt;h2 id="动态逻辑">动态逻辑&lt;/h2>
&lt;h2 id="基于传输门的实现">基于传输门的实现&lt;/h2>
&lt;p>优点&lt;/p>
&lt;p>缺点&lt;/p></description></item><item><title>寄存器的实现</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/</link><pubDate>Tue, 04 Jul 2023 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/</guid><description>&lt;p>本文主要将 latch 和 flip-flop 的实现方法。&lt;/p>
&lt;p>存储单元可以分类为：&lt;/p>
&lt;ul>
&lt;li>静态存储：靠正反馈来保持数据&lt;/li>
&lt;li>动态存储：靠电容保持数据&lt;/li>
&lt;/ul>
&lt;h2 id="静态存储">静态存储&lt;/h2>
&lt;p>静态存储靠正反馈来保持数据。最简单的正反馈就是两个首尾相连的反相器，只要&lt;strong>中间增益大于1&lt;/strong>，那么它就会向两边靠拢，达到稳态。（中间还有个亚稳态，不过只要有一点扰动，它就会变成稳态）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/bi-stability.png"
width="888"
height="612"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/bi-stability_hu7098d4e7a4b33759352415ace8c52f55_67288_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/bi-stability_hu7098d4e7a4b33759352415ace8c52f55_67288_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="双稳态"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="348px"
>&lt;/p>
&lt;p>那么我们如何向这个存储写入值呢？有两种方法：&lt;/p>
&lt;ol>
&lt;li>断开反馈（D锁存器）&lt;/li>
&lt;li>强制改变状态（D锁存器）&lt;/li>
&lt;li>将反相器换成或非门（SR锁存器）&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/writing_into_a_static_latch.png"
width="1075"
height="532"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/writing_into_a_static_latch_hufcf8501d733ccf18d653817d5e88d34d_75426_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/writing_into_a_static_latch_hufcf8501d733ccf18d653817d5e88d34d_75426_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="向静态latch写入值"
class="gallery-image"
data-flex-grow="202"
data-flex-basis="484px"
>&lt;/p>
&lt;p>上面就是最简单的 D-latch，根据时钟的不同，可以分为 positive latch（在clk=1时锁存）和negative latch（在clk=0时锁存）。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/mux-based-latches.png"
width="1033"
height="634"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/mux-based-latches_hu385ee588be6d93264500011b9edc6203_70008_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/mux-based-latches_hu385ee588be6d93264500011b9edc6203_70008_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="基于选择器的latch"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="391px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/master-slave-flip-flop.png"
width="677"
height="336"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/master-slave-flip-flop_hu3cc144549cfd7bdb39d505e83e3e35cc_34846_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/master-slave-flip-flop_hu3cc144549cfd7bdb39d505e83e3e35cc_34846_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="主从寄存器"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="483px"
>&lt;/p>
&lt;p>一正一反两个锁存器组合在一起，就是一个 flip-flop。前面的叫 master，后面叫 slave.其工作过程如下：&lt;/p>
&lt;ol>
&lt;li>clk=0，master 对 D 进行采样&lt;/li>
&lt;li>clk=1，master 保持刚刚采样得到的数据，slave 对 QM 采样并输出 Q&lt;/li>
&lt;/ol>
&lt;p>结合具体的电路图，我们就可以将 $t_{setup}$ 和 $t_{c-q}$ 计算出来：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/flip-flop-time-contraint.png"
width="984"
height="577"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/flip-flop-time-contraint_hue5f29ccc4f831dd70928b7e200538005_123177_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/flip-flop-time-contraint_hue5f29ccc4f831dd70928b7e200538005_123177_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="flip-flop 时序约束"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="409px"
>&lt;/p>
&lt;p>也就是说，$t_{setup}$ 是第一个锁存器形成“正反馈”的时间；而 $t_{c-q}$ 则是第二个锁存器的传输门的输入到 Q 所需的时间。&lt;/p>
&lt;p>由于传输门关闭需要一定时间，在这个时间内，D 需要保持一段 $t_{hold}$ 时间，否则新数据就会破坏“正反馈”所存储的值。&lt;/p>
&lt;p>更准确的定义见下图：当 D 的上升沿与时钟上升沿靠得很近得时候，由于反相器未输出强 0，所以就需要一段从非稳态到稳态的时间（也就是本文第一张图），因此就会导致 $t_{c-q}$ 加长。类似的，如果 D 在时钟上升沿后变化，也会导致 $t_{c-q}$ 加长。取 $1.05t_{c-q}$ 作为“阈值”，这段时间就是 $t_{setup}$ 和 $t_{hold}$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/setup_time_illustration.png"
width="667"
height="614"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/setup_time_illustration_hufa4ff152b9bd7979b2ddf4b763e10371_43566_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/setup_time_illustration_hufa4ff152b9bd7979b2ddf4b763e10371_43566_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="建立时间示意图"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="260px"
>&lt;/p>
&lt;p>flip-flop 是工艺库中的标准单元（有不同大小的），这些时序约束由工艺库给出。值得注意的是，其中有些 $t_{hold}$ 是负的，也就是说，在上升沿之前，D 可以变化（不需要保持）。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/real_timing_constraints.png"
width="701"
height="312"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/real_timing_constraints_huf2fb92bec9d251582b000f5f4085d6a9_103287_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/real_timing_constraints_huf2fb92bec9d251582b000f5f4085d6a9_103287_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="工艺库"
class="gallery-image"
data-flex-grow="224"
data-flex-basis="539px"
>&lt;/p>
&lt;p>下面是一道简单的习题。我们只需要记住：$t_{hold}$ 的 D 和 Q 的波形是相同的；而 $t_{setup}$ 的 D 和 Q 波形是相反的。$t_{ccq}$ 是最早的，$t_{pcq}$ 是最慢的。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/exercise_find_t.png"
width="700"
height="630"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/exercise_find_t_hu3533abeda7f96ed94f74f92466eb733e_277156_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/exercise_find_t_hu3533abeda7f96ed94f74f92466eb733e_277156_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="练习题"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="266px"
>&lt;/p>
&lt;h2 id="动态存储">动态存储&lt;/h2>
&lt;p>动态存储就是靠电容来存储值。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/dynamic_transmission_gate_register.png"
width="642"
height="472"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/dynamic_transmission_gate_register_hu1c69abf98ceb6dd75ef51f0434147106_60788_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/dynamic_transmission_gate_register_hu1c69abf98ceb6dd75ef51f0434147106_60788_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="动态flip-flop"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="326px"
>&lt;/p>
&lt;p>动态存储的缺点是：&lt;/p>
&lt;ol>
&lt;li>对噪声敏感&lt;/li>
&lt;li>存在漏电流&lt;/li>
&lt;li>节点不跟随电源电压变化&lt;/li>
&lt;/ol>
&lt;p>解决方法是加一个弱的反馈反相器。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/pseudo_static_latch.png"
width="744"
height="535"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/pseudo_static_latch_hu6d5ca77b728d18ca7553d018909326d9_84127_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/pseudo_static_latch_hu6d5ca77b728d18ca7553d018909326d9_84127_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="伪静态"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="333px"
>&lt;/p>
&lt;h2 id="时钟重叠">时钟重叠&lt;/h2>
&lt;p>无论是静态存储还是动态存储，它们都会受时钟交叠的影响。以静态存储为例，时钟交叠时，整个寄存器都是“透明的”，因此为了避免交叠对数据的影响，必须满足：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/overlapping_clocks.png"
width="728"
height="466"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/overlapping_clocks_hu3c09c9759e69e79e0606df53e52d1fc1_72217_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/overlapping_clocks_hu3c09c9759e69e79e0606df53e52d1fc1_72217_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="交叠时钟"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="374px"
>&lt;/p>
&lt;p>而 ${\rm C^2MOS}$ 就是一种解决方法。${\rm C^2MOS}$ 表示 Clocked CMOS，也就是在组合逻辑门中，加入时钟（把时钟当作逻辑的一部分）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/C2MOS.png"
width="777"
height="495"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/C2MOS_hu7eab26c092665e892d90109d9322b6cd_138551_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/C2MOS_hu7eab26c092665e892d90109d9322b6cd_138551_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="C2MOS"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="376px"
>&lt;/p>
&lt;p>当存在时钟交叠时，C2MOS 中不存在一条从 D 到 Q 的路径。比如 0-0 交叠时，如果 D=1，那么 M2 断开；如果 D=0，那么 M6 断开，Q始终不受影响。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/c2mos_insensitive_to_clock_overlap.png"
width="753"
height="462"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/c2mos_insensitive_to_clock_overlap_hufe9ac708866b8add7b1ad7eb965e803e_130879_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/c2mos_insensitive_to_clock_overlap_hufe9ac708866b8add7b1ad7eb965e803e_130879_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="C2MOS对交叠不敏感"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="391px"
>&lt;/p>
&lt;p>另一种解决方法是：只采用一个时钟。这种电路称为：真单相时钟寄存器（True Single-Phase Clocked Register）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_register.png"
width="793"
height="438"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_register_hu526fa0cbeb12c764374994870d46a1dd_32757_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_register_hu526fa0cbeb12c764374994870d46a1dd_32757_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="真单相时钟锁存器"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="434px"
>&lt;/p>
&lt;p>它的工作原理和 C2MOS 类似。这里就不多说。上图两类锁存器结合，就得到 flip-flop&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_flip_flop.png"
width="746"
height="398"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_flip_flop_hufd3d392b5a285b3e7fc75ab297ff90a6_42023_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_flip_flop_hufd3d392b5a285b3e7fc75ab297ff90a6_42023_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="真单相时钟flip-flop"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="449px"
>&lt;/p>
&lt;p>我们可以将中间两级合并，从而减少中间晶体管的数量：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_flip_flop_with_fewer_devices.png"
width="635"
height="416"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_flip_flop_with_fewer_devices_huc5931c1b9540485eb110cee8bd7d330d_46249_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/images/TSPC_flip_flop_with_fewer_devices_huc5931c1b9540485eb110cee8bd7d330d_46249_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="简化的真单相时钟flip-flop"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;ul>
&lt;li>CLK=0，X采样D，Y=1，Q保持&lt;/li>
&lt;li>CLK=1，
&lt;ul>
&lt;li>如果 D=1，那么 X=0，Y=1，输出 0&lt;/li>
&lt;li>如果 D=0，那么 X=1，Y=0，输出 1&lt;/li>
&lt;li>如果 D=0→1，那么 X=1→0，但 Y 会先放电，所以只能输出 Y=0，输出 1&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>SymPy教程</title><link>https://todd.scuteee.com/posts/2023/203-06-22-sympy-tutorial.md/</link><pubDate>Thu, 22 Jun 2023 15:13:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2023/203-06-22-sympy-tutorial.md/</guid><description>&lt;h2 id="简介">简介&lt;/h2>
&lt;p>&lt;a class="link" href="https://docs.sympy.org/latest/index.html" target="_blank" rel="noopener"
>SymPy&lt;/a> 是一个符号计算Python库。什么是符号计算？举个例子：如果有个这样的方程：&lt;/p>
&lt;p>$$
\begin{cases}
x+y=5\
x-y=1
\end{cases}
$$&lt;/p>
&lt;p>我们可以用计算器的“解多元方程”来算出来。但是如果有这么一个方程：&lt;/p>
&lt;p>$$
\begin{cases}
x+y=a\
x-y=b
\end{cases}
$$&lt;/p>
&lt;p>$a,b$ 是常数。那么，计算器就算不出来了。这时就需要符号计算。&lt;/p>
&lt;h2 id="安装">安装&lt;/h2>
&lt;p>直接用 &lt;code>conda install sympy&lt;/code> 安装。&lt;/p>
&lt;h2 id="定义符号">定义符号&lt;/h2>
&lt;p>为了方便，我们直接全部导入：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">sympy&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>首先是定义符号：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">symbols&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;x y&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">symbols&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;x_1 x_2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 支持 latex 的写法&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>定义好后，可以用符号来书写表达式。&lt;/p>
&lt;p>如果表达式中有很多符号，则一个一个定义太麻烦。可以用 &lt;code>sympify()&lt;/code> 将字符串直接转化为表达式。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">str_expr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;x_1**2 + 2*x_2 + 1&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sympify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">str_expr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#等效于&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">symbols&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;x_1 x_2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">expr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">x2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="求解方程组">求解方程组&lt;/h2>
&lt;p>解线性方程组：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 定义符号&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">symbols&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;x y&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">symbols&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a b&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 定义方程&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">f1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">f2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#求解&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">solve&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">f1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">f2&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">latex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>得到的结果如下：&lt;/p>
&lt;p>$$
\left{\left( \frac{a + b}{2}, \ \frac{a - b}{2}\right)\right}
$$&lt;/p>
&lt;p>如果是非线性的，只需要将上面的 &lt;code>solve()&lt;/code> 换成 &lt;code>nonlinsolve()&lt;/code> 即可。&lt;/p>
&lt;h2 id="化简">化简&lt;/h2>
&lt;p>参考 &lt;a class="link" href="https://zhuanlan.zhihu.com/p/111573239" target="_blank" rel="noopener"
>SymPy 符号计算基本教程&lt;/a>&lt;/p></description></item><item><title>机械键盘</title><link>https://todd.scuteee.com/posts/2023/2023-06-20-mechanical-keyboard/</link><pubDate>Tue, 20 Jun 2023 20:32:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2023/2023-06-20-mechanical-keyboard/</guid><description>&lt;p>工欲善其事必先利其器，一把好的键盘，可以让我们在打字、玩游戏的时候更加畅快。清脆的键盘声，软弹的手感，让再痛苦的文字输入也是一种享受。&lt;/p>
&lt;p>我们最常用的键盘是薄膜键盘（比如笔记本上的键盘），它的电路只是薄薄的一层膜，上面是一层导电橡胶，通过按下橡胶使得电路导通，从而产生输入。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2023/2023-06-20-mechanical-keyboard/images/%E8%96%84%E8%86%9C%E9%94%AE%E7%9B%98.jpg"
width="1000"
height="562"
srcset="https://todd.scuteee.com/posts/2023/2023-06-20-mechanical-keyboard/images/%E8%96%84%E8%86%9C%E9%94%AE%E7%9B%98_hu701cef2a510f870dc4e00b6916650ad2_138285_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2023/2023-06-20-mechanical-keyboard/images/%E8%96%84%E8%86%9C%E9%94%AE%E7%9B%98_hu701cef2a510f870dc4e00b6916650ad2_138285_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="薄膜键盘"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="427px"
>&lt;/p></description></item><item><title>时序约束</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/</link><pubDate>Sat, 17 Jun 2023 23:11:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/</guid><description>&lt;blockquote>
&lt;p>老师ppt上花了近50页讲这个，但我还是听不懂……&lt;/p>
&lt;/blockquote>
&lt;h2 id="时序约束">时序约束&lt;/h2>
&lt;p>时序逻辑电路的时序约束有点像照相，如果在快门按下的瞬间动了，那么拍出来的照片就会模糊。寄存器就像照相机，时钟上升沿就是快门按下的瞬间，为了正确“拍照”，必须满足以下条件：&lt;/p>
&lt;ul>
&lt;li>为了正确采样输入，
&lt;ul>
&lt;li>时钟变化前，输入必须稳定一段时间 $t_{setup}$&lt;/li>
&lt;li>时钟变化后，输入必须稳定一段时间 $t_{hold}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>时钟变化后
&lt;ul>
&lt;li>到输出开始变化的间隔（最快路径）：clock-to-Q contamination delay, $t_{ccq}$&lt;/li>
&lt;li>到输出稳定的间隔（最慢路径）：clock-to-Q propagation delay, $t_{pcq}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/timing_specification.png"
width="669"
height="195"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/timing_specification_hud11166ca9fd58a049efe29a06620d43b_25375_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/timing_specification_hud11166ca9fd58a049efe29a06620d43b_25375_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="时序约束中的量"
class="gallery-image"
data-flex-grow="343"
data-flex-basis="823px"
>&lt;/p>
&lt;p>以上条件主要针对时序逻辑电路中的 flip-flop 和 latch，除此之外，时序逻辑电路中也有组合逻辑的部分，其中与时间有关的量列举如下：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/timing_specification2.png"
width="644"
height="589"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/timing_specification2_hu038402acd3ebd6aa27eb7980de57ace6_68530_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/timing_specification2_hu038402acd3ebd6aa27eb7980de57ace6_68530_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="时序约束中的量"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="262px"
>&lt;/p>
&lt;p>flip-flop 和 latch 需要配合组合逻辑电路来组成完整的时序逻辑电路，如下图。要让电路正常工作，需要满足一些约束条件。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/path_between_registers_and_timing_diagram.png"
width="749"
height="161"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/path_between_registers_and_timing_diagram_hu5049a58c63e283b1da9e77b6143e15a4_22981_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/path_between_registers_and_timing_diagram_hu5049a58c63e283b1da9e77b6143e15a4_22981_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="时序逻辑电路与时序图"
class="gallery-image"
data-flex-grow="465"
data-flex-basis="1116px"
>&lt;/p>
&lt;h3 id="建立时间约束周期约束">建立时间约束（周期约束）&lt;/h3>
&lt;p>在第一个时钟沿时，数据从 R1 输入，经过组合逻辑电路，在第二个时钟沿从 R2 输出。在这期间，有三个延时：&lt;/p>
&lt;ol>
&lt;li>时钟沿上升，数据从 Q1 输出的时间 $t_{pcq}$&lt;/li>
&lt;li>组合逻辑电路处理的时间 $t_{pd}$&lt;/li>
&lt;li>R2 输入保持的时间 $t_{setup}$&lt;/li>
&lt;/ol>
&lt;p>因此时钟周期必须大于三者之和：&lt;/p>
&lt;p>$$
T_c \geq t_{pcq}+t_{pd}+t_{setup}
$$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/maximum_delay_for_setup_time_constraint.png"
width="729"
height="261"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/maximum_delay_for_setup_time_constraint_huaa76ac1e9e689704a8400ff91c8bd4bb_27927_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/maximum_delay_for_setup_time_constraint_huaa76ac1e9e689704a8400ff91c8bd4bb_27927_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="maximum delay for setup time constraint"
class="gallery-image"
data-flex-grow="279"
data-flex-basis="670px"
>&lt;/p>
&lt;p>其中，flip-flop 的 $t_{pcq}$ 和 $t_{setup}$ 都是取决于工艺，因此只能改变 $T_c$ 和 $t_{pd}$。而 $T_c$ 一般是设计之初就定好的，所以只能改变 $t_{pd}$. 所以将上式改写为：&lt;/p>
&lt;p>$$
t_{pd}&amp;lt;T_c - (t_{pcq}+t_{setup})
$$&lt;/p>
&lt;p>也就是说组合逻辑的延迟不能超过一定值。总的周期 $T_c$ 是固定的，减去&lt;strong>时序开销（sequencing overhead）&lt;/strong>$(t_{pcq}+t_{setup})$ 后，剩下的就是留给组合逻辑的时间。&lt;/p>
&lt;h3 id="保持时间约束">保持时间约束&lt;/h3>
&lt;p>前面说的是数据最慢的情况，那么是不是可以无限快呢？显然不是，我们要确保在第一个时钟沿时，数据不会从 R2 跑出来，否则 R2 就采不到上一个时钟的数据。因此：&lt;/p>
&lt;p>$$
t_{ccq}+t_{cd}&amp;lt;t_{hold}
$$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/min_delay_constraint.png"
width="681"
height="447"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/min_delay_constraint_hu3d85ce9fdf4d410bee42cb5f676e6b12_32248_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/min_delay_constraint_hu3d85ce9fdf4d410bee42cb5f676e6b12_32248_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="最小延时限制"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="365px"
>&lt;/p>
&lt;h2 id="非理想因素">非理想因素&lt;/h2>
&lt;h3 id="clock-skew-时钟偏差-与-clock-jitter-时钟抖动">Clock Skew 时钟偏差 与 Clock Jitter 时钟抖动&lt;/h3>
&lt;p>两者的区别在于：&lt;/p>
&lt;ul>
&lt;li>时钟偏差比较的是两个寄存器的时钟，且只是相位变化，但周期不变&lt;/li>
&lt;li>时钟抖动则是同一个寄存器时钟不同时刻，且是随机变化，周期会改变&lt;/li>
&lt;/ul>
&lt;p>产生的原因：&lt;/p>
&lt;ul>
&lt;li>系统性错误：生产造成芯片与芯片不同&lt;/li>
&lt;li>时钟产生错误：VCO受噪声、电源等影响&lt;/li>
&lt;li>器件错误：时钟通路上的buffers&lt;/li>
&lt;li>互连线错误：互连线的电阻、电容&lt;/li>
&lt;li>环境影响：温度和电源的影响&lt;/li>
&lt;li>电容耦合的影响：时钟通路受信号通路的影响&lt;/li>
&lt;/ul>
&lt;p>时钟偏差分为正时钟偏差（时钟方向和数据方向一致，后面的时钟慢一点）和负时钟偏差（时钟方向和数据方向相反，前面的时钟慢一点）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/positive_and_negative_skew.png"
width="968"
height="655"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/positive_and_negative_skew_huf4e076cc831c242ffb4d50e3e76f1324_96428_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/positive_and_negative_skew_huf4e076cc831c242ffb4d50e3e76f1324_96428_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="正时钟偏差和负时钟偏差"
class="gallery-image"
data-flex-grow="147"
data-flex-basis="354px"
>&lt;/p>
&lt;p>正时钟偏差会导致等效周期变为 $T+\delta$；负时钟偏差会导致等效周期变为 $T-\delta$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/positive_skew.png"
width="963"
height="464"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/positive_skew_hu073be0e5be81e13f8ff059becc4a6833_82417_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/positive_skew_hu073be0e5be81e13f8ff059becc4a6833_82417_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="正时钟偏差"
class="gallery-image"
data-flex-grow="207"
data-flex-basis="498px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/negative_skew.png"
width="1036"
height="536"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/negative_skew_hu4b88eb0b437466c1bbc9f3a61a3e23a1_84109_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/negative_skew_hu4b88eb0b437466c1bbc9f3a61a3e23a1_84109_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="负时钟偏差"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="463px"
>&lt;/p>
&lt;ul>
&lt;li>正时钟偏差
&lt;ul>
&lt;li>更容易满足建立时间约束 $T+\delta = t_{c-q}+t_{su}+t_{logic,max}$&lt;/li>
&lt;li>但可能会违反保持时间约束 $t_{hold}+\delta&amp;lt;t_{c-q}+t_{logic,min}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>负时钟偏差
&lt;ul>
&lt;li>可能会违反建立时间约束 $T-\delta = t_{c-q}+t_{su}+t_{logic,max}$&lt;/li>
&lt;li>更容易满足保持时间约束 $t_{hold}-\delta&amp;lt;t_{c-q}+t_{logic,min}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>而时钟抖动则考虑最坏情况，即：&lt;/p>
&lt;ul>
&lt;li>$T-2\delta = t_{c-q}+t_{su}+t_{logic,max}$&lt;/li>
&lt;li>$t_{hold}+2\delta&amp;lt;t_{c-q}+t_{logic,min}$&lt;/li>
&lt;/ul>
&lt;h2 id="时间借用-time-borrowing">时间借用 Time Borrowing&lt;/h2>
&lt;p>对于 flip-flop，数据不能太晚也不能太早，因为 flip-flop 只在上升沿的瞬间导通数据，所以必须在上升沿之前准备好数据。&lt;/p>
&lt;p>但是，对于 Latch 则不同，它在整个高电平都可以导通数据。因此 Latch 的时钟通常是个 pulse（这样它就和flip-flop一样，在那个瞬间导通数据），数据必须在上升沿之前准备好。&lt;/p>
&lt;p>但如果 Latch 的时钟不是 pulse，而是维持一段时间，那么就不需要在上升沿前准备好数据，而是在高电平结束前准备好数据就行。这就叫 Time Borrowing，上个周期没没处理完的数据，可以在下个周期继续处理。&lt;/p>
&lt;p>下面是一个例子，有一个两相时钟的 latch 电路。正常情况下，在时钟2的上升沿前，数据要准备好，因此用于处理数据的时间只有 $T_c/2$. 有了 Time Borrowing，就可以多处理 $T_{\phi_2,high}-t_{setup}$，也就是下面所说的 $t_{borrow}\leq \frac{T_c}{2}-(t_{setup}+t_{nonoverlap})$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/time-borrowing-of-2-phase-latch.png"
width="827"
height="691"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/time-borrowing-of-2-phase-latch_hub0a635fd2008e6f4586b661dbeaa0990_80683_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/time-borrowing-of-2-phase-latch_hub0a635fd2008e6f4586b661dbeaa0990_80683_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="两相latch"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;p>为了使可以借用的时间最大，显然 $\phi_1$ 和 $\phi_2$ 应该反相，也就是像下图这样。此时最多可以借半个周期。&lt;/p>
&lt;p>但这个只考虑了两个 latch，如果有三个 latch，前面借了时间，那么后面就少了时间，也就是参考下图：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/slack_borrowing.png"
width="996"
height="667"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/slack_borrowing_hu4a916683f47f582152d45df984b6ba0a_92460_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/slack_borrowing_hu4a916683f47f582152d45df984b6ba0a_92460_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="slack borrowing"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
>&lt;/p>
&lt;p>当然啦，后面少的时间也可以继续向下一级借。&lt;/p>
&lt;p>那么就有个问题，最小时钟周期是多少？为了简化分析，我们假设 $t_{c-q}$ 和 $t_{setup}$ 等于 0. 我们要确保数据在时钟有效时进行“交接”，如下图所示：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/latch_based_pipeline.png"
width="807"
height="386"
srcset="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/latch_based_pipeline_hu3b2b63de5572a612001dcbbc243e7368_98973_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/7-%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/images/latch_based_pipeline_hu3b2b63de5572a612001dcbbc243e7368_98973_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="latch based pipeline"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="501px"
>&lt;/p>
&lt;p>如何确保呢？如果考虑一级，那么它用于处理数据的时间最多为 $1T$（向下一级借 $0.5T$）；如果考虑二级，那么它用于处理数据的时间最多为 $1.5T$（向下一级借 $0.5T$）。以此类推，对于 N 级，处理数据的时间最多为 $N\times 0.5T+0.5$。因此，我们需要从 1 级考虑到 N 级，从中选择最大延迟 $T_{\max} = T_{1}+T_{2}+\cdots $（${1,2,\cdots}$ 是相邻的级），那么时钟就必须大于 $T_{\max}/(N\times 0.5+0.5)$&lt;/p>
&lt;p>以上面的电路为例，我们来求最小时钟：&lt;/p>
&lt;ul>
&lt;li>一级：$T_{clk}&amp;gt;75/1=75$&lt;/li>
&lt;li>二级：$T_{clk}&amp;gt;(75+50)/1.5=83.3$&lt;/li>
&lt;li>三级：$T_{clk}&amp;gt;(75+50+75)/2=100$&lt;/li>
&lt;li>四级：$T_{clk}&amp;gt;(75+50+75+50)/2.5=100$&lt;/li>
&lt;/ul>
&lt;p>因此最小时钟为 100ns（和图中一致）&lt;/p></description></item><item><title>WSL手册</title><link>https://todd.scuteee.com/posts/2023/2023-06-13-wsl-manual.md/</link><pubDate>Tue, 13 Jun 2023 19:24:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2023/2023-06-13-wsl-manual.md/</guid><description>&lt;h2 id="wsl-简介">WSL 简介&lt;/h2>
&lt;p>WSL（Windows Subsystem for Linux），中文为“适用于 Linux 的 Windows 子系统”，是 Windows 自带的虚拟机，利用这个我们可以方便地在 Windows 上安装 Linux 系统。&lt;/p>
&lt;h2 id="安装">安装&lt;/h2>
&lt;p>安装过程可以参考 &lt;a class="link" href="https://learn.microsoft.com/zh-cn/windows/wsl/install" target="_blank" rel="noopener"
>使用 WSL 在 Windows 上安装 Linux&lt;/a>，简单来说就是打开 Hyper-V（在“启用或关闭 Windows 功能”里），然后运行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-install&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>默认情况下安装 Ubuntu，也可以指定特定的 Linux 发行版：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-install&lt;/span> &lt;span class="n">-d&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Distribution&lt;/span> &lt;span class="n">Name&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>&amp;lt;&amp;lt;Distribution Name&amp;gt;&lt;/code> 可以用 &lt;code>wsl --list --online&lt;/code> 来查看，目前可用的系统为：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">NAME&lt;/span> &lt;span class="n">FRIENDLY&lt;/span> &lt;span class="n">NAME&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ubuntu&lt;/span> &lt;span class="n">Ubuntu&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Debian&lt;/span> &lt;span class="n">Debian&lt;/span> &lt;span class="n">GNU&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">Linux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">kali-linux&lt;/span> &lt;span class="n">Kali&lt;/span> &lt;span class="n">Linux&lt;/span> &lt;span class="n">Rolling&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ubuntu&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="mf">18.04&lt;/span> &lt;span class="n">Ubuntu&lt;/span> &lt;span class="mf">18.04&lt;/span> &lt;span class="n">LTS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ubuntu&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="mf">20.04&lt;/span> &lt;span class="n">Ubuntu&lt;/span> &lt;span class="mf">20.04&lt;/span> &lt;span class="n">LTS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ubuntu&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="mf">22.04&lt;/span> &lt;span class="n">Ubuntu&lt;/span> &lt;span class="mf">22.04&lt;/span> &lt;span class="n">LTS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">OracleLinux_7_9&lt;/span> &lt;span class="n">Oracle&lt;/span> &lt;span class="n">Linux&lt;/span> &lt;span class="mf">7.9&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">OracleLinux_8_7&lt;/span> &lt;span class="n">Oracle&lt;/span> &lt;span class="n">Linux&lt;/span> &lt;span class="mf">8.7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">OracleLinux_9_1&lt;/span> &lt;span class="n">Oracle&lt;/span> &lt;span class="n">Linux&lt;/span> &lt;span class="mf">9.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">SUSE-Linux&lt;/span>&lt;span class="n">-Enterprise-Server&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="mf">15&lt;/span>&lt;span class="n">-SP4&lt;/span> &lt;span class="n">SUSE&lt;/span> &lt;span class="n">Linux&lt;/span> &lt;span class="n">Enterprise&lt;/span> &lt;span class="n">Server&lt;/span> &lt;span class="mf">15&lt;/span> &lt;span class="n">SP4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">openSUSE-Leap&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="mf">15.4&lt;/span> &lt;span class="n">openSUSE&lt;/span> &lt;span class="n">Leap&lt;/span> &lt;span class="mf">15.4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">openSUSE-Tumbleweed&lt;/span> &lt;span class="n">openSUSE&lt;/span> &lt;span class="n">Tumbleweed&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以同时安装不同的发行版，但每个发行版都只能安装一个，如果想安装多个，需要一些特殊手段，并且或多或少都存在问题，在此不再介绍。不同发行版会有自己的 Terminal，因此无需担心切换问题。&lt;/p>
&lt;h2 id="关闭与卸载">关闭与卸载&lt;/h2>
&lt;p>关闭所有虚拟机：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-shutdown&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>关闭特定的发行版：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-terminate&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Distribution&lt;/span> &lt;span class="n">Name&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>卸载特定发行版：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-unregister&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">DistributionName&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="开机自启">开机自启&lt;/h2>
&lt;p>WSL 默认是开机不自启的，若需要开机自启，可以参考：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/471272756" target="_blank" rel="noopener"
>WSL2及服务自启动&lt;/a>&lt;/p>
&lt;h2 id="gui程序">GUI程序&lt;/h2>
&lt;p>现在 WSL 直接就支持 GUI 程序，直接安装应用程序即可，比如 &lt;code>sudo apt install VLC&lt;/code>&lt;/p></description></item><item><title>更换固态</title><link>https://todd.scuteee.com/posts/2023/2023-06-06-change-ssd/</link><pubDate>Fri, 02 Jun 2023 12:27:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2023/2023-06-06-change-ssd/</guid><description>&lt;p>美美在618送了我一个固态硬盘（致钛的TiPlus7100），我把原来的 TiPlus5000 换下来给她。&lt;/p>
&lt;h2 id="1-备份文件">1. 备份文件&lt;/h2>
&lt;p>更换固态之前，确保重要文件都已经备份了，并且记录下有用的软件的名字。&lt;/p>
&lt;h2 id="2-制作系统安装u盘">2. 制作系统安装U盘&lt;/h2>
&lt;ol>
&lt;li>下载系统文件（以.iso结尾），很多高校都有微软正版化网站，上面就有系统文件；或者使用下面的磁力链接。根据自己需要选择 11 或 10（我选择 11）
&lt;ul>
&lt;li>Windows 11 (business editions), version 22H2：&lt;a class="link" href="magnet:?xt=urn:btih:bdfd6c7500a4726870c4d5214250657f6d00015c&amp;amp;dn=zh-cn_windows_11_business_editions_version_22h2_updated_may_2023_x64_dvd_76248ab3.iso&amp;amp;xl=5757857792" >magnet:?xt=urn:btih:bdfd6c7500a4726870c4d5214250657f6d00015c&amp;dn=zh-cn_windows_11_business_editions_version_22h2_updated_may_2023_x64_dvd_76248ab3.iso&amp;xl=5757857792&lt;/a>&lt;/li>
&lt;li>Windows 10 (business editions), version 22H2：&lt;a class="link" href="magnet:?xt=urn:btih:41f65f6a113077a9c5b6b1f160fd862be545cce4&amp;amp;dn=zh-cn_windows_10_business_editions_version_22h2_updated_may_2023_x64_dvd_b7e877b8.iso&amp;amp;xl=5975597056" >magnet:?xt=urn:btih:41f65f6a113077a9c5b6b1f160fd862be545cce4&amp;dn=zh-cn_windows_10_business_editions_version_22h2_updated_may_2023_x64_dvd_b7e877b8.iso&amp;xl=5975597056&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>下载 Rufus 软件，去 &lt;a class="link" href="https://rufus.ie/zh/" target="_blank" rel="noopener"
>官网&lt;/a> 下载就行&lt;/li>
&lt;li>将一个空闲的U盘插到电脑上，注意备份里面的资料&lt;/li>
&lt;li>打开 Rufus，选择 U 盘，选择 iso 文件，然后点开始就行。选项都保持默认就行。&lt;/li>
&lt;/ol>
&lt;h2 id="3-更换固态">3. 更换固态&lt;/h2>
&lt;ol>
&lt;li>关机&lt;/li>
&lt;li>把后盖的螺丝拧下来，并放到一个小盒子里，避免丢失。&lt;/li>
&lt;li>然后用卡片或吸盘把后盖打开，注意不要用蛮力，避免卡扣断裂（虽然断裂也可以用螺丝固定，但心里还是会膈应的）&lt;/li>
&lt;li>断开电池排线（嫌麻烦可不做）&lt;/li>
&lt;li>确保手上没有静电&lt;/li>
&lt;li>把固态螺丝拧下来，放到另一个小盒子里，避免与后盖螺丝混淆&lt;/li>
&lt;li>把旧固态斜向上拔出来&lt;/li>
&lt;li>把新固态斜着插进去，然后再放平&lt;/li>
&lt;li>用螺丝将固态固定住&lt;/li>
&lt;li>将盖子掩盖上，不要盖严，以免后续有问题又要打开。&lt;/li>
&lt;/ol>
&lt;h2 id="4-安装系统">4. 安装系统&lt;/h2>
&lt;ol>
&lt;li>将前面的 U 盘插上&lt;/li>
&lt;li>开机&lt;/li>
&lt;li>正常来说会进到安装系统的界面，如果进到 Bios，说明 U 盘有问题，请重新制作 U 盘&lt;/li>
&lt;li>然后根据提示安装系统就行&lt;/li>
&lt;li>系统安装好后，会自动联网安装驱动（在设置的 Windows 更新里），需要手动重启一两次。如果有驱动没安装，去电脑厂商的官网里找对应驱动。&lt;/li>
&lt;/ol>
&lt;h2 id="5-激活系统">5. 激活系统&lt;/h2>
&lt;ol>
&lt;li>关闭 Windows 安全中心的实时保护（在病毒和威胁防护，“病毒和威胁防护”设置，管理设置，实时保护）&lt;/li>
&lt;li>下载 &lt;a class="link" href="https://github.com/zbezj/HEU_KMS_Activator/releases" target="_blank" rel="noopener"
>HEU KMS Activator&lt;/a>&lt;/li>
&lt;li>然后点“开始”就行&lt;/li>
&lt;li>这个软件也可以激活 Office&lt;/li>
&lt;/ol>
&lt;h2 id="6-安装软件">6. 安装软件&lt;/h2>
&lt;p>软件这个因人而异，这里只推荐常见的工具软件（下面给出了下载链接）：&lt;/p>
&lt;ol>
&lt;li>解压软件：&lt;a class="link" href="https://www.7-zip.org/" target="_blank" rel="noopener"
>7zip&lt;/a> 或更好看的 &lt;a class="link" href="https://github.com/M2Team/NanaZip" target="_blank" rel="noopener"
>NanaZip&lt;/a>&lt;/li>
&lt;li>视频播放器：&lt;a class="link" href="https://www.videolan.org/vlc/" target="_blank" rel="noopener"
>VLC&lt;/a>&lt;/li>
&lt;li>图片浏览器：&lt;a class="link" href="https://imageglass.org/" target="_blank" rel="noopener"
>ImageGlass&lt;/a>&lt;/li>
&lt;li>浏览器：Windows 自带的 Edge，或 &lt;a class="link" href="https://www.mozilla.org/en-US/firefox/new/" target="_blank" rel="noopener"
>Firefox&lt;/a>&lt;/li>
&lt;li>截图：&lt;a class="link" href="https://www.snipaste.com/" target="_blank" rel="noopener"
>Snipaste&lt;/a>&lt;/li>
&lt;li>录屏：&lt;a class="link" href="https://obsproject.com/" target="_blank" rel="noopener"
>OBS&lt;/a>&lt;/li>
&lt;li>PDF浏览器：&lt;a class="link" href="https://www.sumatrapdfreader.org/free-pdf-reader" target="_blank" rel="noopener"
>Sumatra PDF&lt;/a>&lt;/li>
&lt;li>音乐播放器：&lt;a class="link" href="https://getmusicbee.com/" target="_blank" rel="noopener"
>MusicBee&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="附让win11变成win10">附：让Win11变成Win10&lt;/h2>
&lt;ul>
&lt;li>右键菜单：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/427268135" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/427268135&lt;/a>&lt;/li>
&lt;li>开始菜单：&lt;a class="link" href="https://github.com/wwwwwhj/ExplorerPatcher-" target="_blank" rel="noopener"
>https://github.com/wwwwwhj/ExplorerPatcher-&lt;/a> 或者直接使用 &lt;a class="link" href="https://github.com/coodesker/coodesker-desktop/releases" target="_blank" rel="noopener"
>Coodesker&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>第5章 反相器</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/5-%E5%8F%8D%E7%9B%B8%E5%99%A8/</link><pubDate>Fri, 10 Mar 2023 19:52:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/5-%E5%8F%8D%E7%9B%B8%E5%99%A8/</guid><description>&lt;p>反相器由一个 PMOS+NMOS 组成。理想的反相器有如下特点：&lt;/p>
&lt;ol>
&lt;li>晶体管具有有限的导通电阻和无限的关断电阻&lt;/li>
&lt;li>输出的高、低电平为 VDD 和 GND，因此具有很高的噪声容限&lt;/li>
&lt;li>低输出电阻，使得其不容易受噪声影响&lt;/li>
&lt;li>高输入电阻，因此理论上可以有无穷大的扇出&lt;/li>
&lt;li>稳定时 VDD 和 GND 之间没有通路，因此静态功耗为 0.&lt;/li>
&lt;/ol>
&lt;p>但实际的反相器并非如此。其电压传输特性（VTC）可以从 PMOS、NMOS 的转移特性曲线中推导出来，只需要令：&lt;/p>
&lt;p>$$
I_{DSp} = -I_{DSn}
$$&lt;/p>
&lt;h2 id="静态特性">静态特性&lt;/h2>
&lt;h3 id="switching-threshold">Switching Threshold&lt;/h3>
&lt;p>Switching Threshold $V_M$ 定义为 $V_{in}=V_{out}$ 的点，此时 NMOS、PMOS 都在饱和区，因此：&lt;/p>
&lt;p>$$
K_n (V_{M}-V_{thn})^2 = K_p (V_{M}-V_{DD}-V_{thp})^2
$$&lt;/p>
&lt;p>整理后得到：&lt;/p>
&lt;p>$$
\begin{aligned}
V_{M} =&amp;amp; \frac{\sqrt{K_p}(V_{DD}+V_{thp})+\sqrt{K_n}V_{thn}}{\sqrt{K_p}+\sqrt{K_n}}\
=&amp;amp; \frac{r(V_{DD}+V_{thp})+V_{thn}}{1+r}\
\approx &amp;amp; \frac{ r V_{DD}}{1+r}
\end{aligned}
$$&lt;/p>
&lt;p>其中，$r=\sqrt{\frac{K_p}{K_n}}$。当 $r\rightarrow \infty$ 时，$V_M = V_{DD}$&lt;/p>
&lt;p>以上是长沟道的情况，对于短沟道器件，由于存在速度饱和效应，$V_M$ 的表达式应该如下（推导过程类似）：&lt;/p>
&lt;p>$$
V_M=\frac{(V_{thn}+\frac{V_{Dsatn}}{2})+r(V_{DD}+V_{thp}+\frac{V_{Dsatp}}{2})}{1+r}\
r = \frac{K_p V_{Dsatp}}{K_n V_{Dsatn}}=\frac{v_{satp}W_p}{v_{satn}W_n}
$$&lt;/p>
&lt;p>该式说明，增大 $W_p$ 或 $W_n$ 会使得 $V_M$ 向 $V_{DD}$ 或 ${\rm GND}$ 移动。&lt;/p>
&lt;p>除此之外，器件的好坏也会影响 $V_M$ 的位置（见下图），好的器件等效于更大的 $K$（或更大的 $W$）&lt;/p>
&lt;h3 id="噪声容限">噪声容限&lt;/h3>
&lt;p>为了方便计算，我们用下图来近似反相器的 VTC.&lt;/p>
&lt;p>图中，&lt;/p>
&lt;p>$$
V_{IH}=V_M - \frac{V_M}{g}
$$&lt;/p>
&lt;p>$$
V_{IL} = V_M + \frac{V_{DD}-V_M}{g}
$$&lt;/p>
&lt;p>$g$ 是曲线在 $V_M$ 处的斜率，其计算过程比较繁琐，这里直接给出：&lt;/p>
&lt;p>$$
\begin{aligned}
g &amp;amp;= \frac{1}{I_D(V_M)} \frac{k_n V_{Dsatn}+k_p V_{Dsatp}}{\lambda_n-\lambda_p}\
&amp;amp;\approx \frac{1+r}{(V_M-V_{thn}-V_{Dsatn/2})(\lambda_n-\lambda_p)}
\end{aligned}
$$&lt;/p>
&lt;p>最终可以得到噪声容限为：&lt;/p>
&lt;p>$$
NM_H=V_{DD}-V_{IH}\
NM_L=V_{IL}
$$&lt;/p>
&lt;h3 id="降低电压的影响">降低电压的影响&lt;/h3>
&lt;ul>
&lt;li>提高增益（斜率），但过小也会使得增益下降&lt;/li>
&lt;li>减小功耗，但降低性能&lt;/li>
&lt;li>直流特性更容易受器件参数影响&lt;/li>
&lt;li>减小摆幅，故减小内部噪声；但更容易受外部噪声影响&lt;/li>
&lt;/ul>
&lt;h2 id="动态性能">动态性能&lt;/h2>
&lt;h3 id="电容">电容&lt;/h3>
&lt;p>考虑两个反相器级联，在第一个反相器的输出/第二个反相器的输入节点处，存在着很多电容，包括：&lt;/p>
&lt;ul>
&lt;li>第一个反相器的电容
&lt;ul>
&lt;li>$C_{gd,p}$ 和 $C_{gd,n}$：由于Miller效应，等效为一个接地的2倍容值的电容&lt;/li>
&lt;li>$C_{db,p}$ 和 $C_{db,n}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>导线电容
&lt;ul>
&lt;li>$C_w$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>第二个反相器的电容
&lt;ul>
&lt;li>$C_{g,p}$ 和 $C_{g,n}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>这一堆电容看得我头都大了，而且它们在晶体管不同工作区的容值也不同。所幸我们一般会用一些近似处理，包括：&lt;/p>
&lt;ol>
&lt;li>将所有的电容都接地（或VDD），并且忽略 Miller 效应&lt;/li>
&lt;li>假设电容在反相器工作过程中恒定不变&lt;/li>
&lt;/ol>
&lt;h3 id="传播延时propagation-delay">传播延时（Propagation Delay）&lt;/h3>
&lt;p>电容充放电的时间可以表示为：&lt;/p>
&lt;p>$$
t_p = \int_{v_1}^{v_2} \frac{C_L(v)}{i(v)} {\rm d}v
$$&lt;/p>
&lt;p>反相器的延时可以用 RC 网络来近似，其从低到高、从高到低的延时可以表示为：&lt;/p>
&lt;p>$$
t_{pHL} = \ln(2) R_{eqn} C_L\
t_{pLH} = \ln(2) R_{eqp} C_L
$$&lt;/p>
&lt;p>总的延时可以认为是两者均值：&lt;/p>
&lt;p>$$
t_p = \frac{t_{pHL}+t_{pLH}}{2} = 0.69 C_L (\frac{R_{eqn}+R_{eqp}}{2})
$$&lt;/p>
&lt;p>其中，$R_{eq}\approx \frac{3}{4} \frac{V_{DD}}{I_{Dsat}}(1-\frac{7}{9}\lambda V_{DD}) \approx \frac{3}{4}\frac{V_{DD}}{I_{Dsat}}$&lt;/p>
&lt;p>从以上简化的分析中可以得出一些结论，要减小传播延时，有三种方法：&lt;/p>
&lt;ol>
&lt;li>减小 $C_L$&lt;/li>
&lt;li>增大 $W/L$，但增大到一定程度的话，会增大 $C_L$&lt;/li>
&lt;li>增大 $V_{DD}$&lt;/li>
&lt;/ol>
&lt;p>下面我们将详细分析这些方法。&lt;/p>
&lt;h4 id="优化nmospmos比例">优化NMOS/PMOS比例&lt;/h4>
&lt;p>我们将 $C_L$ 写成：&lt;/p>
&lt;p>$$
C_L = (C_{dp1}+C_{dn1})+(C_{gp2}+C_{gn2})+C_w
$$&lt;/p>
&lt;p>如果 $\frac{(W/L)_p}{(W/L)_n}=\beta$，那么 $C_p=\beta C_n$，上式可以改写成：&lt;/p>
&lt;p>$$
C_L = (1+\beta)(C_{dn1}+C_{gn2})+C_w
$$&lt;/p>
&lt;p>另外对于电阻，我们有：&lt;/p>
&lt;p>$$
R_{eqp}=R_{eqn}\cdot \frac{r}{\beta}
$$&lt;/p>
&lt;p>$r$ 是指当PMOS、NMOS的尺寸一致时的电阻比（$R_{eqp}/R_{eqn}$）&lt;/p>
&lt;p>从而传播延时为：&lt;/p>
&lt;p>$$
t_p = \frac{0.69}{2} [(1+\beta)(C_{dn1}+C_{gn2})+C_w]\cdot R_{eqn}\cdot \frac{r}{\beta}
$$&lt;/p>
&lt;p>要使得该延时最小，则 $\beta=\sqrt{r(1+\dfrac{C_w}{C_{dn1}+C_{gn2}})}$，因此如果我们对 $V_M$ 或噪声容限无要求，那么我们可以该值来优化NMOS/PMOS的比例。&lt;/p>
&lt;h4 id="优化尺寸">优化尺寸&lt;/h4>
&lt;p>上面只是优化了比例，但我们还是不知道最优的尺寸是什么。我们将延时改写为：&lt;/p>
&lt;p>$$
\begin{aligned}
t_p &amp;amp;= 0.69 R_{eq}(C_{\rm int}+C_{\rm ext})\
&amp;amp;=0.69 R_{eq}C_{\rm int}(1+\frac{C_{\rm ext}}{C_{\rm int}})\
&amp;amp;=t_{p0}(1+\frac{C_{\rm ext}}{C_{\rm int}})
\end{aligned}
$$&lt;/p>
&lt;p>$C_{\rm int}$ 是反相器自身的电容，$C_{\rm ext}$ 是外部的电容。$t_{p0}$ 是本征延时，即无任何外加电容时的延时。假设 $R_{\rm eq},C_{\rm int}$ 与尺寸的关系为：&lt;/p>
&lt;p>$$
C_{\rm int}=SC_{\rm iref}\
R_{\rm eq}=R_{\rm ref}/S
$$&lt;/p>
&lt;p>$C_{\rm iref},R_{\rm ref}$ 为最小尺寸时的电容、电阻。则传播延时与尺寸的关系：&lt;/p>
&lt;p>$$
t_p = t_{p0}(1+\frac{C_{ext}}{SC_{iref}})\
t_{p0} = 0.69 (R_{\rm ref}/S)(SC_{\rm iref})=0.69 R_{\rm ref} C_{\rm iref}
$$&lt;/p>
&lt;p>可见，增大尺寸 $S$，可以将延时减小为 $t_{p0}$；另外改变尺寸不会影响本征延时。&lt;/p>
&lt;h4 id="优化反相器链">优化反相器链&lt;/h4>
&lt;p>如果一个反相器链包含 $N$ 个反相器，我们该如何优化尺寸使得其延时最小呢？我们不能盲目增加尺寸，因为增加尺寸虽然可以减小本级延时，但却会增大上一级的延时。我们假设某一级的漏电容、栅电容之间满足：$C_{int}=\gamma C_g$，$\gamma$ 是一个与尺寸无关的固定值；并且下一级的栅电容是该级栅电容的 $f$ 倍，$C_{ext}=f C_g$，即下一级的尺寸增大 f 倍. 则单级延时可以表示为：&lt;/p>
&lt;p>$$
t_p = t_{p0} (1+f/\gamma)
$$&lt;/p>
&lt;p>多级延时可以表示为：&lt;/p>
&lt;p>$$
t_p = t_{p0} \sum_{j=1}^N (1+\frac{f_j}{\gamma}) = t_{p0} \sum_{j=1}^N (1+\frac{C_{g,j+1}}{\gamma C_{g}})
$$&lt;/p>
&lt;p>这是一个多元函数，其最小值处满足 $\partial t_p/\partial C_{g,j} = 0$（$j=1,2,\cdots,N$），即：&lt;/p>
&lt;p>$$
\partial t_p/\partial C_{g,j} = t_{p0} (\frac{1}{\gamma C_{g,j-1}}-\frac{C_{g,j+1}}{\gamma C_{g,j}^2})=0\
\Rightarrow \frac{C_{g,j}}{C_{g,j-1}} = \frac{C_{g,j+1}}{C_{g,j}}
$$&lt;/p>
&lt;p>从而 $C_{g,j}=\sqrt{C_{g,j-1}C_{g,j+1}}$，也就是本级电容是上一级和下一级的几何平均。如果第一级和最后一级的电容都已知，那么有：&lt;/p>
&lt;p>$$
\prod_{j=1}^N \frac{C_{g,j+1}}{C_{g,j}} = \frac{C_L}{C_{g,1}} = F
$$&lt;/p>
&lt;p>$F$ 为整个电路的总扇出，从而单级的扇出应该为 $f = \sqrt[N]{F}$，最小延时为：&lt;/p>
&lt;p>$$
t_{p0} = N t_{p0} (1+\sqrt[N]{F}/\gamma)
$$&lt;/p>
&lt;p>上式说明，如果给定 $F$，则 $t_{p0}$ 与 $N$，有关，这就引出下一个问题：多少级反相器的延时最小。对上式求导，可得：&lt;/p>
&lt;p>$$
\gamma + \sqrt[N]{F}-\frac{\sqrt[N]{F} \ln F}{N} = 0\
\text{等价于} f=e^{1+\gamma/f}
$$&lt;/p>
&lt;p>当 $\gamma=0$，也就是反相器自身的电容可以忽略时，$N=\ln F$，且每级扇出应该为 $f=e$；当 $\gamma\neq 0$ 时，无数值解。&lt;/p>
&lt;h2 id="功耗">功耗&lt;/h2></description></item><item><title>第一章</title><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/1-%E7%BB%AA%E8%AE%BA/</link><pubDate>Fri, 10 Mar 2023 12:24:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/1-%E7%BB%AA%E8%AE%BA/</guid><description>&lt;h2 id="评价指标">评价指标&lt;/h2>
&lt;p>评价一个数字电路的好坏的标准有很多，比如：&lt;/p>
&lt;ul>
&lt;li>成本 Cost&lt;/li>
&lt;li>速度 Speed&lt;/li>
&lt;li>可靠性 Reliability&lt;/li>
&lt;li>功耗 Power&lt;/li>
&lt;/ul>
&lt;h3 id="成本">成本&lt;/h3>
&lt;p>产品的成本可分为两个部分：&lt;/p>
&lt;ul>
&lt;li>固定成本（Fixed Cost/Non-recurring Expenses）：与销量无关的成本。比如：研发费用、生产设备、市场营销等费用。&lt;/li>
&lt;li>可变成本（Variable Cost/Recurring Expenses）：用于制造产品的费用。&lt;/li>
&lt;/ul>
&lt;p>👇公式轰炸!!!👇&lt;/p>
&lt;p>$$
单个芯片的成本 = 单个芯片的可变成本 + \frac{固定成本}{产量}
$$&lt;/p>
&lt;p>$$
可变成本 = \frac{芯片成本+测试成本+封装成本}{最终成品率}
$$&lt;/p>
&lt;p>$$
芯片成本=\frac{晶圆成本}{芯片数 \times 成品率}
$$&lt;/p>
&lt;p>$$
成品率 = (1+\frac{单位面积缺陷\times 芯片面积}{\alpha})^{-\alpha}\
\alpha 与芯片复杂度正相关，一般取3
$$&lt;/p>
&lt;p>$$
单个晶圆的芯片数 = \frac{\pi \times (圆片直径/2)^2}{芯片面积}-\frac{\pi \times 圆片直径}{\sqrt{2\times 芯片面积}}
$$&lt;/p>
&lt;p>前三个很好理解；成品率那个要背一下；最后一个实际上是（总面积/单个面积-总周长/对角线），也很好记。&lt;/p>
&lt;p>综合上面公式，可以得出一个结论：芯片成本与面积的四次方成正比。因此我们希望芯片面积小。面积小的门的总电容也更小，消耗的能量也更小，速度更快。&lt;/p>
&lt;h3 id="稳定性可靠性">稳定性（可靠性）&lt;/h3>
&lt;h4 id="噪声容限">噪声容限&lt;/h4>
&lt;p>下图是一个反相器的电压传输特性曲线，其中斜率为 -1 的点在横纵坐标中对应四个电压，分别是：&lt;/p>
&lt;ul>
&lt;li>$V_{IH}$ = minimum HIGH input voltage&lt;/li>
&lt;li>$V_{IL}$ = maximum LOW input voltage&lt;/li>
&lt;li>$V_{OH}$ = minimum HIGH output voltage&lt;/li>
&lt;li>$V_{OL}$ = maximum LOW output voltage&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/images/CMOS%20inverter%20noise%20margins.png"
loading="lazy"
alt="CMOS inverter noise margins"
>&lt;/p>
&lt;p>输出信号在传输的过程中会因为噪声而有偏差，允许的最大偏差就叫&lt;strong>噪声容限（Noise Margin）&lt;/strong>，定义为：&lt;/p>
&lt;p>$$
NM_L = V_{IL} - V_{OL}
$$&lt;/p>
&lt;p>$$
NM_H = V_{OH} - V_{IH}
$$&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/Noise%20margin%20definitions.png"
loading="lazy"
alt="Noise margin definitions"
>&lt;/p>
&lt;p>中间的区域叫做&lt;strong>不确定区&lt;/strong>或&lt;strong>过渡宽度（Transition Width，TW）&lt;/strong>。&lt;/p>
&lt;hr>
&lt;p>为什么 $V_{IL},V_{IH}$ 要取斜率为 1？因为这个值可以令噪声容限最大。总的噪声容限等于：&lt;/p>
&lt;p>$$
\begin{aligned}
NM = NM_L+NM_H &amp;amp;= V_{IL} - V_{OL} + V_{OH} - V_{IH}\
&amp;amp;=V_{IL}-f(V_{IH})+f(V_{IL}) - V_{IH}
\end{aligned}
$$&lt;/p>
&lt;p>对上式求导，并取导数为 0.&lt;/p>
&lt;p>$$
\frac{{\rm d} NM}{{\rm d}V_{IL}} = 1+f&amp;rsquo;(V_{IL}) = 0
$$&lt;/p>
&lt;p>$$
\frac{{\rm d} NM}{{\rm d}V_{IH}} = 1+f&amp;rsquo;(V_{IH}) = 0
$$&lt;/p>
&lt;p>整理后有 $f&amp;rsquo;(V_{IL}) = -1$ 和 $f&amp;rsquo;(V_{IH}) = -1$&lt;/p>
&lt;h4 id="再生性">再生性&lt;/h4>
&lt;p>噪声容限只能保证一次传输的可靠性，而多次传输后后信号的可靠性则取决于再生性。再生性指的是受到干扰的信号经过逻辑门后依然能收敛回额定电平。考虑一条反相器链，输入的电平在不确定区，经过多次反向后，信号有可能出现两种情况：&lt;/p>
&lt;ol>
&lt;li>信号重回额定电平（即高或低电平）&lt;/li>
&lt;li>信号远离额定电平（即中间电平）&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://todd.scuteee.com/images/A%20chain%20of%20inverters.png"
loading="lazy"
alt="A chain of inverters"
>&lt;/p>
&lt;p>我们可以根据传输函数来区分这两种情况。我们将 $V_{\rm out}=f(V_{\rm in})$ 和 $V_{\rm in} = finv(V_{\rm out})$ 画在同一个坐标系中，传输过程可以参考图中的箭头。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/Conditions%20for%20regeneration.png"
loading="lazy"
alt="Conditions for regeneration"
>&lt;/p>
&lt;p>这两种差异源自于两者的传输特性，一个具有增益大于 1 不确定区，而一个没有。前者由于增益大于1，所以就会向高/低电平靠拢。&lt;/p>
&lt;h3 id="性能延迟">性能（延迟）&lt;/h3>
&lt;p>性能通常由每秒执行的指令数来衡量，而这又取决于传输延时 $t_p$，定义为：&lt;/p>
&lt;p>$$
t_p = \frac{t_{pLH}+t_{pHL}}{2}
$$&lt;/p>
&lt;p>具体 $t_{pLH},t_{pHL}$ 的定义见下图。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/Definition%20of%20propagation%20delays%20and%20rise%20and%20fall%20times.png"
loading="lazy"
alt="Definition of propagation delays and rise and fall times"
>&lt;/p>
&lt;p>延迟受电路结构、工艺、环境等因素影响。如果想比较哪种电路结构的延迟最小（排除因素），可以通过 &lt;strong>Fanout of Four(FO4) Delay&lt;/strong>：将一个电路驱动4个它自己，记为 $t_{FO4}$&lt;/p>
&lt;p>如果想比较工艺对延迟的影响，可以用 Ring Oscillator（环形振荡器），振荡周期越小（频率越高），延迟越小。&lt;/p>
&lt;h3 id="功耗">功耗&lt;/h3>
&lt;p>主要考虑峰值功耗 $P_{\rm peak} $ 和平均功耗 $P_{av}$，定义为：&lt;/p>
&lt;p>$$
P_{\rm peak}=i_{\rm peak}V_{\rm supply}=\max[p(t)]
$$&lt;/p>
&lt;p>$$
P_{\rm av}=\frac{1}{T}\int\limits_{0}^{T}p(t)dt=\frac{V_{\rm supply}}{T}\int\limits_{0}^{T}i_{\rm supply}(t)dt
$$&lt;/p>
&lt;p>另外功耗还可以分为静态功耗和动态功耗。后者发生在门开关的瞬间，是由电容充电以及电源和地存在通路造成的。&lt;/p>
&lt;p>功耗和传输延时存在一定关系，一般来说功耗越大，延迟越小。对于给定的工艺和门的结构，&lt;strong>功耗-延时积（$PDP=P_{av}\cdot t_p$）&lt;/strong> 为一常数。我们优化时也是希望 PDP 越小越好。&lt;/p>
&lt;p>另一个与 PDP 类似的是 &lt;strong>能量-延迟积（$EDP=(P_{av}\cdot t_p)\cdot t_p$）&lt;/strong>，其公式为&lt;/p></description></item><item><title>LaTeX OCR（截图转LaTeX）软件</title><link>https://todd.scuteee.com/posts/2023/2023-02-04-latex-ocr/</link><pubDate>Sat, 04 Feb 2023 10:26:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2023/2023-02-04-latex-ocr/</guid><description>&lt;p>已经有这类的软件：&lt;a class="link" href="https://mathpix.com/" target="_blank" rel="noopener"
>Mathpix&lt;/a>，但教育用户（用教育邮箱注册）每月只能识别 100 张图片，pro用户可以识别 5000 张（一年340RMB）。目前找到两个替代品。&lt;/p>
&lt;h2 id="simpletex">SimpleTex&lt;/h2>
&lt;p>&lt;a class="link" href="https://simpletex.cn/" target="_blank" rel="noopener"
>SimpleTex&lt;/a> 是学生开发的，目前用起来速度不错（使用的是他们的服务器），可以识别多行公式，但不清楚未来会不会限制次数。目前推荐使用。&lt;/p>
&lt;h2 id="pix2tex">pix2tex&lt;/h2>
&lt;p>Github 上开源免费的软件 &lt;a class="link" href="https://github.com/lukas-blecher/LaTeX-OCR" target="_blank" rel="noopener"
>pix2tex - LaTeX OCR&lt;/a>，本地运行无需联网，但安装复杂。&lt;/p>
&lt;h3 id="安装过程">安装过程&lt;/h3>
&lt;p>为了更好的管理 Python，我们先安装 Miniconda，直接到 &lt;a class="link" href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noopener"
>https://docs.conda.io/en/latest/miniconda.html&lt;/a> 安装最新的 Windows 64-bit 版本。全点确定即可。&lt;/p>
&lt;p>安装好后，会弹出 &lt;a class="link" href="https://conda.io/projects/conda/en/latest/user-guide/getting-started.html" target="_blank" rel="noopener"
>Getting started with conda&lt;/a> 的网页，这里简单介绍了 Miniconda 的用法，建议简要过一遍。然后我们开始为软件配置环境。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>打开 Anaconda Prompt 软件，然后输入下面的命令（可能需要）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>新建一个环境：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">conda create --name latex_ocr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>激活环境&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">conda activate latex_ocr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://pytorch.org/get-started/locally/" target="_blank" rel="noopener"
>安装 pytorth&lt;/a> （人工智能框架）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">conda install pytorch torchvision torchaudio cpuonly -c pytorch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后会出现一堆要安装的软件包，按 &lt;code>y&lt;/code> 来确认。如果速度太慢或出现 CondaError，可以尝试挂代理或 &lt;a class="link" href="https://blog.csdn.net/adreammaker/article/details/123396951" target="_blank" rel="noopener"
>换源&lt;/a>。这一步是比较慢的，得有耐心。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>安装 pix2tex&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">pip install pix2tex[gui]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>输入 &lt;code>latexocr&lt;/code> 来启动软件。如果出现：&lt;code>ImportError: DLL load failed while importing _imaging: 找不到指定的模块。&lt;/code>，可以尝试升级 PIllow：&lt;code>pip install --upgrade Pillow&lt;/code>。第一次启动需要下载模型文件。&lt;/p>
&lt;p>另外，如果出现了 &lt;code>远程主机强迫关闭了一个现有的连接&lt;/code>，重新启动输入命令。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果后续想要删除，可以运行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">conda env remove --name latex_ocr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="使用测试">使用&amp;amp;测试&lt;/h3>
&lt;p>点击 Snip，截图，识别成功后直接粘贴（无需复制）。&lt;/p>
&lt;p>测试设备：小新 R5-4600U，识别过程中CPU使用率约为 65%。另外识别速度和准确率受截图大小的影响（我是把PDF打开为屏幕一半大小，此时截出来的公式大概是 80px 高），图片太大或太小都会影响准确率。&lt;/p>
&lt;blockquote>
&lt;p>$$
N\cong\frac{D_{\infty}(\delta_{p},\delta_{s})-F(\delta_{p},\delta_{s})\left[\frac{(\omega_{s}-\omega_{p})}{2\pi}\right]^{2}}{\left[\frac{(\omega_{s}-\omega_{p})}{2\pi}\right]}
$$&lt;/p>
&lt;p>4s&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>$$
\beta=\left{\begin{array}{l l}{{0.1102(\alpha_{s}-8.7)}}&amp;amp;{{\mathrm{for~}\alpha_{s}\gt 50}}\\ {{0.5842(\alpha_{s}-21)^{0.4}+0.07886(\alpha_{s}-21)}}&amp;amp;{{\mathrm{for~}21\le\alpha_{s}\le50}}\\ {{0}}&amp;amp;{{\mathrm{for~}\alpha_{s}\lt 21}}\end{array}\right.
$$
10s&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>$$
H(e^{-j\omega})=e^{-j[(N\omega-\pi)/2]}\left{2\sum_{n=1}^{(N+1)/2}h\left[\frac{N+1}{2}-n\right]\sin\left(\left(n-\frac12\right)\omega\right)\right}
$$
6s&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>$$
\begin{aligned}
H\left(e^{j \omega}\right)= &amp;amp; \sum_{n=0}^N h(n) e^{-j n \omega} \\
= &amp;amp; h(0)+h(1) e^{-j \omega}+h(2) e^{-j 2 \omega}+\cdots+h(N-1) e^{-j(N \omega)} \\
= &amp;amp; e^{-j[(N / 2) \omega]}\left{2 h(0) \cos \left(\frac{N \omega}{2}\right)+2 h(1) \cos \left(\left(\frac{N}{2}-1\right) \omega\right)\right. \\
&amp;amp; \left.+2 h(2) \cos \left(\left(\frac{N}{2}-2\right) \omega\right)+\cdots+h\left(\frac{N}{2}\right)\right}
\end{aligned}
$$
识别失败，只能用 Mathpix&lt;/p>
&lt;/blockquote>
&lt;p>对于单行公式，速度很快，且准确率很高。但对于多行公式，速度极慢且有时会失败。但总体表现不如 SimpleTex。&lt;/p></description></item><item><title>Chapter 15 solution2</title><link>https://todd.scuteee.com/analog/ta/chapter15/solution2/</link><pubDate>Wed, 21 Dec 2022 10:48:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter15/solution2/</guid><description>&lt;h2 id="1547">15.47&lt;/h2>
&lt;p>(a)&lt;/p>
&lt;p>$$
V_{TH,TL} = \frac{\frac{V_{REF}}{R_3} \pm \frac{V_P}{R_2}}{\frac{1}{R_1}+\frac{1}{R_2}+\frac{1}{R_3}}
$$&lt;/p>
&lt;p>(b) $R_2=600{\rm k\Omega}$, $R_1=10.17{\rm k\Omega}$&lt;/p>
&lt;p>(c) $V_{TH}=-4.9$, $V_{TL}=-5.1$&lt;/p>
&lt;h2 id="1548">15.48&lt;/h2>
&lt;p>如果正负饱和电压小于 5.6+0.6=6.2，那么电路是一个阈值为 0 的比较器。否则，是一个锁定在输出值的电压源。&lt;/p>
&lt;h2 id="1551">15.51&lt;/h2>
&lt;p>(a)&lt;/p>
&lt;p>$$
V_{TH,TL} = (\frac{R_1}{R_1+R_3}) (\pm V_\gamma) = \pm 0.175{\rm V}
$$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>(i) $I_{D1}=0$, $I_{D2}=0.458{\rm mA}$&lt;/p>
&lt;p>$I_{R_2}=- 0.465{\rm mA}$&lt;/p>
&lt;p>$I_{R3}= 7{\mu A}$&lt;/p>
&lt;p>(ii) $I_{D2}=0$, $I_{D1}=0.458{\rm mA}$&lt;/p>
&lt;p>$I_{R_2}= 0.465{\rm mA}$&lt;/p>
&lt;p>$I_{R3}=- 7{\mu A}$&lt;/p>
&lt;h2 id="1559">15.59&lt;/h2>
&lt;p>$t_1=1.1{\rm ms}$&lt;/p>
&lt;p>$\tau_\gamma = 4\times 10^{-5} {\rm s}$&lt;/p>
&lt;p>$\dfrac{t_1}{\tau_\gamma}=2.75$&lt;/p>
&lt;h2 id="1566">15.66&lt;/h2>
&lt;p>$627{\rm Hz} \leq f \leq 4.81{\rm kHz}$&lt;/p>
&lt;p>$52.2\leq \text{duty cycle} \leq 66.7%$&lt;/p>
&lt;h2 id="1569">15.69&lt;/h2>
&lt;p>$\text{maximum power} = 3.7{\rm W}$&lt;/p>
&lt;p>$V^+=19{\rm V}$&lt;/p>
&lt;p>$V_P=8.6{\rm V}$&lt;/p>
&lt;h2 id="1574">15.74&lt;/h2>
&lt;p>$\frac{\Delta V_0}{\Delta V^+}=1.61%$&lt;/p>
&lt;h2 id="1575">15.75&lt;/h2>
&lt;p>$R_{of}=4{\rm m\Omega}$&lt;/p>
&lt;p>$\Delta V_O = 12{\rm mV}$&lt;/p>
&lt;h2 id="1579">15.79&lt;/h2>
&lt;p>(a) $R_1=2.07{\rm k\Omega}$&lt;/p>
&lt;p>(b) $7.659\leq V_O \leq 22.976{\rm V}$&lt;/p>
&lt;p>(c) $\text{Load regulation} = 4.169\times 10^{-4} %$&lt;/p>
&lt;h2 id="1580">15.80&lt;/h2>
&lt;p>(a) $0\leq R_L \leq 9.38{\rm k\Omega}$&lt;/p>
&lt;p>(b) $1.3468\leq I_O \leq 1.3484 {\rm mA}$&lt;/p></description></item><item><title>Chapter 15 solution</title><link>https://todd.scuteee.com/analog/ta/chapter15/solution/</link><pubDate>Mon, 19 Dec 2022 10:48:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter15/solution/</guid><description>&lt;p>大部分题目可看作一个比较复杂的电路求解，画出小信号模型，列出 KCL、KVL，求出 $i_o$, $v_s$ 即可。&lt;/p>
&lt;h2 id="1259">12.59&lt;/h2>
&lt;p>$\frac{I_0}{V_S}=-(0.0653) {\rm mA/V}$&lt;/p>
&lt;h2 id="1261">12.61&lt;/h2>
&lt;p>(a) $I_{CQ}=2.448{\rm mA}$, $I_{EQ}=2.479{\rm mA}$&lt;/p>
&lt;p>(b) $A_{zf}=-8.666{\rm V/mA}$&lt;/p>
&lt;p>(c) $R_{if}=0.1037{\rm k\Omega}$&lt;/p>
&lt;p>(d) $R_{of}=0.1186{\rm k\Omega}$&lt;/p>
&lt;h2 id="1270">12.70&lt;/h2>
&lt;p>$T=84.45$ （或 $T=76.15$）&lt;/p>
&lt;h2 id="1276">12.76&lt;/h2>
&lt;p>$\phi=-163.7^\circ$, system is stable&lt;/p>
&lt;p>$\phi=-203.1^\circ$, system is unstable&lt;/p>
&lt;h2 id="1282">12.82&lt;/h2>
&lt;p>$f_{120}=2.31\times 10^5{\rm Hz}$&lt;/p>
&lt;p>$f_{PD}=66.8{\rm Hz}$&lt;/p>
&lt;h2 id="1289">12.89&lt;/h2>
&lt;p>$f_{120}=2.05\times 10^6{\rm Hz}$&lt;/p>
&lt;p>$f_{PD}=577{\rm Hz}$&lt;/p>
&lt;h2 id="d154">D15.4&lt;/h2>
&lt;p>(a)&lt;/p>
&lt;p>$RC=6.366\times 10^{-6}$&lt;/p>
&lt;p>$R_3=4.5{\rm k\Omega}$&lt;/p>
&lt;p>$R_4=9.0{\rm k\Omega}$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>(i) $-4.26{\rm dB}$&lt;/p>
&lt;p>(ii) $-3{\rm dB}$&lt;/p>
&lt;p>(iii) $-2.14{\rm dB}$&lt;/p>
&lt;h2 id="1515">15.15&lt;/h2>
&lt;p>(a)&lt;/p>
&lt;p>$$
A_v(s) = \frac{-\frac{1}{R_4}}{\frac{1}{R_1}+j\omega C+\frac{1}{j\omega C R_2 R_3}}
$$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>$f=5.315{\rm kHz}$&lt;/p>
&lt;p>$f=5.296{\rm kHz}$&lt;/p>
&lt;h2 id="1523">15.23&lt;/h2>
&lt;p>(a) $\tau = 60 {\rm \mu s}$&lt;/p>
&lt;p>(b) $\Delta v+-=0.167{\rm V}$&lt;/p>
&lt;p>(c) $N=78$&lt;/p>
&lt;h2 id="1528">15.28&lt;/h2>
&lt;p>$\omega_0 = \frac{\sqrt{5}}{RC}$&lt;/p>
&lt;p>$\frac{R_F}{R}=2$&lt;/p>
&lt;h2 id="1539">15.39&lt;/h2>
&lt;p>$\frac{R_2}{R_1}=2$&lt;/p></description></item><item><title>数据大整理</title><link>https://todd.scuteee.com/posts/2022/2022-12-14-the-big-cleanup-of-data/</link><pubDate>Wed, 14 Dec 2022 17:17:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-12-14-the-big-cleanup-of-data/</guid><description>&lt;p>我有很多块硬盘，包括：&lt;/p>
&lt;ol>
&lt;li>高中时买的 500G 机械硬盘&lt;/li>
&lt;li>大二买的 4T 机械硬盘&lt;/li>
&lt;li>大二阿帆给的 128G 固态硬盘&lt;/li>
&lt;li>大三买的 2T 机械硬盘&lt;/li>
&lt;li>大三室友给的 240G 机械硬盘&lt;/li>
&lt;li>大四舅舅给的 3T 机械硬盘&lt;/li>
&lt;li>大四买的京造 500G 固态硬盘&lt;/li>
&lt;li>还有两块 2T 的固态硬盘分别装在台式电脑和笔记本电脑里&lt;/li>
&lt;/ol>
&lt;p>我的各种数据就混杂在这些硬盘里面，趁着有时间，就分门别类、整理一下。&lt;/p>
&lt;p>目前的存储分配如下：&lt;/p>
&lt;ol>
&lt;li>京造500G固态硬盘（放在海康威视的硬盘盒里）：主要用于存放最重要文件，还有一些不好存在机械硬盘的小文件，包括：
&lt;ul>
&lt;li>Todd&amp;amp;Molly的记录&lt;/li>
&lt;li>Books书籍&lt;/li>
&lt;li>Ehentai漫画&lt;/li>
&lt;li>开发工具&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="x86p2配置">x86p2配置&lt;/h2>
&lt;h3 id="pve8006端口">pve(8006端口)&lt;/h3>
&lt;h3 id="openwrt80端口">openwrt(80端口)&lt;/h3>
&lt;h3 id="omv681端口">OMV6(81端口)&lt;/h3>
&lt;p>4T 硬盘由OMV6进行管理。&lt;/p>
&lt;h3 id="docker9000端口">Docker(9000端口)&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nano /etc/fstab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 增加下面一行，设置samba地址和位置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># //10.0.0.176/HDD4T /mnt/nas4T cifs credentials=/root/.smbcredentials,iocharset=utf8 0 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 其中/root/.smbcredentials如下&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># username=[用户名]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># password=[密码]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount -a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Chapter 11 solution</title><link>https://todd.scuteee.com/analog/ta/chapter11/solution/</link><pubDate>Fri, 09 Dec 2022 22:07:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter11/solution/</guid><description>&lt;h2 id="d958">D9.58&lt;/h2>
&lt;p>(a) $i_1=-i_1(\dfrac{R_F}{R_2})+i_D$&lt;/p>
&lt;p>or $i_D=i_1(1+\dfrac{R_F}{R_2})$&lt;/p>
&lt;p>(b) $R_1=5{\rm k\Omega}$&lt;/p>
&lt;p>$\dfrac{R_F}{R_2}=11$&lt;/p>
&lt;h2 id="d971">D9.71&lt;/h2>
&lt;p>For $A_d=200$, $R_1(fixed)=1{\rm k\Omega}$, $R_2=39.5{\rm k\Omega}$&lt;/p>
&lt;p>For $A_d=5$, $R_1(var)=78{\rm k\Omega}$&lt;/p>
&lt;h2 id="973">9.73&lt;/h2>
&lt;p>(a) $f=398{\rm Hz}$, ${\rm Phase}=90^\circ$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>(i) $f=66.3{\rm Hz}$&lt;/p>
&lt;p>(ii) $f=663{\rm Hz}$&lt;/p>
&lt;h2 id="d983">D9.83&lt;/h2>
&lt;p>$\dfrac{R_F}{R_1}=10$, $\dfrac{R_F}{R_2}=1$, $(1+\dfrac{R_F}{R_N})(\dfrac{R_P}{R_A})=2$, $(1+\dfrac{R_F}{R_N})(\dfrac{R_P}{R_B})=3$&lt;/p>
&lt;p>$R_P=R_A|R_B|R_C$&lt;/p>
&lt;p>Typical value: $R_F=R_A=R_2=500{\rm k\Omega}$, $R_1=50{\rm k\Omega}$, $R_C=142.8{\rm k\Omega}$&lt;/p>
&lt;h2 id="d986">D9.86&lt;/h2>
&lt;p>$R_1=3.2{\rm k\Omega}$, $\dfrac{R_2}{R_3}=1.143{\rm k\Omega}$,&lt;/p>
&lt;p>$R_3=2.8{\rm k\Omega}$&lt;/p>
&lt;p>Let $I_R=6$, $R_2+R_3=6$, $R_2=3.2{\rm k\Omega}$&lt;/p>
&lt;p>Let $I_{R4}=4{\rm mA}$, $R_4=(15-12)/4=0.75{\rm k\Omega}$&lt;/p>
&lt;h2 id="d987">D9.87&lt;/h2>
&lt;p>保证放大倍数为 40 倍即可。&lt;/p>
&lt;p>典型值：$\dfrac{R_4}{R_3}=4$ 且 $\dfrac{R_2}{R_1}=4.5$&lt;/p>
&lt;p>或 $\dfrac{R_2}{R_1}=39$&lt;/p>
&lt;h2 id="111">11.1&lt;/h2>
&lt;p>(a) $v_o=0.375\sin \omega t$&lt;/p>
&lt;p>(b) $A_{cm}=0.025$, $v_o=0.45\sin \omega t$&lt;/p>
&lt;p>(c) $A_{cm}=0.791$, $v_o=2.75\sin \omega t$&lt;/p>
&lt;h2 id="1110">11.10&lt;/h2>
&lt;p>(a) $R_E=23.7{\rm k\Omega}$, $R_C=30{\rm k\Omega}$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>(i) $I_E=59.07{\rm \mu A}$&lt;/p>
&lt;p>$I_{C1}=29.17{\rm \mu A}$&lt;/p>
&lt;p>$v_{C1}=v_{C2}=-2.125{\rm V}$&lt;/p>
&lt;p>(ii) $v_{C2}=-2.327{\rm V}$, $v_{C1}=-1.923{\rm V}$&lt;/p>
&lt;h2 id="1116">11.16&lt;/h2>
&lt;p>(a) $R_c=2.6{\rm K}$&lt;/p>
&lt;p>(b) $v_{cm}(max)=7.4{\rm V}$&lt;/p>
&lt;h2 id="1119">11.19&lt;/h2>
&lt;p>(a) $v_d(\rm max)\approx 14{\rm mV}$&lt;/p>
&lt;p>(b) $v_d(\rm max)\approx 21.2{\rm mV}$&lt;/p>
&lt;h2 id="1127">11.27&lt;/h2>
&lt;p>$-0.22\leq v_{o2} \leq +0.22{\rm V}$&lt;/p>
&lt;h2 id="1128">11.28&lt;/h2>
&lt;p>(a) $R_{id}=49.9{\rm k\Omega}$&lt;/p>
&lt;p>(b) $R_{icm}=968{\rm M\Omega}$&lt;/p></description></item><item><title>Chapter 12 solution</title><link>https://todd.scuteee.com/analog/ta/chapter12/solution/</link><pubDate>Wed, 07 Dec 2022 10:48:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter12/solution/</guid><description>&lt;h2 id="124">12.4&lt;/h2>
&lt;p>(a) $A_f = \frac{A}{1+A\beta}\approx \frac{1}{\beta} = 125$&lt;/p>
&lt;p>$\beta=0.0080$&lt;/p>
&lt;p>(b) $A_f=125\times 0.9975 = 124.6875$&lt;/p>
&lt;p>$A=49875$&lt;/p>
&lt;h2 id="126">12.6&lt;/h2>
&lt;p>$\beta=1.98\times 10^{-3}$&lt;/p>
&lt;p>$A_f=500$&lt;/p>
&lt;h2 id="127">12.7&lt;/h2>
&lt;p>(a) $\beta_1=0.096685$, $\beta_2=0.0195$&lt;/p>
&lt;p>(b) circuit (a) $-5.43%$&lt;/p>
&lt;p>circuit (b) $-0.28%$&lt;/p>
&lt;h2 id="1219">12.19&lt;/h2>
&lt;p>(a)&lt;/p>
&lt;p>$A_{vf}=\frac{A}{1+[A/(1+R_2/R_1)]}$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>$\beta=\frac{1}{1+R_2/R_1}$&lt;/p>
&lt;p>(c)&lt;/p>
&lt;p>$\beta=0.04999$, $R_2/R_1=19.004$&lt;/p>
&lt;p>(d)&lt;/p>
&lt;p>$A_f=19.99956$&lt;/p>
&lt;p>$\frac{\Delta A_f}{A_f}=-2.22\times 10^{-3}%$&lt;/p>
&lt;h2 id="1237">12.37&lt;/h2>
&lt;p>$R_{if}=62.4{\rm k\Omega}$&lt;/p>
&lt;p>$R_{of}=1.39{\rm \Omega}$（题目没要求）&lt;/p>
&lt;h2 id="1249">12.49&lt;/h2>
&lt;p>(a)&lt;/p>
&lt;p>Q1: $r_{\pi1}=13.1{\rm k\Omega}$, $g_{m1}=7.62{\rm mA/V}$&lt;/p>
&lt;p>Q2: $r_{\pi2}=1.90{\rm k\Omega}$, $g_{m2}=52.7{\rm mA/V}$&lt;/p>
&lt;p>(b) $A=\frac{I_O}{I_S}=8.6$&lt;/p>
&lt;p>(c) $R_i=0.04713$&lt;/p>
&lt;p>$R_{if}=47.4{\rm \Omega}$&lt;/p></description></item><item><title>Chapter 9 solution</title><link>https://todd.scuteee.com/analog/ta/chapter09/solution/</link><pubDate>Tue, 29 Nov 2022 22:07:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter09/solution/</guid><description>&lt;h2 id="839">8.39&lt;/h2>
&lt;p>(a) $V_{BB}=1.473{\rm V}$&lt;/p>
&lt;p>(b) $I_{CQ}=14{\rm mA}$&lt;/p>
&lt;h2 id="842">8.42&lt;/h2>
&lt;p>(a) $i_C=2.90{\rm mA}$&lt;/p>
&lt;p>(b) let $R_L=200{\rm \Omega}$&lt;/p>
&lt;p>$i_{B1}=41.11{\rm \mu A}$&lt;/p>
&lt;p>$A_i=3.72\times 10^3$&lt;/p>
&lt;p>$A_v=0.989$&lt;/p>
&lt;h2 id="848b">8.48(b)&lt;/h2>
&lt;p>(a) $V_{BB}=1.281{\rm V}$&lt;/p>
&lt;p>$I_{C3}=0.4995{\rm mA}$&lt;/p>
&lt;p>(b) $\overline{P}_L=1{\rm W}$&lt;/p>
&lt;p>$P_{Q1}=0.2{\rm W}$&lt;/p>
&lt;p>$P_{Q3}=3.40{\rm mW}$&lt;/p>
&lt;p>$P_{Q2}=0.352{\rm W}$&lt;/p>
&lt;h2 id="853">8.53&lt;/h2>
&lt;h2 id="96">9.6&lt;/h2>
&lt;p>$A_v=-10$, $R_i=20{\rm k\Omega}$&lt;/p>
&lt;h2 id="d98">D9.8&lt;/h2>
&lt;p>(a) $R_1=16.67{\rm k\Omega}$, $R_2=200{\rm k\Omega}$&lt;/p>
&lt;p>(b) $i_1=i_2=-7.5{\rm \mu A}$, $v_I=-0.125{\rm V}$&lt;/p>
&lt;h2 id="919">9.19&lt;/h2>
&lt;p>(a) $v_o=8.8{\rm V}$&lt;/p>
&lt;p>(b) $A_v=-21.8993$, $v_o=8.7597{\rm V}$&lt;/p>
&lt;p>(c) $A_v=-21.956$, $A_{od}=1.1477\times 10^4$&lt;/p>
&lt;h2 id="d935">D9.35&lt;/h2>
&lt;p>(a) $\dfrac{R_F}{R_1}=\dfrac{1}{2}$, $\dfrac{R_F}{R_2}=4$, $\dfrac{R_F}{R_3}=2$&lt;/p>
&lt;p>Set $R_1=250{\rm k\Omega}$, $R_F=125{\rm k\Omega}$, $R_2=31.25{\rm k\Omega}$, $R_3=62.5{\rm k\Omega}$&lt;/p>
&lt;p>(b) $v_o=3{\rm V}$&lt;/p>
&lt;p>$v_o=-3{\rm V}$&lt;/p>
&lt;p>$|i_F|_{\rm max}=24{\rm \mu A}$&lt;/p>
&lt;h2 id="948">9.48&lt;/h2>
&lt;p>(a) $\dfrac{v_o}{v_I}=11$&lt;/p>
&lt;p>(b) $v_o=2.75{\rm V}$&lt;/p>
&lt;p>(c) for R1,R2: $|i|=5{\rm \mu A}$&lt;/p>
&lt;p>for R3: $|i|=15{\rm \mu A}$&lt;/p>
&lt;p>for R4: $|i|=20{\rm \mu A}$&lt;/p>
&lt;h2 id="951">9.51&lt;/h2>
&lt;p>(a) $A_{v1}=(1+\dfrac{R_2}{R_1})$&lt;/p>
&lt;p>$A_{v2}=-(1+\dfrac{R_2}{R_1})$&lt;/p>
&lt;p>(b) $v_{o1}=-2{\rm V}$, $v_{o2}=2{\rm V}$&lt;/p>
&lt;p>(c) $v_{o1}=6.4{\rm V}$&lt;/p></description></item><item><title>Chapter 8 solution</title><link>https://todd.scuteee.com/analog/ta/chapter08/solution/</link><pubDate>Tue, 22 Nov 2022 20:44:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter08/solution/</guid><description>&lt;h2 id="811">8.11&lt;/h2>
&lt;p>(a) $P_T=13.4{\rm W}$&lt;/p>
&lt;p>(b) $V_{CEQ}=4.48{\rm V}$, $V_{CC}=2V_{CEQ}=8.96{\rm V}$&lt;/p>
&lt;h2 id="813">8.13&lt;/h2>
&lt;p>(a) $A_v=\frac{(1+\beta)R_L}{\frac{\beta V_T}{I_C}+(1+\beta)R_L}$&lt;/p>
&lt;p>$(1+\beta)\approx \beta$&lt;/p>
&lt;p>$$
A_v = \frac{I_C R_L}{I_C R_L+V_T}=\frac{R_L}{R_L+\dfrac{V_T}{I_C}}=\frac{R_L}{R_L+\dfrac{1}{g_m}}
$$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>(i) $g_m=1.125{\rm A/V}$, $I_C=29.25{\rm mA}$&lt;/p>
&lt;p>(ii) $g_m=2.375{\rm A/V}$, $I_C=61.75{\rm mA}$&lt;/p>
&lt;p>(iii) $g_m=41.54{\rm A/V}$, $I_C=108{\rm mA}$&lt;/p>
&lt;h2 id="815">8.15&lt;/h2>
&lt;p>(a) $A_v=0.9928$&lt;/p>
&lt;p>(b) $A_v=0.9872$&lt;/p>
&lt;p>(c) $A_v=0.939$&lt;/p>
&lt;h2 id="824">8.24&lt;/h2>
&lt;p>(a) $V_o(\max)=8{\rm V}$&lt;/p>
&lt;p>$i_L=1.6{\rm mA}$&lt;/p>
&lt;p>$V_I=10V$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>$\eta=62.7%$&lt;/p>
&lt;h2 id="828">8.28&lt;/h2>
&lt;p>(a) $R_1=53.97{\rm \Omega}$, $i_P=0.208{\rm mA}$&lt;/p>
&lt;p>(b) $i_D=545{\rm mA}$, $i_N=i_P=545{\rm mA}$&lt;/p>
&lt;h2 id="833">8.33&lt;/h2>
&lt;p>(a) $I_{BQ}=2.473{\rm mA}$, $I_{CQ}=98.91{\rm mA}$&lt;/p>
&lt;p>(b) $R_L&amp;rsquo;=121.3\Omega$, $a=3.89$&lt;/p>
&lt;p>(c) $\overline{P}_L=333.9{\rm mA}$, $\overline{P}_S=1.187{\rm mA}$&lt;/p>
&lt;p>(d) $\eta = 28.1%$&lt;/p></description></item><item><title>关于电容悖论的讨论</title><link>https://todd.scuteee.com/posts/2022/2022-11-19-a-dicussion-of-capacitor/</link><pubDate>Sat, 19 Nov 2022 10:14:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-11-19-a-dicussion-of-capacitor/</guid><description>&lt;h2 id="介绍">介绍&lt;/h2>
&lt;p>在浏览开关电容的相关内容时看到这个很有意思的&lt;a class="link" href="https://en.wikipedia.org/wiki/Two_capacitor_paradox" target="_blank" rel="noopener"
>电容悖论&lt;/a> ，内容如下：&lt;/p>
&lt;p>有两个相同的电容并联，中间有一个开关。其中一个电容被 $V_i$ 的电压源充满电，另一个则未充电。当开关闭合时，前者的电荷 $Q=CV_i$ 会被平分到两个电容上，而电压会变为 $V_f=\frac{Q}{2C}=\frac{V_i}{2}$. 开始时的能量为：$W_i=\frac{1}{2}C V_i^2$，而结束时的能量为 $W_f=2\cdot \frac{1}{2} C V_f^2=\frac{1}{4}C V_i^2=\frac{1}{2} W_i$. 也就是说有一半的能量消失了？&lt;/p>
&lt;p>这个问题最早提出于1995年，在&lt;a class="link" href="https://www.zhihu.com/question/24288678" target="_blank" rel="noopener"
>知乎&lt;/a>上有一定的讨论，我在此也搬运一些观点。&lt;/p>
&lt;h2 id="解释">解释&lt;/h2>
&lt;p>首先，该悖论是由“理想电路”导致的。我们假设了导线上没有任何电感或电阻，这就导致开关闭合瞬间，电流无穷大（而这是不被允许的）。因此我们必须让导线有电感/电阻。&lt;/p>
&lt;ul>
&lt;li>如果导线有电感，那么电路就会振荡，能量在LC中交替存储，无能量损耗。&lt;/li>
&lt;li>如果导线有电感，并且导线长度不为0，那么振荡会产生电磁波，从而损失能量。这就像有电阻一样，我们称为“辐射电阻”。由于电荷没有损失，因此最终的电压与悖论中的情况一致，能量通过电磁辐射损失。&lt;/li>
&lt;li>如果导线有电阻，那么这就是一个 RC电路，电流以 $e^{-t/\tau}$ 的形式减小到 0. 最终的电压与悖论中的情况一致，能量通过电阻热耗散损失。&lt;/li>
&lt;li>如果导线同时存在电感与电阻，那么能量通过电磁辐射与电阻热耗散损失。&lt;/li>
&lt;/ul>
&lt;p>这个解释很好理解。但我还是不太理解“电流不能无穷大”（无穷大时可能有某些物理定律失效吧，具体是什么呢？），有一种解释是（开关闭合瞬间）无穷大的电流会产生无穷大的电磁波，同样会损失能量；另一种解释是（趋于）无穷大的电流通过（趋于）0电阻的功率不是0。&lt;/p>
&lt;p>为了加深理解，我想进一步讨论一下有电阻时的情况。根据KVL与KCL，有：&lt;/p>
&lt;p>$$
\begin{cases}
U_1 = U_2 + IR\
I=-C\dfrac{{\rm d} U_1}{{\rm d}t} = C\dfrac{{\rm d} U_2}{{\rm d}t}\
U_{1,o}=U_i, U_{2,o}=0
\end{cases}
$$&lt;/p>
&lt;p>算出来：&lt;/p>
&lt;p>$$
I = \frac{U_i}{R} e^{-2t/RC}
$$&lt;/p>
&lt;p>电阻上耗散的功率为：$P_R=\frac{U_i^2}{R}e^{-4t/RC}$，也就是说 $R$ 越大，初始电流越小，初始功率越小，耗散速度（时间常数）越大。但总体积分恒为 $\frac{1}{4}CV^2$&lt;/p>
&lt;p>知乎上有答主分析了另外两种情况：&lt;a class="link" href="https://www.zhihu.com/question/24288678/answer/1341917777" target="_blank" rel="noopener"
>为何将一满电理想电容与一相同无电电容以理想导线并联会损失一半能量？ - 一尘的回答 - 知乎&lt;/a>，我简单摘录一下：&lt;/p>
&lt;p>如果 $L\neq 0, R=0$，那么是理想的LC振荡。&lt;/p>
&lt;p>如果 $L=0,R=0$，那么有：&lt;/p>
&lt;p>$$
u = \frac{V}{2}[1-u(t)]
$$&lt;/p>
&lt;p>也就是电压瞬间发生变化，相应的电流为：&lt;/p>
&lt;p>$$
i = \frac{CV}{2} \delta(t)
$$&lt;/p>
&lt;p>两者相乘得到功率为：$P=\frac{CV^2}{2}[1-u(t)]\delta(t)$&lt;/p>
&lt;p>积分得到 $E = \frac{CV^2}{4}$。这部分能量是开关闭合瞬间以电磁波的形式辐射掉的。&lt;/p>
&lt;p>如果 $L\neq 0, R\neq 0$，那么&lt;/p>
&lt;ul>
&lt;li>如果 $\zeta&amp;lt;1$，$R&amp;lt;2\sqrt{2\frac{L}{C}}$，RLC电路会震荡，直到电流为0&lt;/li>
&lt;li>如果 $\zeta\geq 1$，$R\geq 2\sqrt{2\frac{L}{C}}$，不会振荡，能量传递到 L 后被 R 耗散掉，无法回到 $C$&lt;/li>
&lt;/ul>
&lt;p>如果想了解辐射的损害，可以参考这篇论文：&lt;a class="link" href="https://arxiv.org/pdf/physics/0312031.pdf" target="_blank" rel="noopener"
>Kirk T. McDonald, A Capacitor Paradox&lt;/a>&lt;/p>
&lt;h2 id="扩展">扩展&lt;/h2>
&lt;p>以下内容来自&lt;a class="link" href="https://zhuanlan.zhihu.com/p/25103270" target="_blank" rel="noopener"
>浅谈开关电容电路 (switched capacitor converter) - 甚高的文章 - 知乎&lt;/a>。&lt;/p>
&lt;p>如果是用一电压源给电容充电，充电过程中电压源会损失 $CV^2$ 的能量。电压的总功耗计算如下：&lt;/p>
&lt;p>$$
\begin{aligned}
E &amp;amp;= \int_0^\infty VI {\rm d}t\
&amp;amp;= V \cdot \int_0^\infty I {\rm d}t
&amp;amp;= V \cdot Q\
&amp;amp;= V \cdot CV\
&amp;amp;= CV^2
\end{aligned}
$$&lt;/p>
&lt;p>而如果用电流源给电容充电，则是无损耗的。计算过程如下：&lt;/p>
&lt;p>$$
\begin{aligned}
E &amp;amp;= \int_0^t VI {\rm d}t\
&amp;amp;= C \int_0^t V\frac{{\rm d}V}{{\rm d}t} {\rm d}t\
&amp;amp;= C \int_0^t V {\rm d}V\
&amp;amp;= \frac{1}{2}C(V_t^2-V_0^2)
\end{aligned}
$$&lt;/p>
&lt;p>电容的充放电损耗在 switch capacitor converter（开关电容变压器，简写为 SC converter）中至关重要。&lt;/p>
&lt;h2 id="参考">参考&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://en.wikipedia.org/wiki/Two_capacitor_paradox" target="_blank" rel="noopener"
>Two capacitor paradox - Wikipedia&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/24288678" target="_blank" rel="noopener"
>为何将一满电理想电容与一相同无电电容以理想导线并联会损失一半能量？ - 知乎&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/25103270" target="_blank" rel="noopener"
>浅谈开关电容电路 (switched capacitor converter) - 甚高的文章 - 知乎&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>纲要</title><link>https://todd.scuteee.com/analogic/amplifier/%E5%AE%9E%E8%B7%B5/ic%E8%AE%BE%E8%AE%A1%E5%85%A5%E9%97%A8%E7%BA%B2%E8%A6%81/%E7%BA%B2%E8%A6%81/</link><pubDate>Fri, 18 Nov 2022 22:05:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/%E5%AE%9E%E8%B7%B5/ic%E8%AE%BE%E8%AE%A1%E5%85%A5%E9%97%A8%E7%BA%B2%E8%A6%81/%E7%BA%B2%E8%A6%81/</guid><description>&lt;h2 id="ic-设计入门纲要">IC 设计入门纲要&lt;/h2>
&lt;ol>
&lt;li>模拟 CMOS 集成电路设计（拉扎维著）
&lt;ul>
&lt;li>第三章&lt;/li>
&lt;li>测试 MOS 管的伏安特性，推出 chrt18—Vth&lt;/li>
&lt;li>将第三章的所有电路进行仿真，要实现的目标：
&lt;ol>
&lt;li>进行时域仿真&lt;/li>
&lt;li>得出电路的幅频特性和相频特性&lt;/li>
&lt;li>电路的带宽和增益分别与电路的哪些参数有关（阻值、管子宽长比、偏置的变化），总结成表格形式&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>CMOS 模拟集成电路设计（艾伦著）
&lt;ul>
&lt;li>第六章&lt;/li>
&lt;li>用表格形式总结运算放大器的种类，其中需要进行比较的要点有：
&lt;ol>
&lt;li>增益高低&lt;/li>
&lt;li>带宽宽窄&lt;/li>
&lt;li>一条通路上的管子个数&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>电路仿真实现目标：
&lt;ol>
&lt;li>将第六章的所有运放进行仿真&lt;/li>
&lt;li>每个运放的相位裕度大于 60°&lt;/li>
&lt;li>总结提高相位裕度的方法&lt;/li>
&lt;li>总结提高增益的方法&lt;/li>
&lt;li>总结提高带宽的方法&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>模拟集成电路设计与仿真（何乐年著）
&lt;ul>
&lt;li>第九章&lt;/li>
&lt;li>仿真第九章所有电路，需要关注的指标：
&lt;ol>
&lt;li>PSRR 曲线变化&lt;/li>
&lt;li>通过调节哪个参数可以改变输出电流&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>分析 3 支路电流源电路比 2 支路电流源电路的优越性&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item><item><title>More Verilog Features</title><link>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/more-verilog-features/</link><pubDate>Fri, 18 Nov 2022 21:22:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/more-verilog-features/</guid><description>&lt;h2 id="conditional-ternary-operator">Conditional Ternary Operator&lt;/h2>
&lt;p>Verilog 有 C 一样的三元运算符 &lt;code>?:&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mh">0&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="mh">3&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mh">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// This is 5 because the condition is false.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sel&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// A 2-to-1 multiplexer between a and b selected by sel.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="k">posedge&lt;/span> &lt;span class="n">clk&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// A T-flip-flop.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">toggle&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// State transition logic for a one-input FSM
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nl">A:&lt;/span> &lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">w&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">B&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nl">B:&lt;/span> &lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">w&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">A&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">B&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ena&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="n">bz&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// A tri-state buffer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">((&lt;/span>&lt;span class="n">sel&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mh">2&amp;#39;h0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="c1">// A 3-to-1 mux
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">sel&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mh">2&amp;#39;h1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题38">问题38&lt;/h3>
&lt;ul>
&lt;li>题目：Given four unsigned numbers, find the minimum. Unsigned numbers can be compared with standard comparison operators (a &amp;lt; b). Use the conditional operator to make two-way min circuits, then compose a few of them to create a 4-way min circuit.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// assign intermediate_result1 = compare? true: false;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">min1_output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">min2_output&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">min_2&lt;/span> &lt;span class="n">min1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">min1_output&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">min_2&lt;/span> &lt;span class="n">min2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">min2_output&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">min_2&lt;/span> &lt;span class="n">min3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">min1_output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">min2_output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">min_2&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">min&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/more-verilog-features/images/%E9%97%AE%E9%A2%9838-testbench.png"
width="487"
height="326"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/more-verilog-features/images/%E9%97%AE%E9%A2%9838-testbench_hu34b39bf4b5b570949a8a1b97f5168d14_11760_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/more-verilog-features/images/%E9%97%AE%E9%A2%9838-testbench_hu34b39bf4b5b570949a8a1b97f5168d14_11760_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题38-testbench"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
>&lt;/p>
&lt;h2 id="reduction-operators">Reduction Operators&lt;/h2>
&lt;p>Reduction Operators 可以对一个向量的所有位都进行操作，比如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// AND: a[3]&amp;amp;a[2]&amp;amp;a[1]&amp;amp;a[0]. Equivalent to (a[3:0] == 4&amp;#39;hf)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">|&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// OR: b[3]|b[2]|b[1]|b[0]. Equivalent to (b[3:0] != 4&amp;#39;h0)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">^&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// XOR: c[2]^c[1]^c[0]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题39">问题39&lt;/h3>
&lt;ul>
&lt;li>题目：Parity checking is often used as a simple method of detecting errors when transmitting data through an imperfect channel. Create a circuit that will compute a parity bit for a 8-bit byte (which will add a 9th bit to the byte). We will use &amp;ldquo;even&amp;rdquo; parity, where the parity bit is just the XOR of all 8 data bits.（偶校验）&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">parity&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">parity&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">^&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题40">问题40&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：Build a combinational circuit with 100 inputs, in[99:0].&lt;/p>
&lt;p>There are 3 outputs:&lt;/p>
&lt;ul>
&lt;li>out_and: output of a 100-input AND gate.&lt;/li>
&lt;li>out_or: output of a 100-input OR gate.&lt;/li>
&lt;li>out_xor: output of a 100-input XOR gate.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">99&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_and&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_or&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_xor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_and&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_or&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">|&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_xor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">^&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Procedures</title><link>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/</link><pubDate>Fri, 18 Nov 2022 13:36:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/</guid><description>&lt;h2 id="always-blockscombinational">Always Blocks(Combinational)&lt;/h2>
&lt;p>For synthesizing hardware, two types of always blocks are relevant:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Combinational: always @(*)&lt;/code>&lt;/li>
&lt;li>&lt;code>Clocked: always @(posedge clk)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Combinational always blocks are equivalent to assign statements, 哪个方便用哪个。但是， procedural block 里面的语句有一些不同。Procedural blocks 可以用 &lt;code>if-then&lt;/code>、&lt;code>case&lt;/code> 等语句，但不能包含连续赋值（Procedural continuous assignments 无法综合）。&lt;/p>
&lt;p>比如，下面两个会生成同样的组合逻辑：&lt;/p>
&lt;ul>
&lt;li>&lt;code>assign out1 = a &amp;amp; b | c ^ d;&lt;/code>&lt;/li>
&lt;li>&lt;code>always @(*) out2 = a &amp;amp; b | c ^ d;&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>combinational always的敏感表是 &lt;code>(*)&lt;/code>，表示在always内部所有出现的信号。我们也可以手动列信号，但一旦漏了信号，那么：the synthesized hardware will still behave as though (*) was specified, but the simulation will not and not match the hardware&amp;rsquo;s behaviour.&lt;/p>
&lt;p>注意：&lt;code>assign&lt;/code> 等号的左边必须是一个 net type(e.g., wire)，而 procedural assignment 的等号的左边必须是 variable type(e.g., reg).&lt;/p>
&lt;h3 id="问题30">问题30&lt;/h3>
&lt;ul>
&lt;li>题目：分别用组合逻辑与时序逻辑实现一个与门：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">out_assign&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">out_alwaysblock&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_assign&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">out_alwaysblock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9830-testbench.png"
width="546"
height="332"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9830-testbench_hu25646ae2b401f54cd0deda34252bb23a_13863_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9830-testbench_hu25646ae2b401f54cd0deda34252bb23a_13863_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题30-testbench"
class="gallery-image"
data-flex-grow="164"
data-flex-basis="394px"
>&lt;/p>
&lt;h2 id="always-blocksclocked">Always Blocks(clocked)&lt;/h2>
&lt;p>For hardware synthesis, there are two types of always blocks that are relevant:&lt;/p>
&lt;ul>
&lt;li>Combinational: &lt;code>always @(*)&lt;/code>&lt;/li>
&lt;li>Clocked: &lt;code>always @(posedge clk)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="blocking-vs-non-blocking-assignment">Blocking vs. Non-Blocking Assignment&lt;/h3>
&lt;p>There are three types of assignments in Verilog:&lt;/p>
&lt;ul>
&lt;li>Continuous assignments (&lt;code>assign x = y;&lt;/code>). Can only be used when not inside a procedure (&amp;ldquo;always block&amp;rdquo;).&lt;/li>
&lt;li>Procedural blocking assignment: (&lt;code>x = y;&lt;/code>). Can only be used inside a procedure.&lt;/li>
&lt;li>Procedural non-blocking assignment: (&lt;code>x &amp;lt;= y;&lt;/code>). Can only be used inside a procedure.&lt;/li>
&lt;/ul>
&lt;p>In a combinational always block, use blocking assignments. In a clocked always block, use non-blocking assignments.&lt;/p>
&lt;h3 id="问题31">问题31&lt;/h3>
&lt;ul>
&lt;li>题目：用三种赋值方法实现 xor&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">clk&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">out_assign&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">out_always_comb&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">out_always_ff&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_assign&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">^&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">out_always_comb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">^&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="k">posedge&lt;/span> &lt;span class="n">clk&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">out_always_ff&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">^&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9831-testbench.png"
width="552"
height="417"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9831-testbench_hu2a859df688033ad185e15f7196dcdeeb_17677_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9831-testbench_hu2a859df688033ad185e15f7196dcdeeb_17677_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题31-testbench"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/p>
&lt;h2 id="if-statement">If Statement&lt;/h2>
&lt;p>if statement 可以用来弄2-1选择器：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/Always_if_mux.png"
width="207"
height="117"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/Always_if_mux_hu82fa104dedda6028f82c3a8f25c3a352_3790_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/Always_if_mux_hu82fa104dedda6028f82c3a8f25c3a352_3790_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Always_if_mux"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Always&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">mux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">png&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">condition&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>等价于：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">condition&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>However, the procedural if statement provides a new way to make mistakes. &lt;strong>The circuit is combinational only if out is always assigned a value.&lt;/strong>&lt;/p>
&lt;h3 id="问题32">问题32&lt;/h3>
&lt;ul>
&lt;li>题目：Build a 2-to-1 mux that chooses between a and b. Choose b if both sel_b1 and sel_b2 are true. Otherwise, choose a. Do the same twice, once using assign statements and once using a procedural if statement.&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>sel_b1&lt;/th>
&lt;th>sel_b2&lt;/th>
&lt;th>out&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0&lt;/td>
&lt;td>0&lt;/td>
&lt;td>a&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0&lt;/td>
&lt;td>1&lt;/td>
&lt;td>a&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>0&lt;/td>
&lt;td>a&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>1&lt;/td>
&lt;td>b&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">sel_b1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">sel_b2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">out_assign&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">out_always&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//assign out_assign = a&amp;amp;~(sel_b1&amp;amp;sel_b2) | b&amp;amp;(sel_b1&amp;amp;sel_b2);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_assign&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">sel_b1&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">sel_b2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">sel_b1&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">sel_b2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">out_always&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">out_always&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9832-testbench.png"
width="596"
height="387"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9832-testbench_hu4997b3c78685765a2afccc2564d9dfcd_15821_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9832-testbench_hu4997b3c78685765a2afccc2564d9dfcd_15821_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题32-testbench"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="369px"
>&lt;/p>
&lt;h2 id="if-statement-latches">If Statement Latches&lt;/h2>
&lt;h3 id="a-common-source-of-errors-how-to-avoid-making-latches">A common source of errors: How to avoid making latches&lt;/h3>
&lt;p>如果没有指定某些情况，那么 Verilog 就会认为在这些情况下，输出不变。而这就会引入 Latch. 注意编译时的 Warning (10240): &amp;hellip; inferring latch(es)&amp;quot; messages. 除非你需要那个latch，否则这意味着存在一个bug. Combinational circuits must have a value assigned to all outputs under all conditions. This usually means you always need else clauses or a default value assigned to the outputs.&lt;/p>
&lt;h3 id="demonstration-问题33">Demonstration (问题33)&lt;/h3>
&lt;ul>
&lt;li>题目：The following code contains incorrect behaviour that creates a latch. Fix the bugs so that you will shut off the computer only if it&amp;rsquo;s really overheated, and stop driving if you&amp;rsquo;ve arrived at your destination or you need to refuel.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cpu_overheated&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shut_off_computer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">arrived&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">keep_driving&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">gas_tank_empty&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">cpu_overheated&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">shut_off_computer&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">arrived&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">gas_tank_empty&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">keep_driving&lt;/span> &lt;span class="p">);&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cpu_overheated&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shut_off_computer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shut_off_computer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">arrived&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">keep_driving&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">gas_tank_empty&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">keep_driving&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9833-testbench.png"
width="555"
height="358"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9833-testbench_hucc2f302e188051e802d14cc2f6ff91e0_16687_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9833-testbench_hucc2f302e188051e802d14cc2f6ff91e0_16687_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题33-testbench"
class="gallery-image"
data-flex-grow="155"
data-flex-basis="372px"
>&lt;/p>
&lt;h2 id="case-statement">Case Statement&lt;/h2>
&lt;p>Case statements in Verilog are nearly equivalent to a sequence of if-elseif-else that compares one expression to a list of others.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span> &lt;span class="c1">// This is a combinational circuit
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// begin-end if &amp;gt;1 statement
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="n">bx&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Each case item can execute exactly one statement. This makes the &amp;ldquo;break&amp;rdquo; used in C unnecessary. But this means that if you need more than one statement, you must use &lt;code>begin ... end&lt;/code>.&lt;/li>
&lt;li>Duplicate (and partially overlapping) case items are permitted. The first one that matches is used. C does not allow duplicate case items.&lt;/li>
&lt;/ul>
&lt;h3 id="问题34">问题34&lt;/h3>
&lt;ul>
&lt;li>题目：Case statements are more convenient than if statements if there are a large number of cases. So, in this exercise, create a 6-to-1 multiplexer. When sel is between 0 and 5, choose the corresponding data input. Otherwise, output 0. The data inputs and outputs are all 4 bits wide.&lt;/li>
&lt;li>提示：Be careful of inferring latches&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">sel&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">data0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">data1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">data2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">data3&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">data4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">data5&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span>&lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span> &lt;span class="c1">// This is a combinational circuit
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">case&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">0&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">5&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="priority-encoder问题35">Priority Encoder（问题35）&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>题目：A priority encoder is a combinational circuit that, when given an input bit vector, outputs the position of the first 1 bit in the vector. For example, a 8-bit priority encoder given the input 8&amp;rsquo;b10010000 would output 3&amp;rsquo;d4, because bit[4] is first bit that is high.&lt;/p>
&lt;p>Build a 4-bit priority encoder. For this problem, if none of the input bits are high (i.e., input is zero), output zero. Note that a 4-bit number has 16 possible combinations.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b0001&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b0010&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b0110&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b1010&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b1110&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b0100&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b1100&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b1000&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9835-testbench.png"
width="936"
height="237"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9835-testbench_hua6d11ce3e78734952cfdfac00540e64a_15352_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9835-testbench_hua6d11ce3e78734952cfdfac00540e64a_15352_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题35-testbench"
class="gallery-image"
data-flex-grow="394"
data-flex-basis="947px"
>&lt;/p>
&lt;h3 id="priority-encoder-with-casez问题36">Priority encoder with casez（问题36）&lt;/h3>
&lt;p>可以利用 &lt;code>casez&lt;/code> 来简化 priority encode. &lt;code>casez&lt;/code> 会把 &lt;code>z&lt;/code> 当作无关紧要的值，比如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">casez&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bzzz1:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// in[3:1] can be anything
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="mh">4&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bzz1z:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bz1zz:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">4&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="nl">zzz:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>case statement 会逐个检查每一项，会选择第一个匹配的项。&lt;/p>
&lt;p>另外还有一个 &lt;code>casex&lt;/code> 会把 &lt;code>x&lt;/code> 和 &lt;code>z&lt;/code> 都看作无关紧要的。另外，&lt;code>?&lt;/code> is a synonym for &lt;code>z&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>题目：Build a priority encoder for 8-bit inputs. Given an 8-bit vector, the output should report the first (least significant) bit in the vector that is 1. Report zero if the input vector has no bits that are high. For example, the input 8&amp;rsquo;b10010000 should output 3&amp;rsquo;d4, because bit[4] is first bit that is high.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">casex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bxxxxxxx1:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bxxxxxx1x:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bxxxxx1xx:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bxxxx1xxx:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bxxx1xxxx:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bxx1xxxxx:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="p">&amp;#39;&lt;/span>&lt;span class="nl">bx1xxxxx0:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d6&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">8&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="nl">xxxxxx0:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d7&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9836-testbench.png"
width="765"
height="240"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9836-testbench_huac6c6fceacc0fb59e3935633fafe5a0c_15212_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9836-testbench_huac6c6fceacc0fb59e3935633fafe5a0c_15212_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题36-testbench"
class="gallery-image"
data-flex-grow="318"
data-flex-basis="765px"
>&lt;/p>
&lt;h2 id="avoiding-latches问题37">Avoiding Latches（问题37）&lt;/h2>
&lt;p>假设要扫描键盘的输入（假设只需要扫描上下左右4个键），如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Scancode [15:0]&lt;/th>
&lt;th>Arrow key&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>16&amp;rsquo;he06b&lt;/td>
&lt;td>left arrow&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16&amp;rsquo;he072&lt;/td>
&lt;td>down arrow&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16&amp;rsquo;he074&lt;/td>
&lt;td>right arrow&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16&amp;rsquo;he075&lt;/td>
&lt;td>up arrow&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Anything else&lt;/td>
&lt;td>none&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>To avoid creating latches, all outputs must be assigned a value in all possible conditions. Simply having a default case is not enough. You must assign a value to all four outputs in all four cases and the default case.This can involve a lot of unnecessary typing. One easy way around this is to assign a &amp;ldquo;default value&amp;rdquo; to the outputs before the case statement:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">down&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">scancode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span> &lt;span class="c1">// Set to 1 as necessary.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>This style of code ensures the outputs are assigned a value (of 0) in all possible cases unless the case statement overrides the assignment. This also means that a default: case item becomes unnecessary.&lt;/p>
&lt;p>&lt;strong>Reminder&lt;/strong>: The logic synthesizer generates a combinational circuit that behaves equivalently to what the code describes. Hardware does not &amp;ldquo;execute&amp;rdquo; the lines of code in sequence.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">scancode&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">down&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">up&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">down&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scancode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he06b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he072&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">down&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he074&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he075&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9837-testbench.png"
width="834"
height="423"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9837-testbench_huf066637dcf735b96d5313ab24660eda6_21555_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9837-testbench_huf066637dcf735b96d5313ab24660eda6_21555_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题37-testbench"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="473px"
>&lt;/p>
&lt;p>下面是错误示范。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// synthesis verilog_input_version verilog_2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">scancode&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">down&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="n">up&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scancode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he06b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he072&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">down&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he074&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">16&amp;#39;he075&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">down&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9837-wrong-testbench.png"
width="832"
height="420"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9837-wrong-testbench_hufc3b0dba5bd7f50149f58d709d94dc16_21610_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/procedures/images/%E9%97%AE%E9%A2%9837-wrong-testbench_hufc3b0dba5bd7f50149f58d709d94dc16_21610_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题37-wrong-testbench"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="475px"
>&lt;/p></description></item><item><title>模块</title><link>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/</link><pubDate>Thu, 17 Nov 2022 20:43:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/</guid><description>&lt;h2 id="module">Module&lt;/h2>
&lt;p>多个小模块可以组合成更大的模块。比如假设有如下一个模块：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">mod_a&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">in1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">in2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Module body
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以通过将信号连接到模块端口的名字或位置，来使用模块：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>通过模块端口的位置（即定义时的位置）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mod_a&lt;/span> &lt;span class="n">instance1&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="n">wa&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">wb&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">wc&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>通过模块端口的名称&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mod_a&lt;/span> &lt;span class="n">instance2&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wc&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">in1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wa&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">in2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>如果有端口需要悬空，则直接不写外部的连线即可，如&lt;code>mod_a instance1 ( wa, , wc );&lt;/code> 或 &lt;code>mod_a instance2 ( .out(wc), .in1(wa), .in2( ) );&lt;/code>&lt;/p>
&lt;h3 id="问题20">问题20&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module.png"
width="691"
height="282"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_huf80b1f5df7af23e0e7e428df8ba28bf4_29669_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_huf80b1f5df7af23e0e7e428df8ba28bf4_29669_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module"
class="gallery-image"
data-flex-grow="245"
data-flex-basis="588px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mod_a&lt;/span> &lt;span class="n">instance1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// mod_a instance2 (.in1(a), .in2(b), .out(out));
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9820-testbench.png"
width="553"
height="272"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9820-testbench_hu234d56b8d4796f7d0a3d6886bb845621_9707_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9820-testbench_hu234d56b8d4796f7d0a3d6886bb845621_9707_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题20-testbench"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="487px"
>&lt;/p>
&lt;h3 id="问题21">问题21&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：You are given the following module:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">mod_a&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="k">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_pos.png"
width="733"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_pos_hu1cd41d27742715d2020230a6567ef617_21851_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_pos_hu1cd41d27742715d2020230a6567ef617_21851_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_pos"
class="gallery-image"
data-flex-grow="260"
data-flex-basis="626px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mod_a&lt;/span> &lt;span class="n">instance1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">out1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">out2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9821-testbench.png"
width="719"
height="390"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9821-testbench_hu8da43ae9abf4f851f5e245e441a94183_15286_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9821-testbench_hu8da43ae9abf4f851f5e245e441a94183_15286_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题21-testbench"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
>&lt;/p>
&lt;h3 id="问题22">问题22&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_pos.png"
width="733"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_pos_hu1cd41d27742715d2020230a6567ef617_21851_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_pos_hu1cd41d27742715d2020230a6567ef617_21851_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_pos"
class="gallery-image"
data-flex-grow="260"
data-flex-basis="626px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mod_a&lt;/span> &lt;span class="n">instance1&lt;/span>&lt;span class="p">(.&lt;/span>&lt;span class="n">in1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">in2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">in3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">in4&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">out1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">out1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">out2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">out2&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9822-testbench.png"
width="711"
height="388"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9822-testbench_hu25d617c420727f3c487fc70f65daa1fe_15181_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9822-testbench_hu25d617c420727f3c487fc70f65daa1fe_15181_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题22-testbench"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="439px"
>&lt;/p>
&lt;h3 id="问题23">问题23&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：You are given a module my_dff with two inputs and one output (that implements a D flip-flop). Instantiate three of them, then chain them together to make a shift register of length 3. The clk port needs to be connected to all instances.&lt;/p>
&lt;p>The module provided to you is: &lt;code>module my_dff ( input clk, input d, output q );&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_shift.png"
width="755"
height="226"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_shift_hu159564dfa0c2bfea7361b408bc4f3c9e_23008_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_shift_hu159564dfa0c2bfea7361b408bc4f3c9e_23008_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_shift"
class="gallery-image"
data-flex-grow="334"
data-flex-basis="801px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">clk&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="n">q1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">q2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">my_dff&lt;/span> &lt;span class="n">instance1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">my_dff&lt;/span> &lt;span class="n">instance2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">my_dff&lt;/span> &lt;span class="n">instance3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9823-testbench.png"
width="725"
height="267"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9823-testbench_hu9a5ecfceb970f313a0d9898165f5fb9e_10012_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9823-testbench_hu9a5ecfceb970f313a0d9898165f5fb9e_10012_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题23-testbench"
class="gallery-image"
data-flex-grow="271"
data-flex-basis="651px"
>&lt;/p>
&lt;h3 id="问题24">问题24&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_shift8.png"
width="852"
height="259"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_shift8_hu556eafcf008b9304a957acf9fc68ed9a_37165_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_shift8_hu556eafcf008b9304a957acf9fc68ed9a_37165_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_shift8"
class="gallery-image"
data-flex-grow="328"
data-flex-basis="789px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">clk&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">sel&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">q&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">q1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">q2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">q3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">my_dff8&lt;/span> &lt;span class="n">dff1&lt;/span>&lt;span class="p">(.&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q1&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">my_dff8&lt;/span> &lt;span class="n">dff2&lt;/span>&lt;span class="p">(.&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q2&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">my_dff8&lt;/span> &lt;span class="n">dff3&lt;/span>&lt;span class="p">(.&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clk&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q3&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">0&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9824-testbench.png"
width="885"
height="297"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9824-testbench_hu870a87a991185caf01d325862636895a_18506_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9824-testbench_hu870a87a991185caf01d325862636895a_18506_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题24-testbench"
class="gallery-image"
data-flex-grow="297"
data-flex-basis="715px"
>&lt;/p>
&lt;h3 id="问题25">问题25&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_add.png"
width="491"
height="304"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_add_hu758e14d9b76438a2705a00bf33f5db3e_24998_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_add_hu758e14d9b76438a2705a00bf33f5db3e_24998_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_add"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="387px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">sum&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="n">carry&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">low&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">carry&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">high&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">carry&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],);&lt;/span> &lt;span class="c1">//悬空
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9825-testbench.png"
width="509"
height="272"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9825-testbench_hu8e277f0c01a555d5d97a5b169250f20d_11826_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9825-testbench_hu8e277f0c01a555d5d97a5b169250f20d_11826_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题25-testbench"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="449px"
>&lt;/p>
&lt;h3 id="问题26">问题26&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：there are three modules in this design:&lt;/p>
&lt;ul>
&lt;li>top_module — Your top-level module that contains two of&amp;hellip;&lt;/li>
&lt;li>add16, provided — A 16-bit adder module that is composed of 16 of&amp;hellip;&lt;/li>
&lt;li>add1 — A 1-bit full adder module.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_fadd.png"
width="665"
height="671"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_fadd_hued10dc26b6b2e240c19f1eb14853228c_46718_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_fadd_hued10dc26b6b2e240c19f1eb14853228c_46718_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_fadd"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="237px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>提示：Full adder equations: &lt;code>sum = a ^ b ^ cin&lt;/code> and &lt;code>cout = a&amp;amp;b | a&amp;amp;cin | b&amp;amp;cin&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">sum&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">carry&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">low&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">carry&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">high&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">carry&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">add1&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">cin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">cout&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Full adder module here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">assign&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">cout&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">cin&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题28">问题28&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：并行加法器&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_cseladd.png"
width="575"
height="396"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_cseladd_huf57cd0f9f5e23a6fbc0bdc4979b17ac2_36103_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_cseladd_huf57cd0f9f5e23a6fbc0bdc4979b17ac2_36103_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_cseladd"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="348px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">sum&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="n">sel&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">high0_out&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">high1_out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">low&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">sel&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">high0&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="mh">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">high0_out&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">high1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">high1_out&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">sel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">high0_out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">high1_out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endcase&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9828-testbench.png"
width="508"
height="263"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9828-testbench_hua76993f06ace9505a21839975730d291_11761_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9828-testbench_hua76993f06ace9505a21839975730d291_11761_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题28-testbench"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="463px"
>&lt;/p>
&lt;h3 id="问题29">问题29&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_addsub.png"
width="491"
height="304"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_addsub_huea5a9bc2aa1955dca91e4ba0e81b6aa2_27018_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/Module_addsub_huea5a9bc2aa1955dca91e4ba0e81b6aa2_27018_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Module_addsub.png"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="387px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">sum&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="n">cout_low&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out_xor&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_xor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="o">^&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mh">32&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">sub&lt;/span>&lt;span class="p">}};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">low&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">out_xor&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">sub&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">cout_low&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add16&lt;/span> &lt;span class="n">high&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">out_xor&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">cout_low&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">16&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9829-testbench.png"
width="727"
height="298"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9829-testbench_hu249a6f11bf6f2873b723e1f3becc4ae8_14684_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/module/images/%E9%97%AE%E9%A2%9829-testbench_hu249a6f11bf6f2873b723e1f3becc4ae8_14684_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题29-testbench"
class="gallery-image"
data-flex-grow="243"
data-flex-basis="585px"
>&lt;/p></description></item><item><title>向量</title><link>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/</link><pubDate>Thu, 17 Nov 2022 16:28:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/</guid><description>&lt;h2 id="vertor0">Vertor0&lt;/h2>
&lt;p>向量是一组信号的集合，比如 &lt;code>wire [7:0] w;&lt;/code> 定义了一个 8-bit 向量。注意向量的位数放在变量名前面（与 C 语言不同），但选择某一位时则与 C 语言一样都是放在变量后面。&lt;/p>
&lt;p>示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">99&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">my_vector&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Declare a 100-element vector
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">my_vector&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">10&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// Part-select one bit out of the vector
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题11">问题11&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：Build a circuit that has one 3-bit input, then outputs the same vector, and also splits it into three separate 1-bit outputs. Connect output o0 to the input vector&amp;rsquo;s position 0, o1 to position 1, etc.&lt;/p>
&lt;p>图中，线上一撇表示那是一个向量，旁边的数字是位数。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector0.png"
width="690"
height="227"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector0_hu087accd349764fecbed160e9888606f1_18658_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector0_hu087accd349764fecbed160e9888606f1_18658_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Vector0"
class="gallery-image"
data-flex-grow="303"
data-flex-basis="729px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">outv&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">o2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">o1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="n">o0&lt;/span> &lt;span class="p">);&lt;/span> &lt;span class="c1">// Module body starts after module declaration
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">outv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">o0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">o1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">o2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9811-testbench.png"
width="472"
height="415"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9811-testbench_hub8c939dc9a8802561a94cf1327d9e466_17050_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9811-testbench_hub8c939dc9a8802561a94cf1327d9e466_17050_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题11-testbench"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="272px"
>&lt;/p>
&lt;h2 id="vector1">Vector1&lt;/h2>
&lt;h3 id="declaring-vectors">Declaring Vectors&lt;/h3>
&lt;p>向量必须先被定义：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">type&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nl">upper:&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">vector_name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>type 是向量的类型，可以是 &lt;code>wire&lt;/code> 或 &lt;code>reg&lt;/code>，如果是端口，则类型可以是 &lt;code>input&lt;/code> 或 &lt;code>output&lt;/code>. 示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 8-bit wire
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">reg&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">4&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 4-bit reg
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">output&lt;/span> &lt;span class="kt">reg&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 1-bit reg that is also an output port (this is still a vector)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">input&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:-&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">z&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 6-bit wire input (negative ranges are allowed)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 4-bit output wire. Type is &amp;#39;wire&amp;#39; unless specified otherwise.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 8-bit wire where b[0] is the most-significant bit.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意向量的字节顺序，可以是 little-endian, e.g., [3:0] 或 big-endian, e.g., [0:3]. 但一旦定义为特定顺序后，使用时顺序就必须相同。&lt;/p>
&lt;h3 id="implicit-nets">Implicit nets&lt;/h3>
&lt;p>Implicit nets 是一类很难发现的 bug. 在给未定义的变量赋值时、把未定义变量用于modele port时，就会产生 implicit nets. Implicit nets 始终是 1bit wire，不能给向量赋值。通过在开头加入 &lt;code>`default_nettype none directive&lt;/code> 来禁止 生成 implicit net.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Two vectors
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mb">&amp;#39;b101&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// a = 101
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// b = 1 implicitly-created wire
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// c = 001 &amp;lt;-- bug
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">my_module&lt;/span> &lt;span class="n">i1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// d and e are implicitly one-bit wide if not declared.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// This could be a bug if the port was intended to be a vector.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>加入 &lt;code>`default_nettype none directive&lt;/code> 后，就会使得 &lt;code>assign b = a&lt;/code> 出错，使得 bug 更容易找。&lt;/p>
&lt;h3 id="unpacked-vs-packed-arrays">Unpacked vs. Packed Arrays&lt;/h3>
&lt;p>You may have noticed that in declarations, the vector indices are written before the vector name. This declares the &amp;ldquo;packed&amp;rdquo; dimensions of the array, where the bits are &amp;ldquo;packed&amp;rdquo; together into a blob (this is relevant in a simulator, but not in hardware). The unpacked dimensions are declared after the name. They are generally used to declare memory arrays.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">reg&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">mem&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">255&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// 256 unpacked elements, each of which is a 8-bit packed vector of reg.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">reg&lt;/span> &lt;span class="n">mem2&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">28&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// 29 unpacked elements, each of which is a 1-bit reg.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="accessing-vector-elements-part-select">Accessing Vector Elements: Part-Select&lt;/h3>
&lt;p>以下向量的定义在最上方。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="n">w&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// Only the lower 4 bits of w
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// The lowest bit of x
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// ...also the lowest bit of x
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:-&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// Two lowest bits of z
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// Illegal. Vector part-select must match the direction of the declaration.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// The *upper* 4 bits of b.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// Assign upper 4 bits of b to lower 4 bits of w. w[3]=b[0], w[2]=b[1], etc.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题12">问题12&lt;/h3>
&lt;ul>
&lt;li>题目：Build a combinational circuit that splits an input half-word (16 bits, [15:0] ) into lower [7:0] and upper [15:8] bytes.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="no">`default_nettype&lt;/span> &lt;span class="n">none&lt;/span> &lt;span class="c1">// Disable implicit nets. Reduces some types of bugs.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out_hi&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out_lo&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_hi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_lo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9812-testbench.png"
width="850"
height="297"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9812-testbench_huf8f593cfbca0137a931240f35909e9b8_25475_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9812-testbench_huf8f593cfbca0137a931240f35909e9b8_25475_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题12-testbench"
class="gallery-image"
data-flex-grow="286"
data-flex-basis="686px"
>&lt;/p>
&lt;h2 id="vector2">Vector2&lt;/h2>
&lt;h3 id="问题13">问题13&lt;/h3>
&lt;ul>
&lt;li>题目：A 32-bit vector can be viewed as containing 4 bytes (bits [31:24], [23:16], etc.). Build a circuit that will reverse the byte ordering of the 4-byte word.&lt;/li>
&lt;/ul>
&lt;p>AaaaaaaaBbbbbbbbCcccccccDddddddd =&amp;gt; DdddddddCcccccccBbbbbbbbAaaaaaaa&lt;/p>
&lt;p>This operation is often used when the endianness of a piece of data needs to be swapped, for example between little-endian x86 systems and the big-endian formats used in many Internet protocols.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// assign out[31:24] = ...;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">4&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">4&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9813-testbench.png"
width="813"
height="238"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9813-testbench_hu657f6d1acd93c23e7257e6dee94fb92f_20208_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9813-testbench_hu657f6d1acd93c23e7257e6dee94fb92f_20208_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题13-testbench"
class="gallery-image"
data-flex-grow="341"
data-flex-basis="819px"
>&lt;/p>
&lt;h2 id="vector-gates">Vector Gates&lt;/h2>
&lt;h3 id="问题14">问题14&lt;/h3>
&lt;ul>
&lt;li>题目：Build a circuit that has two 3-bit inputs that computes the bitwise-OR of the two vectors, the logical-OR of the two vectors, and the inverse (NOT) of both vectors. Place the inverse of b in the upper half of out_not (i.e., bits [5:3]), and the inverse of a in the lower half.&lt;/li>
&lt;li>提示：
&lt;ul>
&lt;li>Even though you cannot assign to a wire more than once, you can use a part select on the left-hand-side of an assign. You don&amp;rsquo;t need to assign to the entire vector all in one statement.&lt;/li>
&lt;li>注意 bitwise 和 logical 的区别。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vectorgates.png"
width="829"
height="227"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vectorgates_huc5fd53db149e50e8b467290054a4c89f_29623_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vectorgates_huc5fd53db149e50e8b467290054a4c89f_29623_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Vector Gates"
class="gallery-image"
data-flex-grow="365"
data-flex-basis="876px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out_or_bitwise&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_or_logical&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out_not&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_or_bitwise&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_or_logical&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_not&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_not&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9814-testbench.svg"
loading="lazy"
alt="问题14-testbench"
>&lt;/p>
&lt;h2 id="gates4">Gates4&lt;/h2>
&lt;h3 id="问题15">问题15&lt;/h3>
&lt;ul>
&lt;li>题目：Build a combinational circuit with four inputs, in[3:0].&lt;/li>
&lt;/ul>
&lt;p>There are 3 outputs:&lt;/p>
&lt;ul>
&lt;li>out_and: output of a 4-input AND gate.&lt;/li>
&lt;li>out_or: output of a 4-input OR gate.&lt;/li>
&lt;li>out_xor: output of a 4-input XOR gate.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_and&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_or&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_xor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_and&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_or&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_xor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">^&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">^&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">^&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9815-testbench.png"
width="737"
height="358"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9815-testbench_hu85dd5d074fb16a8ad88911948bc1bfb0_17101_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9815-testbench_hu85dd5d074fb16a8ad88911948bc1bfb0_17101_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题15-testbench"
class="gallery-image"
data-flex-grow="205"
data-flex-basis="494px"
>&lt;/p>
&lt;h2 id="vector3">Vector3&lt;/h2>
&lt;p>拼接操作 &lt;code>{a,b,c}&lt;/code> 用于把多个向量合并为一个大的向量。比如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="mb">&amp;#39;b111&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mb">&amp;#39;b000&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="mh">6&lt;/span>&lt;span class="mb">&amp;#39;b111000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mh">3&lt;/span>&lt;span class="mb">&amp;#39;b101&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="mh">5&lt;/span>&lt;span class="mb">&amp;#39;b10101&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="mh">4&amp;#39;ha&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mh">4&lt;/span>&lt;span class="mi">&amp;#39;d10&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="mh">8&lt;/span>&lt;span class="mb">&amp;#39;b10101010&lt;/span> &lt;span class="c1">// 4&amp;#39;ha and 4&amp;#39;d10 are both 4&amp;#39;b1010 in binary
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>拼接操作可以在等号的两边都可以使用：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">23&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">assign&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Swap two bytes. Right side and left side are both 16-bit vectors.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]};&lt;/span> &lt;span class="c1">// This is the same thing.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">15&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">]};&lt;/span> &lt;span class="c1">// This is different. The 16-bit vector on the right is extended to
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// match the 24-bit vector on the left, so out[23:16] are zero.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// In the first two examples, out[23:16] are not assigned.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题16">问题16&lt;/h3>
&lt;ul>
&lt;li>题目：Given several input vectors, concatenate them together then split them up into several output vectors. There are six 5-bit input vectors: a, b, c, d, e, and f, for a total of 30 bits of input. There are four 8-bit output vectors: w, x, y, and z, for 32 bits of output. The output should be a concatenation of the input vectors followed by two 1 bits:&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector3.png"
width="360"
height="125"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector3_huca1d94c5ea72a89ab0aab777957073da_5259_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector3_huca1d94c5ea72a89ab0aab777957073da_5259_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Vector3"
class="gallery-image"
data-flex-grow="288"
data-flex-basis="691px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">4&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">z&lt;/span> &lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="mb">&amp;#39;b11&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9816-testbench.png"
width="613"
height="571"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9816-testbench_hufa67ce7feec0d99a4b4f684ef69de813_32185_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9816-testbench_hufa67ce7feec0d99a4b4f684ef69de813_32185_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题16-testbench"
class="gallery-image"
data-flex-grow="107"
data-flex-basis="257px"
>&lt;/p>
&lt;h2 id="vector-reversal1">Vector Reversal1&lt;/h2>
&lt;h3 id="题目17">题目17&lt;/h3>
&lt;ul>
&lt;li>题目：Given an 8-bit input vector [7:0], reverse its bit ordering.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">4&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">6&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="p">]}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>利用 sequential code 的 for-loops:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">always&lt;/span> &lt;span class="p">@(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// int is a SystemVerilog type. Use integer for pure Verilog.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>利用 generate-for-loop（编译器在预处理阶段展开，并对定义的 genvar 做简单替换）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">generate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">genvar&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">begin&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">my_block_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endgenerate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9817-testbench.png"
width="406"
height="237"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9817-testbench_hu8da81ef5c7774b95ececfc8e8de611e0_10653_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/%E9%97%AE%E9%A2%9817-testbench_hu8da81ef5c7774b95ececfc8e8de611e0_10653_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题17-testbench"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="411px"
>&lt;/p>
&lt;h2 id="vector4">Vector4&lt;/h2>
&lt;p>尽管拼接操作可以组合多个向量，但如果需要重复组合一个向量（比如 &lt;code>a = {b,b,b,b,b};&lt;/code>），可以用重复操作来将一个向量重复多次，再进行拼接操作。重复的次数必须是一个常数。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mh">1&lt;/span>&lt;span class="mb">&amp;#39;b1&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="c1">// 5&amp;#39;b11111 (or 5&amp;#39;d31 or 5&amp;#39;h1f)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="c1">// The same as {a,b,c,a,b,c}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mh">2&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mh">3&lt;/span>&lt;span class="mi">&amp;#39;d6&lt;/span>&lt;span class="p">}}}&lt;/span> &lt;span class="c1">// 9&amp;#39;b101_110_110. It&amp;#39;s a concatenation of 101 with
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// the second vector, which is two copies of 3&amp;#39;b110.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题18">问题18&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：One common place to see a replication operator is when sign-extending a smaller number to a larger one, while preserving its signed value. This is done by replicating the sign bit (the most significant bit) of the smaller number to the left. For example, sign-extending 4&amp;rsquo;b0101 (5) to 8 bits results in 8&amp;rsquo;b00000101 (5), while sign-extending 4&amp;rsquo;b1101 (-3) to 8 bits results in 8&amp;rsquo;b11111101 (-3).&lt;/p>
&lt;p>Build a circuit that sign-extends an 8-bit number to 32 bits. This requires a concatenation of 24 copies of the sign bit (i.e., replicate bit[7] 24 times) followed by the 8-bit number itself.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">31&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="mh">24&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mh">7&lt;/span>&lt;span class="p">]}},&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="vector5">Vector5&lt;/h2>
&lt;h3 id="问题19">问题19&lt;/h3>
&lt;ul>
&lt;li>题目：Given five 1-bit signals (a, b, c, d, and e), compute all 25 pairwise one-bit comparisons in the 25-bit output vector. The output should be 1 if the two bits being compared are equal.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector5.png"
width="399"
height="115"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector5_hu3748fdae2aa8336a47c1085a853c9f08_11702_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/vectors/images/Vector5_hu3748fdae2aa8336a47c1085a853c9f08_11702_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Vector5"
class="gallery-image"
data-flex-grow="346"
data-flex-basis="832px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">24&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// The output is XNOR of two vectors created by
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// concatenating and replicating the five inputs.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// assign out = ~{ ... } ^ { ... };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">24&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">xnor_in1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mh">24&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">xnor_in2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">xnor_in1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">}},{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">}},{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">}},{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">}},{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">}}};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">xnor_in2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="mh">5&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">}}};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xnor_in1&lt;/span>&lt;span class="o">^&lt;/span>&lt;span class="n">xnor_in2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>基础</title><link>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/</link><pubDate>Thu, 17 Nov 2022 15:07:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/</guid><description>&lt;h2 id="wire">Wire&lt;/h2>
&lt;p>Verilog 中的 &lt;code>wire&lt;/code> 是单向的（与实际电路不同），从 driver 到 sink。可以用continuous assignment来赋值：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">assign&lt;/span> &lt;span class="n">left_side&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">right_side&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>模块的端口也有方向，&lt;code>input&lt;/code> 或 &lt;code>output&lt;/code>。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wire.png"
width="811"
height="328"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wire_hu4c32b026fa50d05578c06bf9fbe951ac_37278_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wire_hu4c32b026fa50d05578c06bf9fbe951ac_37278_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Wire"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="593px"
>&lt;/p>
&lt;h3 id="问题3">问题3&lt;/h3>
&lt;ul>
&lt;li>题目：Create a module with one input and one output that behaves like a wire.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="wire4">Wire4&lt;/h2>
&lt;p>&lt;code>assign&lt;/code> 语句是并行的，其出现顺序无关紧要。&lt;/p>
&lt;p>除非特别声明，&lt;code>input&lt;/code> 和 &lt;code>output&lt;/code> 默认都是 &lt;code>wire&lt;/code>. 即 &lt;code>input wire a&lt;/code> 与 &lt;code>input a&lt;/code> 一样。&lt;/p>
&lt;h3 id="问题4">问题4&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：Create a module with 3 inputs and 4 outputs that behaves like wires that makes these connections:&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wire4.png"
width="815"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wire4_hue97cdb91ec1e04896881a38f95bd5a71_25080_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wire4_hue97cdb91ec1e04896881a38f95bd5a71_25080_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Wire4"
class="gallery-image"
data-flex-grow="290"
data-flex-basis="696px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">z&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%984-testbench.png"
width="414"
height="479"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%984-testbench_hu3b3b19ce1acb383d51dac895182563ff_15391_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%984-testbench_hu3b3b19ce1acb383d51dac895182563ff_15391_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题4-testbench"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="207px"
>&lt;/p>
&lt;h2 id="not-gate">NOT gate&lt;/h2>
&lt;h3 id="问题5">问题5&lt;/h3>
&lt;ul>
&lt;li>题目：Use an assign statement. The assign statement will continuously drive the inverse of in onto wire out.&lt;/li>
&lt;li>提示：Verilog has separate bitwise-NOT (&lt;code>~&lt;/code>) and logical-NOT (&lt;code>!&lt;/code>) operators, like C. Since we&amp;rsquo;re working with a one-bit here, it doesn&amp;rsquo;t matter which we choose.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Notgate.png"
width="575"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Notgate_hueb6fa0e751b551428d99c81e33d25592_21773_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Notgate_hueb6fa0e751b551428d99c81e33d25592_21773_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="NOT gate"
class="gallery-image"
data-flex-grow="204"
data-flex-basis="491px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="k">input&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// assign out = !in;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%985-testbench.png"
width="869"
height="236"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%985-testbench_huf8e16fc1ee367b8e36aa6e590d60e087_10882_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%985-testbench_huf8e16fc1ee367b8e36aa6e590d60e087_10882_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题5-testbench"
class="gallery-image"
data-flex-grow="368"
data-flex-basis="883px"
>&lt;/p>
&lt;h2 id="and-gate">AND gate&lt;/h2>
&lt;h3 id="问题6">问题6&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：Write an assign statement that drives out with the AND of signals a and b.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Andgate.png"
width="586"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Andgate_hu318caa3d965c1bd9cdc8e17600bb8228_20614_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Andgate_hu318caa3d965c1bd9cdc8e17600bb8228_20614_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="AND gate"
class="gallery-image"
data-flex-grow="208"
data-flex-basis="500px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>提示：Verilog has separate bitwise-AND (&lt;code>&amp;amp;&lt;/code>) and logical-AND (&lt;code>&amp;amp;&amp;amp;&lt;/code>) operators, like C. Since we&amp;rsquo;re working with a one-bit here, it doesn&amp;rsquo;t matter which we choose.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%986-testbench.png"
width="469"
height="267"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%986-testbench_hu556f86d58b65cbd3b2770b9c580d88ff_8756_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%986-testbench_hu556f86d58b65cbd3b2770b9c580d88ff_8756_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题6-testbench"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="421px"
>&lt;/p>
&lt;h2 id="nor-gate">NOR gate&lt;/h2>
&lt;h3 id="问题7">问题7&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：Create a module that implements a NOR gate. A NOR gate is an OR gate with its output inverted.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Norgate.png"
width="586"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Norgate_hu575a5c31f0f18588d251982ecdf9db05_21326_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Norgate_hu575a5c31f0f18588d251982ecdf9db05_21326_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="NOR gate"
class="gallery-image"
data-flex-grow="208"
data-flex-basis="500px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>提示：Verilog has separate bitwise-OR (&lt;code>|&lt;/code>) and logical-OR (&lt;code>||&lt;/code>) operators, like C. Since we&amp;rsquo;re working with a one-bit here, it doesn&amp;rsquo;t matter which we choose.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%987-testbench.png"
width="469"
height="270"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%987-testbench_hu5be04fba08bfee4cd9d9aad13a93a74c_8874_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%987-testbench_hu5be04fba08bfee4cd9d9aad13a93a74c_8874_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题7-testbench"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="416px"
>&lt;/p>
&lt;h2 id="xnor-gate">XNOR gate&lt;/h2>
&lt;h3 id="问题8">问题8&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：Create a module that implements an XNOR gate.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Xnorgate.png"
width="586"
height="281"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Xnorgate_hu6cba3df2ebf719485383e14b8d447b6d_21670_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Xnorgate_hu6cba3df2ebf719485383e14b8d447b6d_21670_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="XNOR gate"
class="gallery-image"
data-flex-grow="208"
data-flex-basis="500px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>提示：The bitwise-XOR operator is &lt;code>^&lt;/code>. &lt;strong>There is no logical-XOR operator&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">^&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%988-testbench.png"
width="473"
height="269"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%988-testbench_hu6d206e03d80a0d13149f15eb1489786a_8791_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%988-testbench_hu6d206e03d80a0d13149f15eb1489786a_8791_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题8-testbench"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="422px"
>&lt;/p>
&lt;h2 id="declaring-wires">Declaring wires&lt;/h2>
&lt;p>下面示范了如何在模块内部定义wire：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wiredecl1.png"
width="619"
height="243"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wiredecl1_hufc1045f8769b33dbf1f3cdfbf640ebd1_25248_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wiredecl1_hufc1045f8769b33dbf1f3cdfbf640ebd1_25248_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="示例"
class="gallery-image"
data-flex-grow="254"
data-flex-basis="611px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">in&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// Declare an input wire named &amp;#34;in&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="c1">// Declare an output wire named &amp;#34;out&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="n">not_in&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Declare a wire named &amp;#34;not_in&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">not_in&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Assign a value to out (create a NOT gate).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">assign&lt;/span> &lt;span class="n">not_in&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Assign a value to not_in (create another NOT gate).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span> &lt;span class="c1">// End of module &amp;#34;top_module&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题9">问题9&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>题目：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wiredecl2.png"
width="620"
height="264"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wiredecl2_hu6e31227ae33dd4d00c6a6fd102fa5e21_22671_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/Wiredecl2_hu6e31227ae33dd4d00c6a6fd102fa5e21_22671_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Wire Declaration"
class="gallery-image"
data-flex-grow="234"
data-flex-basis="563px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="no">`default_nettype&lt;/span> &lt;span class="n">none&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">out_n&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">wire&lt;/span> &lt;span class="n">xor_in1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">xor_in2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">xor_in1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">xor_in2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">xor_in1&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">xor_in2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">out_n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%989-testbench.png"
width="493"
height="385"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%989-testbench_hu779457d1cdfdd55d803161c04684733b_13233_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%989-testbench_hu779457d1cdfdd55d803161c04684733b_13233_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题9-testbench"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="307px"
>&lt;/p>
&lt;h2 id="问题10">问题10&lt;/h2>
&lt;ul>
&lt;li>题目：Create a module with the same functionality as the 7458 chip.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/7458.png"
width="723"
height="428"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/7458_hu1d341b1ef842cc964fed9a3573c2013b_37708_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/7458_hu1d341b1ef842cc964fed9a3573c2013b_37708_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="7458"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="405px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">p1a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p1b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p1c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p1d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p1e&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p1f&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">p1y&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">input&lt;/span> &lt;span class="n">p2a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">p2y&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">p1y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p1a&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p1b&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p1c&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1f&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p1e&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p1d&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assign&lt;/span> &lt;span class="n">p2y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p2a&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p2b&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p2d&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%9810-testbench.png"
width="874"
height="574"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%9810-testbench_hu03de4923d120e005f31a3e5059f193a6_26342_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/verilog-language/basics/images/%E9%97%AE%E9%A2%9810-testbench_hu03de4923d120e005f31a3e5059f193a6_26342_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题10-testbench"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="365px"
>&lt;/p></description></item><item><title>开始</title><link>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/getting-started/</link><pubDate>Thu, 17 Nov 2022 14:49:00 +0800</pubDate><guid>https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/getting-started/</guid><description>&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;p>刷题流程：&lt;/p>
&lt;ol>
&lt;li>Learn&lt;/li>
&lt;li>Write Code&lt;/li>
&lt;li>Compile with Altera Quartus&lt;/li>
&lt;li>Simulate&lt;/li>
&lt;li>Compare
&lt;ul>
&lt;li>Compile Error — Circuit did not compile.&lt;/li>
&lt;li>Simulation Error — Circuit compiled successfully, but simulation did not complete.&lt;/li>
&lt;li>Incorrect — Circuit compiled and simulated, but the outputs did not match the reference.&lt;/li>
&lt;li>Success! — Circuit was correct&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="问题1">问题1&lt;/h3>
&lt;ul>
&lt;li>题目：Build a circuit with no inputs and one output. That output should always drive 1 (or logic high).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">one&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Insert your code here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">assign&lt;/span> &lt;span class="n">one&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/getting-started/images/%E9%97%AE%E9%A2%981-testbench.png"
width="505"
height="197"
srcset="https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/getting-started/images/%E9%97%AE%E9%A2%981-testbench_hueaa303b1d893647b1477289e010ef191_5348_480x0_resize_box_3.png 480w, https://todd.scuteee.com/digitalic/hdlbits%E5%88%B7%E9%A2%98/getting-started/images/%E9%97%AE%E9%A2%981-testbench_hueaa303b1d893647b1477289e010ef191_5348_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="问题1-testbench"
class="gallery-image"
data-flex-grow="256"
data-flex-basis="615px"
>&lt;/p>
&lt;p>编译中出现了如下警告：这主要是由于输出恒为1&lt;/p>
&lt;blockquote>
&lt;p>Warning (13024): Output pins are stuck at VCC or GND&lt;/p>
&lt;p>This warning says that an output pin never changes (is &amp;ldquo;stuck&amp;rdquo;). This can sometimes indicate a bug if the output pin shouldn&amp;rsquo;t be a constant. If this pin is not supposed to be constant, check for bugs that cause the value being assigned to never change (e.g., assign a = x &amp;amp; ~x;)&lt;/p>
&lt;/blockquote>
&lt;h2 id="zero">Zero&lt;/h2>
&lt;p>HDLBits 中使用的是 Verilog-2001，这比 Verilog-1995 更简洁易读。比如对比下面两个模块定义：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="n">zero&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">output&lt;/span> &lt;span class="n">zero&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Verilog-1995
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">top_module&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="k">output&lt;/span> &lt;span class="n">zero&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Verilog-2001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="问题2">问题2&lt;/h3>
&lt;ul>
&lt;li>题目：Build a circuit with no inputs and one output that outputs a constant 0（与问题1相同，但输出改为恒0）&lt;/li>
&lt;/ul>
&lt;p>（略）&lt;/p></description></item><item><title>用有源负载的差分对</title><link>https://todd.scuteee.com/analogic/amplifier/differential-pair/with-active-loading/</link><pubDate>Wed, 16 Nov 2022 12:18:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/differential-pair/with-active-loading/</guid><description/></item><item><title>差动对基础</title><link>https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/</link><pubDate>Wed, 16 Nov 2022 10:01:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/</guid><description>&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/images/differential-pair.png"
width="448"
height="478"
srcset="https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/images/differential-pair_hue4c4fb6bca6d350b2ff89182122ad142_7059_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/images/differential-pair_hue4c4fb6bca6d350b2ff89182122ad142_7059_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="差分对"
class="gallery-image"
data-flex-grow="93"
data-flex-basis="224px"
>&lt;/p>
&lt;p>概述：&lt;/p>
&lt;ol>
&lt;li>电路里一般一有机会就做成差动对，准没错&lt;/li>
&lt;li>可以消除共模的信号（共模噪声）&lt;/li>
&lt;li>波形类似于 tanh(arctan)；$I_{\rm out,max} = I_{SS}$，此时 $V_{in}=\sqrt{\dfrac{2I_{SS}}{\mu C_{ox}W/L}}+V_{\rm th}$&lt;/li>
&lt;/ol>
&lt;p>分析方法：&lt;/p>
&lt;ol>
&lt;li>fully-symmetric（电路对称、信号对称） =&amp;gt; half-circuit（只考虑一半的电路）
&lt;ul>
&lt;li>gain、BW、pole、zero不变&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="high-freq-response">High-Freq response&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/images/differential-pair-small-signal.png"
width="977"
height="508"
srcset="https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/images/differential-pair-small-signal_hu0dedbc47fe208b98e0a467cafb09ef23_16737_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/differential-pair/basic/images/differential-pair-small-signal_hu0dedbc47fe208b98e0a467cafb09ef23_16737_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="差分对小信号电路"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="461px"
>&lt;/p>
&lt;p>差模放大倍数（只考虑 $C_D$ 引起的极点 $\omega_{p1}=\frac{1}{R_D C_D}$）：&lt;/p>
&lt;p>$$
A_{\rm DM} = \frac{g_m R_D}{1+s/\omega_p}
$$&lt;/p>
&lt;p>为了方便，定义 $Z \triangleq R_{SS}| sC_{SS}$，从而共模放大倍数：&lt;/p>
&lt;p>$$
\begin{aligned}
A_{\rm CM-DM} &amp;amp;= \frac{1}{1/g_m \cdot 1/2 + Z} \cdot \frac{1}{2} \cdot \Delta R_D\
&amp;amp;= \frac{\Delta R_D}{2R_{SS}}(1+1/\omega_{p2})
\end{aligned}
$$&lt;/p>
&lt;p>$$
\omega_{p2} = \frac{1}{R_{SS}C_{SS}}
$$&lt;/p>
&lt;p>则共模抑制比（Common-Mode Rejection Ratio）：&lt;/p>
&lt;p>$$
{\rm CMRR} \triangleq \l| \frac{A_{\rm DM}}{A_{\rm CM_DM}} \r| \
= \frac{g_m R_D}{(1+s/\omega_{p1})\frac{\Delta R_D}{2R_{SS}}(1+1/\omega_{p2})}
$$&lt;/p>
&lt;p>$R_{SS}, C_{SS}$ 都比 $R_D, C_D$ 大，所以 $\omega_{p2}&amp;lt;\omega_{p1}$，因此 CMRR 的超过 $\omega_{p2}$ 后就开始往下掉。&lt;/p></description></item><item><title>Chapter 7 solution</title><link>https://todd.scuteee.com/analog/ta/chapter07/solution/</link><pubDate>Mon, 14 Nov 2022 12:05:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter07/solution/</guid><description>&lt;h2 id="724">7.24&lt;/h2>
&lt;p>(a) $g_m=40.92{\rm mA/V}$, $r_\pi=2.44{\rm k\Omega}$&lt;/p>
&lt;p>(b) $\tau_1=1.053{\rm ms}$, $\tau_2=49{\rm ms}$&lt;/p>
&lt;p>(c) $f_1=f_{\rm 3dB}=151{\rm Hz}$, $f_2=3.24{\rm Hz}$&lt;/p>
&lt;h2 id="d730">D7.30&lt;/h2>
&lt;p>$C_{C2}=504{\rm \mu F}$, $C_{C1}=760{\rm \mu F}$&lt;/p>
&lt;h2 id="740">7.40&lt;/h2>
&lt;p>(a) 电容的不同&lt;/p>
&lt;p>(b) 带通&lt;/p>
&lt;p>(c) $|A_m | = 43.7{\rm dB}$&lt;/p>
&lt;p>$\tau_L=3.29\times 10^2{\rm s}$, $f_L=4.83{\rm Hz}$&lt;/p>
&lt;p>$\tau_H=5.05\times 10^{-8}{\rm s}$, $f_H=3.15{\rm MHz}$&lt;/p>
&lt;h2 id="748">7.48&lt;/h2>
&lt;p>(a) $A_v(s)= \dfrac{g_m R_L r_\pi}{r_\pi + r_b + sr_b r_\pi C_1}$&lt;/p>
&lt;p>(b) $A_{v1}=-148.1$, $A_{v2}=-129$&lt;/p>
&lt;p>(c) $\tau_1=2.11\times 10^{-10}{\rm s}$, $f_{3-db}=751{\rm MHz}$&lt;/p>
&lt;p>$\tau_2=9.23\times 10^{-10}{\rm s}$, $f_{3-db}=173{\rm MHz}$&lt;/p>
&lt;h2 id="752">7.52&lt;/h2>
&lt;p>$f_L=540{\rm Hz}$, $f_H=344{\rm kHz}$&lt;/p>
&lt;h2 id="765">7.65&lt;/h2>
&lt;p>$r_\pi=9.94{\rm k\Omega}$, $r_o=318{\rm k\Omega}$&lt;/p>
&lt;p>(a) $C_\pi = 2.20{\rm pF}$, $C_M=27.6{\rm pF}$&lt;/p>
&lt;p>(b) $f_H=3.61{\rm MHz}$, $A_v=-19.7$&lt;/p></description></item><item><title>Degeneration</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/</link><pubDate>Sat, 12 Nov 2022 11:14:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/</guid><description>&lt;h2 id="优点">优点&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>Single-ended self-biasing 可以用作自偏置&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Linearity 线性度增加：图中展示了加入 Degeneration 后，差分放大器的线性区间会变大（变大 $I_{EE}R_E$ 或 $I_{SS}R_{S}$），相应的线性度也会增加。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-advantage-linearity.png"
width="1065"
height="523"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-advantage-linearity_hu2b7e059264e202d404f86a4e5dc36233_346995_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-advantage-linearity_hu2b7e059264e202d404f86a4e5dc36233_346995_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="degeneration 的优点（线性度）"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="488px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Equalization 均衡化（CTLE）：信号经过传输线后，高频会下降，配合上 degeneration amp（引入一个较低的零点），可以使低频/高频均衡。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-advantage-equalization.png"
width="428"
height="349"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-advantage-equalization_hu8ae0ff5a09f822e7a667ab7400e8ddec_117488_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-advantage-equalization_hu8ae0ff5a09f822e7a667ab7400e8ddec_117488_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="degeneration 的优点（均衡化）"
class="gallery-image"
data-flex-grow="122"
data-flex-basis="294px"
>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>degeneration 的本质是一个负反馈（Local Feedback），输出电流流过 $R_S$ 会使得输入 $V_{GS}$ 减小（输入电压，输出电流）。图中右上部分的电路是输入电流输出电压的负反馈。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-local-feedback.png"
width="539"
height="417"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-local-feedback_hua943d50e9695782fe87b8dfa0ed079f8_137782_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-local-feedback_hua943d50e9695782fe87b8dfa0ed079f8_137782_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="degeneration 负反馈"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="310px"
>&lt;/p>
&lt;h2 id="示例电路">示例电路&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-example.jpg"
width="1668"
height="633"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-example_hu9dbda68653d908f498c8d5ce9e9d3dbc_588402_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/degeneration/images/degeneration-example_hu9dbda68653d908f498c8d5ce9e9d3dbc_588402_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="示例电路（音频功率放大器）"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="632px"
>&lt;/p></description></item><item><title>单极共漏放大器</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/</link><pubDate>Fri, 11 Nov 2022 18:51:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/</guid><description>&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-small-signal-with-cap.png"
width="531"
height="428"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-small-signal-with-cap_hu56352a23d9431a0cfa479c5b0adfd3bf_9543_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-small-signal-with-cap_hu56352a23d9431a0cfa479c5b0adfd3bf_9543_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="单极共漏（共射）电路小信号电路"
class="gallery-image"
data-flex-grow="124"
data-flex-basis="297px"
>&lt;/p>
&lt;p>易知，$V_{\rm out}$ 的输出是 $1/g_m$ 和 $R_E$ 的分压，所以有：&lt;/p>
&lt;p>$$
A_v = \frac{R_E}{1/g_m+R_E}
$$&lt;/p>
&lt;p>对于 $C_{GS}$，其等效电阻为：&lt;/p>
&lt;p>$$
\begin{cases}
\dfrac{V_D+V_t}{R_{\rm sig}} = I_t\
\dfrac{V_t}{1/g_m} = I_t + \dfrac{V_D}{R_E}
\end{cases}\
\Rightarrow \omega_{p1} = \frac{1}{C_{GS}\l( \frac{R_{\rm sig}+R_E}{1+g_m R_E}\r)}
$$&lt;/p>
&lt;p>对于零点，要使输出为 0，则流过 $R_E$ 的电流为 0，因此有：&lt;/p>
&lt;p>$$
V_G \cdot sC_{GS} + V_G g_m = 0\
\Rightarrow s_{z1} = -g_m / C_{GS}\
\Rightarrow \omega_{z1} = g_m/C_{GS}
$$&lt;/p>
&lt;p>零点和极点都不算太高/太低。&lt;/p>
&lt;p>对于 $C_{GD}$，易知，极点为 $\omega_{p2} = \frac{1}{C_{GD} R_{\rm sig}}$，零点为 $\omega_{z2}=\infty$&lt;/p>
&lt;p>总的带宽为（OCTC法）：&lt;/p>
&lt;p>$$
{\rm BW} = \frac{1}{C_{GS}\l( \frac{R_{\rm sig}+R_E}{1+g_m R_E}\r)+C_{GD} R_{\rm sig}}
$$&lt;/p>
&lt;p>这两个极点靠得比较近，虽然这个电路本身的增益是 0dB（也就是一定会稳定），但在两个极点处会迅速到180，也就是其 Phrase Margin 很小。&lt;/p>
&lt;p>另外，该电路的输出电阻随频率的变化而变大，就像一个电感（见下面推导），就会导致输入方波时，边缘会有震荡（Ringing）。这也是 Phrase Margin 很小导致的。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-output-resistor.png"
width="1209"
height="444"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-output-resistor_hud9a9f8e5966c5bb21a75fb039e0be8c0_337005_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-drain/images/common-drain-output-resistor_hud9a9f8e5966c5bb21a75fb039e0be8c0_337005_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="共漏电路输出电阻"
class="gallery-image"
data-flex-grow="272"
data-flex-basis="653px"
>&lt;/p>
&lt;h2 id="该电路的问题">该电路的问题&lt;/h2>
&lt;p>对于 Bipolar，由于 $V_{BE}$ 可以维持在 0.7，所以其输出可以跟随输入。因此可以用作 Buffer&lt;/p>
&lt;p>但对于 CMOS，由于 $I_D$ 不是恒定的（就算用电流源来代替 $R_E$，也会有 Body Effect），会导致 $V_{GS}$ 变化，因此输出的跟随不是很好。如果实在要用，则可以连接 BS，利用体效应来抑制 $V_{GS}$ 的变化，但尽管如此，Ringing 也使得它不适合作为 Ringing.&lt;/p></description></item><item><title>CS-CG 共源-共栅 Cascode</title><link>https://todd.scuteee.com/analogic/amplifier/cascode/cs-cg/</link><pubDate>Fri, 11 Nov 2022 17:36:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/cascode/cs-cg/</guid><description>&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/cascode/cs-cg/images/CS-CG-cascode.png"
width="389"
height="338"
srcset="https://todd.scuteee.com/analogic/amplifier/cascode/cs-cg/images/CS-CG-cascode_huc51ec6962f8352378ba81a6237739239_9178_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/cascode/cs-cg/images/CS-CG-cascode_huc51ec6962f8352378ba81a6237739239_9178_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="共源-共栅电路"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="276px"
>&lt;/p>
&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;p>主要看主极点，其余的忽略。我们一个一个电容（结点）分析：&lt;/p>
&lt;ul>
&lt;li>在 M2 漏端，$C_{GS2}$ 比较小，电阻也比较小，所以不是主极点&lt;/li>
&lt;li>在 M2 源端，电阻 $1/g_m$ 比较小，所以也不是主极点&lt;/li>
&lt;li>在 M1 栅端，$C_{GS1}$ 经过 Miller Effect 比较大，并且电阻也比较大，所以是主极点。&lt;/li>
&lt;/ul>
&lt;p>$C_{GS1}$ 经过 Miller Effect 后，等效为 M1 栅端的 $2C_{GS1}$（$A_{v1}=-g_{m1} \cdot \frac{1}{g_{m2}} \approx -1$），从而主极点为：&lt;/p>
&lt;p>$$
\omega_{p1} = \frac{1}{R_{\rm sig}(C_{GS1}+2C_{GD1})}
$$&lt;/p></description></item><item><title>单极共栅放大器</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/</link><pubDate>Fri, 11 Nov 2022 16:50:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/</guid><description>&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/common-gate-small-signal.png"
width="538"
height="404"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/common-gate-small-signal_hu461030bca0a601e6024941ec4616be51_10077_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/common-gate-small-signal_hu461030bca0a601e6024941ec4616be51_10077_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="共栅放大器的小信号模型（T-model）"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="319px"
>&lt;/p>
&lt;p>对于 $C_{GS}$，其等效电阻为：$R_{\rm sig}|1/g_m$（$r_o$很大，可以看作断路，详细分析如下）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/CGS-equivalent-resistor.png"
width="459"
height="439"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/CGS-equivalent-resistor_hu1d4dd709614ff1acc9f547e95fbf530e_8414_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-gate/images/CGS-equivalent-resistor_hu1d4dd709614ff1acc9f547e95fbf530e_8414_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CGS 右边的等效电阻计算（注意G与地之间无电流）"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/p>
&lt;p>$$
\frac{V_t}{1/g_m} + \frac{V_t - V_X}{r_o} = \frac{V_X}{R_D} = I_t\
\Rightarrow R_{\rm eq} = \frac{V_t}{I_t} = \frac{R_D+r_o}{1+g_m r_o} \approx \frac{1}{g_m}
$$&lt;/p>
&lt;p>所以&lt;/p>
&lt;p>$$
\omega_{p1} = \frac{1}{C_{GS} (R_{\rm sig}|1/g_m)} \approx \frac{1}{(1/g_m) \cdot C_{GS}}
$$&lt;/p>
&lt;p>对于 $C_{GD}$，过程和上面类似，等效电阻为 $R_D | (r_o + R_{\rm sig}+g_m r_o R_{\rm sig}) \approx R_D$，所以&lt;/p>
&lt;p>$$
\omega_{p2} \approx \frac{1}{C_{GD}\cdot R_D}
$$&lt;/p>
&lt;p>这两个极点都挺大的，所以这个电路可以操作在高频。得益于其输入电阻小，一般用作高频输入端。&lt;/p>
&lt;hr>
&lt;p>零点：&lt;/p>
&lt;ul>
&lt;li>$1/(sC_{GS}) = 0$，$\omega_{z1}=\infty$&lt;/li>
&lt;li>$1/(sC_{GD}) = 0$，$\omega_{z2}=\infty$&lt;/li>
&lt;/ul>
&lt;p>所以总的传输方程为：&lt;/p>
&lt;p>$$
H(s) = \frac{A_v}{(1+s/\omega_{p1})(1+s/\omega_{p2})}
$$&lt;/p></description></item><item><title>单极共射放大器</title><link>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/</link><pubDate>Fri, 11 Nov 2022 13:57:00 +0800</pubDate><guid>https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/</guid><description>&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-amplifier.svg"
loading="lazy"
alt="单极共射放大器电路"
>&lt;/p>
&lt;p>图中，$C_{C1}$、$C_{C2}$ 为耦合电容，容值较大（$10^{-9}\sim 10^{-6}$），寄生电容一般只有 $10^{-15}$。&lt;/p>
&lt;h2 id="频率响应">频率响应&lt;/h2>
&lt;h3 id="分析原则">分析原则&lt;/h3>
&lt;ul>
&lt;li>一个电容对应一个极点+一个零点&lt;/li>
&lt;li>零点可能会在0或无穷&lt;/li>
&lt;li>分析一个电容的时候，忽略其他电容（耦合电容看作短路，寄生电容看作开路）&lt;/li>
&lt;li>找零点的方法：使输出始终为 0 的频率（无论输入是什么）&lt;/li>
&lt;/ul>
&lt;h3 id="不考虑寄生电容">不考虑寄生电容&lt;/h3>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal.png"
width="694"
height="354"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal_hu4322505d939f2cd999f9309e27d9d48f_13072_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal_hu4322505d939f2cd999f9309e27d9d48f_13072_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="单极共射放大电路小信号模型（T-model）"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="470px"
>&lt;/p>
&lt;ul>
&lt;li>$C_{C1}$，由于 $i_{G}=0$，只需要考虑 $R_{\rm sig},R_{G}$
&lt;ul>
&lt;li>$\omega_{p1}=\dfrac{1}{C_{C1}(R_{\rm sig}+R_{G})}$&lt;/li>
&lt;li>$\omega_{z1}=0$（此时 $\frac{1}{sC_{C1}} \rightarrow \infty$，$v_G=0$，输出为0）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>$C_{S}$，由于 $v_G = 0$，受控电流源为0，因此只需要考虑 $1/g_m, R_S$
&lt;ul>
&lt;li>$\omega_{p2}=\dfrac{1}{C_S(R_S|\frac{1}{g_m})}$&lt;/li>
&lt;li>$\omega_{z2}=\dfrac{1}{R_S C_S}$（此时 $R_S|\frac{1}{sC}\rightarrow \infty$，$i_D=0$，输出为0）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>$C_{C2}$，只需要考虑 $R_D,R_L$
&lt;ul>
&lt;li>$\omega_{p3}=\dfrac{1}{C_{C2}(R_D+R_L)}$&lt;/li>
&lt;li>$\omega_{z3}=0$（此时 $\frac{1}{sC_{C2}} \rightarrow \infty$，输出为0）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>总的频率响应：&lt;/p>
&lt;ul>
&lt;li>一般来说，为了减小电流，$R_G$ 比较大，所以 $\omega_{p1}$ 最小&lt;/li>
&lt;li>考虑到 $1/g_m \approx 50$, $R_S\approx 10^3$，从而 $\omega_{p2}\approx \dfrac{1}{C_S\frac{1}{g_m}}$ 最大，且 $\omega_{p2}&amp;gt;\omega_{z2}$&lt;/li>
&lt;li>$\omega_{p2}$ 在 $\omega_{p1},\omega_{p3}$ 之间&lt;/li>
&lt;li>$\omega_{z2}$ 不确定，可能在 $\omega_{p1},\omega_{p3}$ 周围&lt;/li>
&lt;/ul>
&lt;p>总之就是：$\omega_{p1}&amp;lt;\omega_{p3}&amp;lt;\omega_{p2}$ 且 $\omega_{z2}&amp;lt;\omega_{p2}$&lt;/p>
&lt;h3 id="考虑寄生电容">考虑寄生电容&lt;/h3>
&lt;p>为了简化分析，把耦合电容、旁路电容忽略，从而小信号电路为：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal-with-cap.png"
width="574"
height="238"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal-with-cap_huc36168f5cbe9d34caec171f6450b11b3_8168_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/common-source-small-signal-with-cap_huc36168f5cbe9d34caec171f6450b11b3_8168_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="单极共射放大电路小信号模型（π-model），考虑寄生电容"
class="gallery-image"
data-flex-grow="241"
data-flex-basis="578px"
>&lt;/p>
&lt;p>由于 $r_o \gg R_D$，所以 $R_D | r_o \approx R_D$&lt;/p>
&lt;p>&lt;strong>主极点法&lt;/strong>。饱和状态时，$C_{GS}&amp;gt;C_{GD}$，因此 Dominant Pole 应该在栅极。利用 Millar Effect 将 $C_{GD}$ 等效为 $[1+g_m(R_D| r_o)]C_{GD}$，从而有：&lt;/p>
&lt;p>$$
\omega_{p1} = \frac{1}{R_{\rm sig}[C_{GS}+C_{GD}(1+g_m R_D)]}
$$&lt;/p>
&lt;p>这个频率就是3dB带宽。这种方法比较精确，但不好算（需要确定主极点）。另一种方法叫 &lt;strong>OCTC&lt;/strong>（Open-Circuit Time Constant），就是把所有电容对应的时间常数相加取倒数，得到 BW：&lt;/p>
&lt;p>$$
{\rm BW} = \frac{1}{\sum_i C_i R_{io}}
$$&lt;/p>
&lt;p>$R_{io}$ 是开路电阻，也就是把其他电容忽略（开路）。利用这种方法，我们可以计算出共模BW为：&lt;/p>
&lt;p>$$
{\rm BW} = \frac{1}{\omega_{p1}+\omega_{p2}}
$$&lt;/p>
&lt;ul>
&lt;li>$\omega_{p1}=C_{GS}R_{\rm sig}$&lt;/li>
&lt;li>$\omega_{p2}=C_{GD}[R_{\rm sig}+({\color{red}1}+g_m R_{sig})R_D]$&lt;/li>
&lt;/ul>
&lt;p>其中，$C_{GD}$ 的往外看到的等效阻抗可以用下面这个电路计算（把 $C_{GD}$ 替换为一个电压源，$R_{\rm eq}=\frac{V_t}{I_t}$）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/CGD-equivalent-resistor.png"
width="574"
height="249"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/CGD-equivalent-resistor_hud01e952fe072fe1a379ad7c48f87dd12_8250_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/CGD-equivalent-resistor_hud01e952fe072fe1a379ad7c48f87dd12_8250_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CGD-equivalent-resistor"
class="gallery-image"
data-flex-grow="230"
data-flex-basis="553px"
>&lt;/p>
&lt;p>$$
\begin{cases}
V_{GS}=-I_t \cdot R_{\rm sig}\
I_t = g_m V_{GS} + \frac{V_{GS}+V_t}{R_D}
\end{cases}\
\Rightarrow R_{\rm eq}=R_{\rm sig}+(1+g_mR_{\rm sig})R_D
$$&lt;/p>
&lt;p>&lt;strong>OCTC&lt;/strong> 的结果不如 &lt;strong>主极点法&lt;/strong> 精准，但也只是分母多了个 1，所以可以用来进行大致的分析。&lt;/p>
&lt;hr>
&lt;p>对于零点，分析过程和上一节相似，所以有：&lt;/p>
&lt;ul>
&lt;li>$C_{GS}$：$\omega_{z1}=\infty$&lt;/li>
&lt;li>$C_{GD}$：$\omega_{z2}=-g_m/C_{GD}$&lt;/li>
&lt;/ul>
&lt;p>$C_{GD}$ 零点的分析如下：要使输出为0，则流过 $C_{GD}$ 的电流与 $g_m V_{GS}$ 相同，从而流过 $R_D$ 的电流为 0. 所以有：&lt;/p>
&lt;p>$$
g_m V_{DS} = i = \frac{V_{GS}}{1/(sC_{GD})}\
\Rightarrow s = g_m/C_{GD}
$$&lt;/p>
&lt;p>注意到 $\omega_{z2}$ 是一个右半平面零点，这有可能引起稳定性问题：&lt;/p>
&lt;ul>
&lt;li>左边平面零点会将相位 +90°，右半平面零点则会 -90°&lt;/li>
&lt;li>右半平面会使得信号在 0dB 前到达 -180°&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/%E5%8F%B3%E5%8D%8A%E5%B9%B3%E9%9D%A2%E9%9B%B6%E7%82%B9%E5%BC%95%E8%B5%B7%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98.png"
width="316"
height="355"
srcset="https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/%E5%8F%B3%E5%8D%8A%E5%B9%B3%E9%9D%A2%E9%9B%B6%E7%82%B9%E5%BC%95%E8%B5%B7%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98_hubff0cbc202adfa85dffc5adbae42f1df_80328_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/amplifier/singe-stage/common-source/images/%E5%8F%B3%E5%8D%8A%E5%B9%B3%E9%9D%A2%E9%9B%B6%E7%82%B9%E5%BC%95%E8%B5%B7%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E9%97%AE%E9%A2%98_hubff0cbc202adfa85dffc5adbae42f1df_80328_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="零点引起的稳定性问题（上：左边平面；下：右半平面）"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="213px"
>&lt;/p>
&lt;p>但在共模电路中，$\omega_{p1},\omega_{p2}$ （OCTC中求得）都比 $\omega_{z1}$ 要小得多（$C_{GS}&amp;gt;C_{GD}$, $R_{\rm sig}&amp;gt;1/g_m$），所以幅度会以 40dB/10倍频迅速下降到 0（在到达 $\omega_{z1}$ 前）&lt;/p></description></item><item><title>Chapter 4 solution</title><link>https://todd.scuteee.com/analog/ta/chapter04/solution/</link><pubDate>Mon, 07 Nov 2022 16:44:00 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter04/solution/</guid><description>&lt;h2 id="410">4.10&lt;/h2>
&lt;p>(a) $W/L=34.7$, $R_D=4{\rm k\Omega}$&lt;/p>
&lt;p>(b) $g_m=1.666{\rm mA/V}$&lt;/p>
&lt;p>$r_o=133.3{\rm k\Omega}$&lt;/p>
&lt;p>(c) $A_v = -6.47$&lt;/p>
&lt;h2 id="425">4.25&lt;/h2>
&lt;p>(a) $R_S=7.76{\rm K}$, $R_D=10.2{\rm K}$&lt;/p>
&lt;p>(b) $g_m=0.8944{\rm mA/V}$, $A_v=-1.5$&lt;/p>
&lt;h2 id="433">4.33&lt;/h2>
&lt;p>(a) $V_{GSQ}=0.594{\rm V}$&lt;/p>
&lt;p>(b) $g_m=1.549{\rm mA/V}$, $r_o=333{\rm k\Omega}$, $A_v = 0.938$&lt;/p>
&lt;p>(c) $R_o=0.6456|9.708$ 或 $R_o=605{\rm \Omega}$&lt;/p>
&lt;h2 id="456">4.56&lt;/h2>
&lt;p>(a) $V_o=4.92{\rm V}$&lt;/p>
&lt;p>(b) $A_v=-4.08$&lt;/p>
&lt;h2 id="465">4.65&lt;/h2>
&lt;p>(a) $V_{GSDQ}=1.307{\rm V}$&lt;/p>
&lt;p>$V_{SGLQ}=2.014{\rm V}$&lt;/p>
&lt;p>$V_{DSDQ}=2.593{\rm V}$&lt;/p>
&lt;p>(b) $A_v=\sqrt{\dfrac{K_n}{K_p}}$&lt;/p>
&lt;p>(c) $A_v=2$&lt;/p>
&lt;h2 id="470">4.70&lt;/h2>
&lt;p>$K_{p1}=0.4{\rm mA/V^2}$, $K_{n2}=4.0{\rm mA/V^2}$&lt;/p>
&lt;p>(a) $R_{S1}=6{\rm k\Omega}$&lt;/p>
&lt;p>$R_{D1}=20{\rm k\Omega}$&lt;/p>
&lt;p>$R_{1}=343{\rm k\Omega}$&lt;/p>
&lt;p>$R_{2}=480{\rm k\Omega}$&lt;/p>
&lt;p>$R_{S2}=4.42{\rm k\Omega}$&lt;/p>
&lt;p>&lt;a class="link" href="https://imgse.com/i/xvYYwD" target="_blank" rel="noopener"
>&lt;img src="https://s1.ax1x.com/2022/11/07/xvYYwD.png"
loading="lazy"
alt="xvYYwD.png"
>&lt;/a>&lt;/p>
&lt;p>(b) $g_{m1}=0.4{\rm mA/V}$, $g_{m2}=2.191{\rm mA/V}$, $A_v=-2.13$&lt;/p>
&lt;p>(c) $R_o=414{\rm \Omega}$&lt;/p>
&lt;hr>
&lt;p>为了方便批改，把第七章的答案也贴一下：&lt;/p>
&lt;h2 id="71">7.1&lt;/h2>
&lt;p>(a) $T(s)=\dfrac{1}{1+sR_1C_1}$&lt;/p>
&lt;p>(b) $f_H=159{\rm Hz}$&lt;/p>
&lt;p>(c) $v_o(t)=1-e^{-t/R_1C_1}$&lt;/p>
&lt;h2 id="72">7.2&lt;/h2>
&lt;p>(a) $T(s)=\dfrac{sR_2C_2}{1+sR_2C_2}$&lt;/p>
&lt;p>(b) $f_L=1.59{\rm kHz}$&lt;/p>
&lt;p>(c) $v_o(t)=e^{-t/R_2C_2}$&lt;/p>
&lt;h2 id="711">7.11&lt;/h2>
&lt;p>(a) $| T_{\rm midband} |=159$&lt;/p>
&lt;p>(b) $\tau_s=5.31{\rm ms}$, Open-Circuit&lt;/p>
&lt;p>$\tau_p=0.332{\rm \mu s}$, Short-Circuit&lt;/p>
&lt;p>(c) $C_c=0.932{\rm \mu F}$&lt;/p>
&lt;p>$C_L=55.3{\rm pF}$&lt;/p></description></item><item><title>Chapter 3 solution</title><link>https://todd.scuteee.com/analog/ta/chapter03/solution/</link><pubDate>Sun, 30 Oct 2022 18:42:31 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter03/solution/</guid><description>&lt;h2 id="32">3.2&lt;/h2>
&lt;p>$K_n = 1.56 {\rm mA/V^2}$&lt;/p>
&lt;h2 id="310">3.10&lt;/h2>
&lt;p>(a) $W/L=27.8$, $W=22.2{\rm \mu m}$&lt;/p>
&lt;p>(b) $I_D=0.534{\rm mA}$&lt;/p>
&lt;p>(c) $V_{DS}(sat)=0.6{\rm V}$&lt;/p>
&lt;h2 id="319">3.19&lt;/h2>
&lt;p>$C_{\rm ox}=6.9 \times 10^{-8} {\rm F/cm^2}$&lt;/p>
&lt;p>$k_n&amp;rsquo;=46.6{\rm \mu A/V}$&lt;/p>
&lt;p>$k_p&amp;rsquo;=25.9{\rm \mu A/V}$&lt;/p>
&lt;p>$K_p=K_n=41.3{\rm \mu A/V^2}$&lt;/p>
&lt;p>$W_p=12.8{\rm \mu m}$&lt;/p>
&lt;p>$W_n=7.09{\rm \mu m}$&lt;/p>
&lt;h2 id="330">3.30&lt;/h2>
&lt;p>$V_G=1.4{\rm V}$&lt;/p>
&lt;p>$I_D=0.23332{\rm mA}$&lt;/p>
&lt;p>$V_{SG}=1.483{\rm V}$&lt;/p>
&lt;p>$V_{SD}=4.72{\rm V}$&lt;/p>
&lt;h2 id="344">3.44&lt;/h2>
&lt;p>(a) 都饱和：$v_I\geq 0.7{\rm V}$&lt;/p>
&lt;p>(bⅠ) M1饱和，M2不饱和，$v_o=4.85{\rm V}$&lt;/p>
&lt;p>(bⅡ) M1不饱和，M2饱和，$v_o=0.0417{\rm V}$&lt;/p>
&lt;h2 id="356">3.56&lt;/h2>
&lt;p>$W/L=23.3$&lt;/p>
&lt;p>$R_D=7.43{\rm k\Omega}$&lt;/p></description></item><item><title>网络设置</title><link>https://todd.scuteee.com/posts/2022/2022-10-26-network-setup/</link><pubDate>Wed, 26 Oct 2022 23:13:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-10-26-network-setup/</guid><description>&lt;h2 id="起因">起因&lt;/h2>
&lt;p>大三大四时一直都是用 R1 Plus 作为宿舍的网关，读研后打算升级一下，部署一些高级的服务上去。&lt;/p>
&lt;h2 id="解释">解释&lt;/h2>
&lt;p>（这节专门为Molly写）&lt;/p>
&lt;p>网络实际上可以看作一棵树。在一棵树干上，挂着若干的树枝，树枝上挂着叶子。而主网络上，也挂着若干子网络，子网络下是不同的终端。终端想要访问主网络，就必须顺着自己的树枝往中间爬，这个树枝起到“互连”的作用，称为网关。如果网关太弱，那么就会限制它的终端的网速。所以我们需要升级网关。另外，由于网关连接着“主网络”和“终端”，如果在上面部署功能，那么在“主网络”和“终端”里都可以访问到。&lt;/p>
&lt;p>对我来说，校园网就是主网络，而宿舍的WiFi就是网关，手机、电脑就是终端。我在WiFi上部署了服务后，手机连上WiFi（在宿舍）或连上校园网（在教室）后就可以使用。&lt;/p>
&lt;h2 id="升级">升级&lt;/h2>
&lt;p>我在咸鱼上买了个 R4S 替换了原来的 R1 Plus，相比之下，内存、处理器都有很大的提升，但要发挥全部性能，还需要好的系统。这几天试了github上好几个系统，感觉还是 &lt;a class="link" href="https://github.com/SuLingGG/OpenWrt-Rpi" target="_blank" rel="noopener"
>SuLingGG 的 openwrt&lt;/a> 好用，其他系统或多或少都有点毛病。&lt;/p>
&lt;h2 id="服务">服务&lt;/h2>
&lt;p>有以下服务：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://10.0.0.1:8443" target="_blank" rel="noopener"
>code-server&lt;/a>：在线代码编辑器&lt;/li>
&lt;li>&lt;a class="link" href="http://10.0.0.1:5230" target="_blank" rel="noopener"
>memos&lt;/a>：在线备忘录&lt;/li>
&lt;li>&lt;a class="link" href="http://10.0.0.1:5555" target="_blank" rel="noopener"
>kavita&lt;/a>：在线书库&lt;/li>
&lt;li>&lt;a class="link" href="http://10.0.0.1:8989" target="_blank" rel="noopener"
>filebrowser&lt;/a>：在线文件管理器&lt;/li>
&lt;/ul>
&lt;p>账号一般是我的邮箱：310378072@qq.com，密码我说过了。&lt;/p></description></item><item><title>GaN HEMT 可靠性问题</title><link>https://todd.scuteee.com/posts/2022/2022-10-22-reliability-issues-of-gan-hemt/</link><pubDate>Sat, 22 Oct 2022 21:35:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-10-22-reliability-issues-of-gan-hemt/</guid><description>&lt;h2 id="gan-hert-结构">GaN HERT 结构&lt;/h2>
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/462718637" target="_blank" rel="noopener"
>知乎：GaN HEMT结构及工作原理详解&lt;/a>&lt;/p>
&lt;h2 id="gan-hert-可靠性问题">GaN HERT 可靠性问题&lt;/h2>
&lt;h3 id="大纲">大纲&lt;/h3>
&lt;p>尽管GaN HEMT作为功率器件有很大的优势，但其依然存在一些会导致其静态、动态性能下降的可靠性问题，比如关态下的缓冲层电子捕获、半开态下的热电子捕获、栅绝缘层的电子捕获和时间依赖的介电击穿，这些失效机理可以大致分为两类：一类是由电场引起的，一类是由热电子引起的。我将会介绍这两类失效机理的产生原理、测试方法。&lt;/p>
&lt;h3 id="heading">&lt;/h3></description></item><item><title>CSS 滑动效果</title><link>https://todd.scuteee.com/posts/2022/2022-10-15-css-slide-effect/</link><pubDate>Sat, 15 Oct 2022 19:14:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-10-15-css-slide-effect/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">nav&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ol&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nav-list&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="err">{{&lt;/span> &lt;span class="na">if&lt;/span> &lt;span class="err">$.&lt;/span>&lt;span class="na">IsHome&lt;/span> &lt;span class="err">}}&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;active&amp;#34;&lt;/span>&lt;span class="err">{{&lt;/span> &lt;span class="na">end&lt;/span> &lt;span class="err">}}&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{- `/` | absURL -}}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ with $.Site.Params.logo }}{{ . | safeHTML }}{{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{- with $.Site.Sections -}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{- range . -}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="err">{{&lt;/span> &lt;span class="na">if&lt;/span> &lt;span class="na">eq&lt;/span> &lt;span class="err">$.&lt;/span>&lt;span class="na">Section&lt;/span> &lt;span class="err">.&lt;/span>&lt;span class="na">Section&lt;/span> &lt;span class="err">}}&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;active&amp;#34;&lt;/span>&lt;span class="err">{{&lt;/span> &lt;span class="na">end&lt;/span> &lt;span class="err">}}&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Permalink }}&amp;#34;&lt;/span> &lt;span class="na">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Title }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ with .Params.icon}}{{ . | safeHTML }}{{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;nav-cursor&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ol&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">nav&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">nav-list&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">$&lt;/span>&lt;span class="n">nav-height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">$&lt;/span>&lt;span class="n">nav-padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">orange&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">list-style&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">flex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9999&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="n">nav-padding&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">relative&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">li&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nf">not&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="n">nav&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cursor&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="n">nav-height&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">aspect-ratio&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">overflow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">z-index&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.5&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgb&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">24&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">a&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">grid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">align-items&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">center&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">justify-content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">center&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9999&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">li&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">nav-cursor&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">absolute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">white&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="n">nav-height&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">aspect-ratio&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9999&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">visibility&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">mixin&lt;/span> &lt;span class="nt">fix-cursor&lt;/span>&lt;span class="o">($&lt;/span>&lt;span class="nt">left&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">left&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">left&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">visibility&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">visible&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">$&lt;/span>&lt;span class="nt">li-count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">10&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">i&lt;/span> &lt;span class="nt">from&lt;/span> &lt;span class="nt">1&lt;/span> &lt;span class="nt">through&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">li-count&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">$&lt;/span>&lt;span class="nt">offset&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">li-count&lt;/span> &lt;span class="nt">-&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">i&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">$&lt;/span>&lt;span class="nt">top&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">($&lt;/span>&lt;span class="nt">i&lt;/span> &lt;span class="nt">-&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">nav-height&lt;/span> &lt;span class="o">+$&lt;/span>&lt;span class="nt">nav-padding&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">nth-child&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="err">$i&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">active&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">~li.nav-cursor&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@include&lt;/span> &lt;span class="err">fix-cursor($top)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">i&lt;/span> &lt;span class="nt">from&lt;/span> &lt;span class="nt">1&lt;/span> &lt;span class="nt">through&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">li-count&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">$&lt;/span>&lt;span class="nt">offset&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">li-count&lt;/span> &lt;span class="nt">-&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">i&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">$&lt;/span>&lt;span class="nt">top&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">($&lt;/span>&lt;span class="nt">i&lt;/span> &lt;span class="nt">-&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="nt">nav-height&lt;/span> &lt;span class="o">+$&lt;/span>&lt;span class="nt">nav-padding&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">nth-child&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="err">$i&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">~li.nav-cursor&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@include&lt;/span> &lt;span class="err">fix-cursor($top)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">hover&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">hover&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nc">nav-list&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">nav-cursor&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">left&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>战痘</title><link>https://todd.scuteee.com/posts/2022/2022-10-10-face-care/</link><pubDate>Mon, 10 Oct 2022 16:22:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-10-10-face-care/</guid><description>&lt;h2 id="2022-10-10">2022-10-10&lt;/h2>
&lt;p>早上去了广东省皮肤病医院，挂了激光美肤中心-痤疮专科的林飞燕医生的号。开了一些口服药和外涂药，还刷了果酸。刷果酸时有点刺痛感，在长痘的额头处更加明显。大概8分钟后就把酸中和掉掉了，然后敷了冰袋，涂了维生素E乳。刷完酸后的一周要注意&lt;strong>物理防晒&lt;/strong>和保湿，不能出汗，不能游泳，可能会爆痘，但一周内会缓解。&lt;/p>
&lt;p>加了医生的微信，医生给我发了注意事项：&lt;a class="link" href="https://www.meipian.cn/4bs4tw4h" target="_blank" rel="noopener"
>https://www.meipian.cn/4bs4tw4h&lt;/a>，&lt;/p>
&lt;ul>
&lt;li>口服
&lt;ul>
&lt;li>
&lt;p>盐酸多西环素片（强力霉素）：14片，餐后口服，每天2次，每次1片。（用于消炎）&lt;/p>
&lt;blockquote>
&lt;p>知乎上的注意事项：&lt;/p>
&lt;ol>
&lt;li>吃的时候要准备一杯的温热水，这药对咽喉这些地方有腐蚀作用，很多人吃这药不注意然后去医院检查喉咙管，所以喝的时候一定要把他打下去。&lt;/li>
&lt;li>要在饭后吃，半小时都可以，千万千万不要空腹吃，我试过两次，真的是头晕、恶心、还想吐。&lt;/li>
&lt;li>再者就是服药期间要注意防晒，看见外面太阳大了，选择不出去或者物理防晒（有轻度光敏性，容易晒黑，服用期间注意防晒。）&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>维生素B6片：42片，餐后口服，每天3次，每次1片。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>外涂
&lt;ul>
&lt;li>
&lt;p>（5天后，即10月15号开始涂）过氧苯甲酰凝胶（班赛）：大颗的痘痘可以点涂，每天2次&lt;/p>
&lt;blockquote>
&lt;p>针清/火针/电离子或者刷酸之后皮肤比较脆弱或者有针眼，前三天不能用自来水洗脸，也先不着急用刺激性的外用药，比如氯霉素酊、过氧化苯甲酰、壬二酸，通常3~5天以后再开始用。&lt;/p>
&lt;p>剩下的闭口粉刺和黑痘印可以点涂壬二酸，大颗的痘痘可以点涂过氧化苯甲酰&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>知乎上的注意事项：早上出门前半小时或者晚上睡前1小时洁面后少量点涂，每日1-2次。以点涂方式用起，只能取少量在指尖，揉成薄薄一层，点在痘痘的部位。初次使用时，最好半小时后洗掉，用几次后，逐步增加药物停留时间，可以让班赛在痘痘上保至少留2小时，千万不要涂到正常皮肤和粘膜部位。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>复方黄柏液涂剂：外用，每天2次，每次适量。（抗菌消炎）&lt;/p>
&lt;blockquote>
&lt;p>复方黄柏液在针清或者刷酸后的皮肤屏障修复期，可以替代面膜、无菌湿敷，清洁创面、消炎杀菌还可以促进修复，便宜又好用，建议一天2~3次。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>说明书上说：浸泡纱布条外敷于感染伤口内&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>酮康唑洗剂：隔天外洗1次，洗后用清水冲洗干净（广谱的抗真菌药）&lt;/p>
&lt;blockquote>
&lt;p>出油出汗多的时候，晚上洗澡时可以用酮康唑洗剂，当洗面奶/洗发水/沐浴露都行，去油的同时还可以杀菌。出油不多的时候，可以用自己的洗面奶，皮肤完整/干燥清爽的时候可以只用清水洗脸。痘痘肌跟出油密切相关，所以一天只洗两次脸是不够的哦。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>熊果苷凝胶：每晚外涂1次（抑制黑色素，减少皮肤色素沉淀）&lt;/p>
&lt;blockquote>
&lt;p>到了后面留下黑色痘印的时候可以外用熊果苷凝胶，这个药很温和，可以在睡觉前抹全脸当美白晚霜，但是要记得避光使用。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>盐酸克林霉素凝胶：局部外用，每日2次（克林霉素对痤疮致病菌——痤疮丙酸杆菌有直接抑制或杀灭作用，从而起到治疗痤疮的作用）&lt;/p>
&lt;blockquote>
&lt;p>然后可以大面积外用克林霉素，没有刺激性、有伤口和破损也可以直接用。这个药不油腻，可以保湿，避免皮肤紧绷干燥，所以就不需要另外再用乳液和保湿霜了。如果脓肿、脓疱比较大个，炎症比较深，可以涂复方多粘菌素B或者夫西地酸乳膏，这两个可以渗透得比较深。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>总结一下用药顺序：&lt;/p>
&lt;ul>
&lt;li>早晚餐后：盐酸多西环素片（强力霉素）&lt;/li>
&lt;li>早中晚餐后：维生素B6片&lt;/li>
&lt;li>早上：敷“复方黄柏液涂剂”，涂“盐酸克林霉素凝胶”&lt;/li>
&lt;li>晚上：洗澡时用“酮康唑洗剂”当洗面奶（隔天用），用完后洗干净。然后敷“复方黄柏液涂剂”，涂“盐酸克林霉素凝胶”。睡前涂“熊果苷凝胶”。&lt;/li>
&lt;li>特殊：有大的痘痘涂“过氧苯甲酰凝胶”&lt;/li>
&lt;/ul>
&lt;p>花费：西药38.87，中成药46.71，刷酸640，检查费10，一共735.6&lt;/p></description></item><item><title>Common-Emiter Amplifier</title><link>https://todd.scuteee.com/analog/ta/chapter06/6.4/</link><pubDate>Fri, 07 Oct 2022 21:55:09 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter06/6.4/</guid><description/></item><item><title>Chapter 6 solution</title><link>https://todd.scuteee.com/analog/ta/chapter06/solution/</link><pubDate>Fri, 07 Oct 2022 21:05:18 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter06/solution/</guid><description>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>章节&lt;/th>
&lt;th>必做&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>6.1~6.4&lt;/td>
&lt;td>6.2, 6.10, D6.17, 6.24, D6.30&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6.5~6.8&lt;/td>
&lt;td>6.33, 6.37, 6.44, D6.56, 6.66&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6.9~6.11&lt;/td>
&lt;td>6.73, 6.74, 6.77, 6.83, D6.89(This question&amp;rsquo;s answer needs to be verified by computer simulation)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="6164">6.1~6.4&lt;/h2>
&lt;h3 id="62">6.2&lt;/h3>
&lt;ul>
&lt;li>(a) $g_m = 2.47{\rm mA}$, $r_\pi=1.32{\rm k\Omega}$, $r_o=81{\rm k\Omega}$&lt;/li>
&lt;li>(b) $I_{CQ}=3.12{\rm mA}$, $\beta=144$&lt;/li>
&lt;/ul>
&lt;h3 id="610">6.10&lt;/h3>
&lt;ul>
&lt;li>(a) $R_C = 10{\rm k\Omega}$, $V_{BB}=0.95{\rm V}$&lt;/li>
&lt;li>(b) $r_\pi=5.2{\rm k\Omega}$, $A_v = -18.1$&lt;/li>
&lt;/ul>
&lt;h3 id="d617">D6.17&lt;/h3>
&lt;ul>
&lt;li>(a)
&lt;ul>
&lt;li>i $R_B=20.25{\rm k\Omega}$, $R_C=2.53{\rm k\Omega}$&lt;/li>
&lt;li>ii $g_m=30.38{\rm S}$, $r_o=127{\rm k\Omega}$, $G_f=-11.63{\rm mA/V}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>(b)
&lt;ul>
&lt;li>i $R_B=30.3{\rm k\Omega}$, $R_C=2.52{\rm k\Omega}$&lt;/li>
&lt;li>ii $g_m=30.52{\rm S}$, $r_o=101{\rm k\Omega}$, $G_f=-11.62{\rm mA/V}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="624">6.24&lt;/h3>
&lt;ul>
&lt;li>(a) $32\leq | A_v | \leq 34.6$&lt;/li>
&lt;li>(b) $1.96\leq R_i \leq 2.45 {\rm k\Omega}$&lt;/li>
&lt;li>(c) $3.802\leq R_o \leq 3.804 {\rm k\Omega}$&lt;/li>
&lt;/ul>
&lt;h3 id="d630">D6.30&lt;/h3>
&lt;p>$A_v = -\dfrac{R_C}{R_E}=-10$&lt;/p>
&lt;p>$R_O = R_C=5{\rm k\Omega}$, so $R_E=0.5{\rm k\Omega}$&lt;/p>
&lt;p>Set $I_{CQ}=0.5{\rm mA}$, $V_{ECQ}\approx 5-0.5*(5+0.5)=2.25{\rm V}$&lt;/p>
&lt;p>$r_\pi = \dfrac{\beta V_T}{I_{CQ}}=4.68{\rm k\Omega}$, $R_{ib}=r_\pi + (1+\beta) R_E = 50.2{\rm k\Omega}$&lt;/p>
&lt;p>Set $R_i=20{\rm k\Omega}=R_{TH}|R_{ib}=R_{TH}|50.2$, so $R_{TH}=33.3{\rm k\Omega}$&lt;/p>
&lt;p>$I_{BQ}=0.00556{\rm mA}$, $I_{EQ}=0.506{\rm mA}$&lt;/p>
&lt;p>$V_{CC}=I_{EQ}R_E+V_{EV}(on)+I_{BQ}R_{TH}+V_{TH}$&lt;/p>
&lt;p>$5=0.506\cdot 0.5+0.7+0.00556 \cdot 33.3+V_{TH}$&lt;/p>
&lt;p>$V_{TH}=3.862=\dfrac{1}{R_1}R_{TH}V_{CC}=\dfrac{1}{R_1}\cdot 33.3 \cdot 5$&lt;/p>
&lt;p>$R_1=43{\rm k\Omega}$, $R_2=148{\rm k\Omega}$&lt;/p>
&lt;p>($R_1,R_2$ 可选其他值，只要满足 $R_1&amp;gt;43{\rm k\Omega}$，$R_2&amp;gt;148{\rm k\Omega}$，$R_1:R_2\approx 0.3$)&lt;/p>
&lt;h2 id="6568">6.5~6.8&lt;/h2>
&lt;h3 id="633">6.33&lt;/h3>
&lt;p>$I_{BQ}=3.15{\rm \mu A}$, $I_{CQ}=0.315{\rm mA}$, $V_{CEQ}=3.96{\rm V}$&lt;/p>
&lt;p>$i_c = -\frac{1}{6.1} v_{ec}$&lt;/p>
&lt;p>because $i_c = 0.315 - 0.05 = 0.265$, so $v_{ec}=1.62$&lt;/p>
&lt;p>$v_{ec}({\rm min})=3.96-1.62=2.34{\rm V}$&lt;/p>
&lt;p>output swing: $3.24{\rm V}$ peak-to-peak&lt;/p>
&lt;h3 id="637">6.37&lt;/h3>
&lt;p>$R_1=34.9{\rm k\Omega}$, $R_2=18.6{\rm k\Omega}$&lt;/p>
&lt;h3 id="644">6.44&lt;/h3>
&lt;p>&lt;a class="link" href="https://imgse.com/i/x8JFfJ" target="_blank" rel="noopener"
>&lt;img src="https://s1.ax1x.com/2022/10/07/x8JFfJ.png"
loading="lazy"
alt="x8JFfJ.png"
>&lt;/a>&lt;/p>
&lt;h3 id="d656">D6.56&lt;/h3>
&lt;p>&lt;a class="link" href="https://imgse.com/i/x8JV61" target="_blank" rel="noopener"
>&lt;img src="https://s1.ax1x.com/2022/10/07/x8JV61.png"
loading="lazy"
alt="x8JV61.png"
>&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://imgse.com/i/x8Jn0K" target="_blank" rel="noopener"
>&lt;img src="https://s1.ax1x.com/2022/10/07/x8Jn0K.png"
loading="lazy"
alt="x8Jn0K.png"
>&lt;/a>&lt;/p>
&lt;h3 id="666">6.66&lt;/h3>
&lt;p>&lt;a class="link" href="https://imgse.com/i/x8JMkD" target="_blank" rel="noopener"
>&lt;img src="https://s1.ax1x.com/2022/10/07/x8JMkD.png"
loading="lazy"
alt="x8JMkD.png"
>&lt;/a>&lt;/p>
&lt;h2 id="69611">6.9~6.11&lt;/h2>
&lt;h3 id="673">6.73&lt;/h3>
&lt;p>(a)&lt;/p>
&lt;p>$g_{m1}=g_{m2}=\frac{1}{0.026}=38.46{\rm mA/V}$&lt;/p>
&lt;p>$r_{\pi 1}=3.12{\rm k\Omega}$&lt;/p>
&lt;p>$r_{\pi 2} = 2.08{\rm k\Omega}$&lt;/p>
&lt;p>$A_{v1}=0.4927$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>$A_{v2}=g_{m2}R_C=153.8$&lt;/p>
&lt;p>(c)&lt;/p>
&lt;p>$A_v = A_{v1}A_{v2}=75.8$&lt;/p>
&lt;h3 id="674">6.74&lt;/h3>
&lt;p>(a)&lt;/p>
&lt;p>$g_{m1}=19.23{\rm mA/V}$, $g_{m2}=76.92{\rm mA/V}$&lt;/p>
&lt;p>$r_{\pi 1}=5.2{\rm k\Omega}$, $r_{\pi 2}=1.3{\rm k\Omega}$&lt;/p>
&lt;p>$R_{ib2}=405.3{\rm k\Omega}$&lt;/p>
&lt;p>$A_{v1}=-76.17$&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>$A_{v2} =0.9968$&lt;/p>
&lt;p>(c)&lt;/p>
&lt;p>$A_v=-75.93$&lt;/p>
&lt;h3 id="677">6.77&lt;/h3>
&lt;p>(a) $I_{E1}=2.27{\rm mA}$, $I_{C1}=2.253{\rm mA}$&lt;/p>
&lt;p>$I_{E2}=70.6{\rm mA}$, $I_{C2}=69.73{\rm mA}$&lt;/p>
&lt;p>(b) $A_v=0.99$&lt;/p>
&lt;p>(c) $R_{ib}=467.6{\rm k\Omega}$, $R_o=0.512{\rm \Omega}$&lt;/p>
&lt;h3 id="683">6.83&lt;/h3>
&lt;p>(a) $\overline{P_{RL}}=0.286{\rm mW}$&lt;/p>
&lt;p>(b) $\overline{P_{RL}}=0.499{\rm mW}$&lt;/p>
&lt;h3 id="d689">D6.89&lt;/h3>
&lt;p>要求：$|A_v|=50$, $R_L=10{\rm k\Omega}$, $V_{\rm bias}=\pm 3.3{\rm V}$&lt;/p>
&lt;p>$$
\begin{aligned}
|A_v| &amp;amp;= \frac{\beta (R_C|R_L)}{r_\pi}\
&amp;amp;=\frac{\beta (R_C|R_L)}{\beta V_{T}/I_{CQ}}\
&amp;amp;=\frac{I_{CQ}}{0.026}\cdot (R_C| 10^4)
\end{aligned}
$$&lt;/p>
&lt;p>选取 $I_{CQ}=0.5{\rm mA}$，则 $R_C=3.5{\rm k\Omega}$&lt;/p>
&lt;p>选取 $V_{ECQ}=2{\rm V}$，则 $R_E=\dfrac{3.3-2-0.5*3.5-(-3.3)}{I_{CQ}}=5.7{\rm k\Omega}$&lt;/p>
&lt;p>根据第5章的相关公式，可以求出 $R_1=123{\rm k\Omega}$, $R_2=170{\rm k\Omega}$&lt;/p></description></item><item><title>Bipolar Amplifier</title><link>https://todd.scuteee.com/analog/ta/chapter06/6.1~6.3/</link><pubDate>Fri, 07 Oct 2022 20:11:16 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter06/6.1~6.3/</guid><description>&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;h3 id="small-signal-hybrid-π-equivalent-circuit">Small Signal Hybrid-π Equivalent Circuit&lt;/h3>
&lt;p>$$
\begin{aligned}
i_B &amp;amp;= \frac{I_S}{\beta } \exp(\frac{V_{BEQ} + v_{be}}{V_T}) \
&amp;amp;= \frac{I_S}{\beta } \exp(\frac{V_{BEQ}}{V_T}) \exp(\frac{v_{be}}{V_T})\
&amp;amp;= I_{BQ} \exp(\frac{v_{be}}{V_T})
\end{aligned}
$$&lt;/p>
&lt;p>if $v_{be}\ll V_T$, we can expand the exponential term in a Taylor series:&lt;/p>
&lt;p>$$
\begin{aligned}
i_B &amp;amp;\approx I_{BQ}(1+\frac{v_{be}}{V_T})\
&amp;amp;= I_{BQ} + \frac{I_{BQ}}{V_T}v_{be}\
&amp;amp;= I_{BQ} + i_b
\end{aligned}
$$&lt;/p>
&lt;p>so $i_b = \frac{I_{BQ}}{V_T} v_{be}$&lt;/p>
&lt;hr>
&lt;p>输入端小信号电阻：$v_{be}=r_\pi i_b$（参考Diode的小信号电阻）&lt;/p>
&lt;p>$$
\frac{1}{r_\pi} = \left.\frac{\partial i_B}{\partial v_{BE}} \right|&lt;em>{\rm Q-point} = \frac{I&lt;/em>{BQ}}{V_T}
$$&lt;/p>
&lt;p>$$
r_\pi = \frac{V_T}{I_{BQ}}
$$&lt;/p>
&lt;hr>
&lt;p>输出端：$i_c = g_m v_{be}$&lt;/p>
&lt;p>$$
i_c = \l.\frac{\partial i_C}{\partial v_{BE}} \r|&lt;em>{\rm Q-point} \cdot v&lt;/em>{be}
$$&lt;/p>
&lt;p>$$
g_m = \frac{I_{CQ}}{V_T}
$$&lt;/p>
&lt;p>由于 $i_C = I_S \exp(\frac{v_{BE}}{V_T})$&lt;/p>
&lt;p>$$
i_c = \frac{I_{CQ}}{V_T} v_{be}
$$&lt;/p>
&lt;blockquote>
&lt;p>注意到：$r_\pi g_m = \frac{V_T}{I_{BQ}}\frac{I_{CQ}}{V_T} = \beta$&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;p>Early Effect: $v_{ce} = r_o i_c$&lt;/p>
&lt;p>$$
\frac{1}{r_o} = \left.\frac{\partial i_C}{\partial v_{CE}} \right|_{\rm Q-point}
$$&lt;/p>
&lt;p>由于 $i_C \approx I_{CQ}(1+\frac{v_{CE}}{V_A})$，所以&lt;/p>
&lt;p>$$
\frac{1}{r_o} = \frac{I_{CQ}}{V_A}
$$&lt;/p>
&lt;p>$$
r_o = \frac{V_A}{I_{CQ}}
$$&lt;/p></description></item><item><title>BJT biasing</title><link>https://todd.scuteee.com/analog/ta/chapter05/5.4~5.5/</link><pubDate>Wed, 21 Sep 2022 18:49:38 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter05/5.4~5.5/</guid><description>&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;p>The purpose of bias: establish a Q-point near the center of the laod line.&lt;/p>
&lt;h2 id="single-base-resistoir-biasing">Single Base Resistoir Biasing&lt;/h2>
&lt;h2 id="voltage-divider-biasing">Voltage Divider Biasing&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>Thevenin equivalent circuit for base circuit&lt;/p>
&lt;p>$$
V_{\rm TH} = \frac{R_2}{R_1+R_2} V_{CC}
$$&lt;/p>
&lt;p>$$
R_{\rm TH} = R_1 | R_2
$$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Calculate the $I_{BE}、I_{EQ}$&lt;/p>
&lt;p>$$
V_{\rm TH} = I_{BQ}R_{\rm TH} + V_{BE}({\rm on}) + I_{EQ}R_E
$$&lt;/p>
&lt;p>if transistor is forward biased, $I_{EQ}=(1+\beta)I_{BQ}$, therefore&lt;/p>
&lt;p>$$
I_{BQ}=\frac{V_{\rm TH}-V_{BE}({\rm on})}{R_{\rm TH}+(1+\beta)R_E}
$$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$V_{CEQ} = V_{CC} - I_{CQ}R_C - I_{EQ}R_E$&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="positive-and-negative-voltage-biasing">Positive and Negative Voltage Biasing&lt;/h2>
&lt;p>It&amp;rsquo;s similar to &amp;ldquo;Voltage Divider Biasing&amp;rdquo;.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Thevenin equivalent circuit for base circuit&lt;/p>
&lt;p>$$
V_{\rm TH} = \frac{R_2}{R_1+R_2} (V_{CC}-V_{EE}) + V_{EE}
$$&lt;/p>
&lt;p>$$
R_{\rm TH} = R_1 | R_2
$$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Calculate the $I_{BE}、I_{EQ}$&lt;/p>
&lt;p>$$
V_{\rm TH} = I_{BQ}R_{\rm TH} + V_{BE}({\rm on}) + I_{EQ}R_E+V_{EE}
$$&lt;/p>
&lt;p>if transistor is forward biased, $I_{EQ}=(1+\beta)I_{BQ}$, therefore&lt;/p>
&lt;p>$$
I_{BQ}=\frac{V_{\rm TH}-V_{BE}({\rm on})-V_{EE}}{R_{\rm TH}+(1+\beta)R_E}
$$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$V_{CEQ} = V_{CC} - I_{CQ}R_C - I_{EQ}R_E+V_{EE}$&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Python code of the process above:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#电源&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vcc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 正电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 负电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 静态工作点&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vceq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># CE压降，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vbeq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.7&lt;/span> &lt;span class="c1"># 发射结压降，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Icq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="c1"># 集电极电流，单位：mA&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vcq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 集电极电压，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">beta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">130&lt;/span> &lt;span class="c1"># 电流放大倍数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Rc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vcq&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Icq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ieq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Icq&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Re&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Vcq&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vceq&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Ieq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Rth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Vth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ibq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Icq&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">beta&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Vee&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">Ieq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">Vbeq&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">Ibq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Rth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 R1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Rth&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vth&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 R2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Rth&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">R1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 打印结果&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Rc=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, Re=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, R1=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, R2=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Rc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Re&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">R1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">R2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#电源&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vcc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 正电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 负电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#电阻值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Re&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">510&lt;/span> &lt;span class="c1"># 单位：kΩ，下同&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">9.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 晶体管参数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vbeq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.7&lt;/span> &lt;span class="c1"># 单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">beta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Rth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">R2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">R1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">R2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Vth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">R1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">R2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Ibq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ibq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Vth&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vbeq&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Rth&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Icq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">beta&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Ibq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ieq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Ibq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Vceq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vceq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Icq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Rc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Ieq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 打印结果&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Icq=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, Vceq=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Icq&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Vceq&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="integrated-circuit-biasing">Integrated Circuit Biasing&lt;/h2>
&lt;p>Current mirror is used as bias circuit.&lt;/p>
&lt;h2 id="multistage-circuit">Multistage Circuit&lt;/h2></description></item><item><title>BJT Application</title><link>https://todd.scuteee.com/analog/ta/chapter05/5.3/</link><pubDate>Thu, 15 Sep 2022 23:33:31 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter05/5.3/</guid><description>&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;h3 id="switch">Switch&lt;/h3>
&lt;p>$$
i_B = \frac{v_I-V_{BE}({\rm on})}{R_B}
$$&lt;/p>
&lt;p>$$
i_C = \frac{V_{CC}-V_{CE}({\rm sat})}{R_C}
$$&lt;/p>
&lt;p>$$
v_O = V_{CE}({\rm sat})
$$&lt;/p>
&lt;p>These equations are true when the diode is in saturation. If $v_I = V_{CC}$ and $V_{BE}({\rm on}) \approx V_{CE}({\rm sat})$, then $R_B/R_C \leq \beta$.&lt;/p>
&lt;h3 id="digital-logic">Digital Logic&lt;/h3>
&lt;p>Two parallel bipolars can be used as NOR gate.&lt;/p>
&lt;h3 id="amplifier">Amplifier&lt;/h3></description></item><item><title>Chapter 5 solution</title><link>https://todd.scuteee.com/analog/ta/chapter05/solution/</link><pubDate>Tue, 13 Sep 2022 16:23:07 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter05/solution/</guid><description>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>章节&lt;/th>
&lt;th>必做&lt;/th>
&lt;th>选做&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>5.1~5.2&lt;/td>
&lt;td>5.2, 5.8, 5.13, 5.18, 5.26，5.39&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.3~5.4&lt;/td>
&lt;td>5.47, D5.49, 5.52, 5.56, D5.72&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.5~5.6&lt;/td>
&lt;td>5.79, 5.80, 5.82, 5.83, D5.89 (5.83&amp;rsquo;s answer needs to be verified by computer simulation)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Note $V_{BE, npn}({\rm on}) = V_{EB, pnp}({\rm on}) = 0.7{\rm V}$, $V_{CE, npn}({\rm sat}) = V_{EV, pnp}({\rm sat}) = 0.2{\rm V}$&lt;/p>
&lt;h2 id="5152">5.1~5.2&lt;/h2>
&lt;h3 id="52">5.2&lt;/h3>
&lt;p>$i_E=i_C+i_B$&lt;/p>
&lt;p>$i_C=\alpha i_E$&lt;/p>
&lt;p>$i_C=\beta i_B$&lt;/p>
&lt;ul>
&lt;li>(a) $i_B=6{\rm \mu A}$, $\beta=121$, $\alpha=0.9918$&lt;/li>
&lt;li>(b) $i_B=59{\rm \mu A}$, $\beta=49.19$, $\alpha=0.9801$&lt;/li>
&lt;/ul>
&lt;h3 id="58">5.8&lt;/h3>
&lt;p>$\alpha=0.9836$&lt;/p>
&lt;ul>
&lt;li>(a) if transistor is in forward-active mode, $I_C=\alpha I_E=0.7377{\rm mA}$, $v_{CB}=-10+0.7377\times 5=-6.3115{\rm V}&amp;lt;0$, so the assumption is true. $I_B=I_C/\beta = 12.3{\rm \mu A}$&lt;/li>
&lt;li>(b) $I_C=1.475{\rm mA}$, $v_{CE}=-2.625{\rm V}$, $I_B=24.6{\rm \mu A}$&lt;/li>
&lt;li>(c) they are in the forward-active mode.&lt;/li>
&lt;/ul>
&lt;h3 id="513">5.13&lt;/h3>
&lt;p>$i_C=I_{C0} (1+\frac{v_{CE}}{V_A})$&lt;/p>
&lt;p>$r_O=\dfrac{\partial i_C}{\partial v_{CE}}$&lt;/p>
&lt;ul>
&lt;li>(a) $I_C&amp;rsquo; = \frac{0.6}{1+\frac{2}{80}}(1+\frac{5}{80}) = 0.62195{\rm mA}$&lt;/li>
&lt;li>(b) $r_o = \frac{5-2}{0.62195-0.6}=136.67{\rm k\Omega}$ or $r_o = \frac{V_A+V_{CE}}{I_C} = \frac{82}{0.6}=136.67{\rm k\Omega}$&lt;/li>
&lt;/ul>
&lt;h3 id="518">5.18&lt;/h3>
&lt;p>($\beta = 75$ according 5.17)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>(a) $R_E=5\pm 0.25 {\rm k\Omega}$&lt;/p>
&lt;p>$I_E=\frac{(0-0.7)-(-10)}{R_E}\in [1.7714, 1.9579] {\rm mA}$&lt;/p>
&lt;p>$I_C=\frac{\beta}{1+\beta}I_E\in [1.7481, 1.9321] {\rm mA}$&lt;/p>
&lt;p>$V_{CC}=V_{CE}-V_{BE}=3.3{\rm V}$&lt;/p>
&lt;p>$R_C=\frac{10-V_{CC}}{I_C}\in [3.4677 ,3.8327] {\rm k\Omega}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(c) $R_E=4\pm 0.2{\rm k\Omega}$&lt;/p>
&lt;p>$I_B = \frac{0-0.7-(-10)}{R_B+(1+\beta)R_E} \in [0.02218, 0.02443]{\rm mA}$&lt;/p>
&lt;p>$I_C = \beta I_B \in [1.6631,1.8323]{\rm mA}$&lt;/p>
&lt;p>$I_E = (1+\beta)I_B \in [1.6853, 1.8568]{\rm mA}$&lt;/p>
&lt;p>$V_{CE} = 8 - I_C R_C -I_E R_E -(-8) = [1.6150, 2.2693]$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="526">5.26&lt;/h3>
&lt;p>$I_B = \frac{5-0.7}{250} = 17.2{\rm \mu A}$&lt;/p>
&lt;p>$I_C = \beta I_B = 2.064{\rm mA}$&lt;/p>
&lt;p>$V_{EC}=10-1.5\times 2.064 = 6.904{\rm V}$&lt;/p>
&lt;p>$I_C = \frac{10-V_{EC}}{1.5}$, intercept with $I_C$ axis is $6.667{\rm mA}$ and with $V_{CC}$ axis is $10{\rm V}$&lt;/p>
&lt;h3 id="539">5.39&lt;/h3>
&lt;p>if $V_{CE}\in [1.0,4.5]$, then $I_C = \frac{V_{CC}-V_{CE}}{R_C}\in [0.5, 4]{\rm mA}$&lt;/p>
&lt;p>$I_B=I_C/\beta=[0.02, 0.16]{\rm mA}$&lt;/p>
&lt;p>$\dfrac{V_1-0.7}{R_1}+\dfrac{-5-0.7}{R_2} = I_B$, so $V_1\in [1.855,3.955]{\rm V}$&lt;/p>
&lt;p>画图时注意 load line 与 $i_C$ 轴相交于 $5{\rm mA}$，与 $v_{CE}$ 轴相交于 $5{\rm V}$. Q-print 的范围为 $(1,4)$ 和 $(4.5, 0.5)$ 两点之间。&lt;/p>
&lt;h2 id="53-54">5.3-5.4&lt;/h2>
&lt;h3 id="547">5.47&lt;/h3>
&lt;p>$$
I_C = \frac{V_O}{R_C} = \frac{8.8}{500} = 17.6 {\rm mA}
$$&lt;/p>
&lt;p>$$
I_B = \frac{I_C}{25} = \frac{17.6}{25} = 0.704 {\rm mA}
$$&lt;/p>
&lt;p>$$
R_B = \frac{(V^+ - V_{EB}) - V_I}{I_B} = \frac{(9-0.7) - 5}{0.704} = 4.6875 {\rm V}
$$&lt;/p>
&lt;h3 id="d549">D5.49&lt;/h3>
&lt;p>$I_{BQ}=\dfrac{I_{CQ}}{\beta} = \dfrac{0.15}{120} = 1.25 {\rm \mu A}$&lt;/p>
&lt;p>$I_{EQ} = I_{BQ} (1+\beta) = 151.25 {\rm mA}$&lt;/p>
&lt;p>$V_{\rm TH} = I_{BQ}R_{\rm TH} + V_{BE}({\rm on}) + I_{EQ}R_E = 1.2525{\rm V}$&lt;/p>
&lt;p>$$
\begin{cases}
V_{\rm TH} = \dfrac{R_2}{R_1+R_2}V_{CC} = 1.2525\
R_{\rm TH} = \dfrac{R_1 R_2}{R_1+R_2} = 200k
\end{cases}
$$&lt;/p>
&lt;p>Solve these two equation, we have $R_1 = 399.20{\rm \Omega}$ and $R_2 = 400.80{\rm \Omega}$&lt;/p>
&lt;p>$V_{CEQ} = V_{CC} - I_{CQ}R_C - I_{EQ} R_E = 1.2975{\rm V}$&lt;/p>
&lt;h3 id="552">5.52&lt;/h3>
&lt;p>(a)&lt;/p>
&lt;p>$R_{\rm TH} = R_1 | R_2 = 24.36{\rm k\Omega}$&lt;/p>
&lt;p>$V_{\rm TH} = \frac{R_2}{R_1+R_2}V_{CC} = 10.08{\rm V}$&lt;/p>
&lt;p>$I_{BQ} = \frac{V_{\rm TH} - V_{BEQ}}{R_{\rm TH} + (1+\beta)R_E} = 7.30{\rm \mu A}$&lt;/p>
&lt;p>$I_{CQ} = \beta I_{BQ} = 0.9129{\rm mA}$&lt;/p>
&lt;p>$I_{EQ} = (1+\beta) I_{BQ} = 0.9202{\rm mA}$&lt;/p>
&lt;p>$V_{CEQ} = V_{CC} - I_{EQ} R_E = 14.798{\rm V}$&lt;/p>
&lt;p>(b) 详细计算过程见 PDF&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>$R_1$-5%&lt;/th>
&lt;th>$R_1$+5%&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>$R_2$-5%&lt;/td>
&lt;td>$I_{CQ}=0.914{\rm mA}, V_{CEQ}=14.79{\rm V}$&lt;/td>
&lt;td>$I_{CQ}=0.857{\rm mA}, V_{CEQ}=15.37{\rm V}$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>$R_2$+5%&lt;/td>
&lt;td>$I_{CQ}=0.970{\rm mA}, V_{CEQ}=14.22{\rm V}$&lt;/td>
&lt;td>$I_{CQ}=0.912{\rm mA}, V_{CEQ}=14.81{\rm V}$&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="556">5.56&lt;/h3>
&lt;p>$R_{\rm TH} = R_1 | R_2 = 20{\rm k\Omega}$&lt;/p>
&lt;p>$V_{\rm TH} = \dfrac{R_2}{R_1+R_2} V^+ = 1.25{\rm V}$&lt;/p>
&lt;p>$V^+ - V_{\rm TH} = I_{BQ}R_{\rm TH} + V_{BE}({\rm on}) + I_{EQ}R_E$&lt;/p>
&lt;p>$I_{BQ} = \dfrac{V^+ - V_{\rm TH} - V_{EB}({\rm on})}{R_{\rm TH}+(1+\beta)R_E}$&lt;/p>
&lt;p>(a) $I_{BQ} = 6.57{\rm \mu A}$, $I_{CQ}=0.5914{\rm mA}$, $I_{EQ}=0.5980{\rm mA}$, $V_{ECQ}=1.135{\rm V}$&lt;/p>
&lt;p>(b) $I_{BQ}=4.375{\rm \mu A}$, $I_{CQ}=0.6607{\rm mA}$, $V_{ECQ} = 0.9874{\rm V}$&lt;/p>
&lt;p>$I_{CQ} % = 10.97%$, $V_{ECQ} % = -13%$&lt;/p>
&lt;h3 id="d572">D5.72&lt;/h3>
&lt;p>(a) $I_{EQ}=I_{CQ}\frac{1+\beta}{\beta} = 0.151875{\rm mA}$, $I_{BQ}=\frac{I_{CQ}}{\beta} = 1.875{\rm \mu A}$&lt;/p>
&lt;p>$V_{CEQ} = (V^+ - V^-) - I_{CQ}R_C - I_{EQ} R_E$, so $R_C = 13.3{\rm k\Omega}$&lt;/p>
&lt;p>&lt;a class="link" href="https://forum.allaboutcircuits.com/threads/find-the-voltage-gain.121592/" target="_blank" rel="noopener"
>Rth=0.1(1+β)Re&lt;/a>, $R_{\rm TH}=16.2{\rm k\Omega}$&lt;/p>
&lt;p>$V^+ = I_{EQ} R_E + V_{EB}({\rm on})+I_{BQ}R_{\rm TH}+V_{\rm TH}$, so $V_{\rm TH} = 1.466{\rm V}$&lt;/p>
&lt;p>$V_{\rm TH} = \frac{R_1}{R_1+R_2} \times 5 - 2.5$, so $R_1=20.4{\rm k\Omega}$, $R_2= 78.7{\rm k\Omega}$&lt;/p>
&lt;p>(b) $I_{CQ} % = 5.4%$, $V_{ECQ} % = -4.52%$&lt;/p>
&lt;h2 id="5556">5.5~5.6&lt;/h2>
&lt;h3 id="579">5.79&lt;/h3>
&lt;h3 id="580">5.80&lt;/h3>
&lt;h3 id="582">5.82&lt;/h3>
&lt;h3 id="583">5.83&lt;/h3>
&lt;h3 id="d589">D5.89&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#电源&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vcc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 正电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 负电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 静态工作点&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vceq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># CE压降，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vbeq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.7&lt;/span> &lt;span class="c1"># 发射结压降，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Icq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="c1"># 集电极电流，单位：mA&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vcq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 集电极电压，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">beta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">130&lt;/span> &lt;span class="c1"># 电流放大倍数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Rc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vcq&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Icq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ieq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Icq&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Re&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Vcq&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vceq&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Ieq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Rth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Vth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ibq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Icq&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">beta&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Vee&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">Ieq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">Vbeq&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">Ibq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Rth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 R1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Rth&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vth&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 R2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Rth&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">R1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 打印结果&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Rc=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, Re=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, R1=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, R2=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Rc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Re&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">R1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">R2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#电源&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vcc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 正电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">2.5&lt;/span> &lt;span class="c1"># 负电源，单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#电阻值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Re&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">510&lt;/span> &lt;span class="c1"># 单位：kΩ，下同&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">9.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 晶体管参数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vbeq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.7&lt;/span> &lt;span class="c1"># 单位：V&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">beta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Rth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Rth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">R2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">R1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">R2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Vth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">R1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">R2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Ibq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ibq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Vth&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vbeq&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Rth&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Icq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">beta&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Ibq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ieq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">beta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Ibq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 计算 Vceq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vceq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Vcc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Icq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Rc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Ieq&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">Re&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Vee&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 打印结果&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Icq=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">, Vceq=&lt;/span>&lt;span class="si">%.3f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Icq&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Vceq&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Basic BJT &amp; DC Analysis</title><link>https://todd.scuteee.com/analog/ta/chapter05/5.1-5.2/</link><pubDate>Tue, 13 Sep 2022 14:24:31 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter05/5.1-5.2/</guid><description>&lt;h2 id="terms">Terms&lt;/h2>
&lt;ul>
&lt;li>Bipolar Transistor
&lt;ul>
&lt;li>npn&lt;/li>
&lt;li>pnp&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>emitter(E), base(B), collector(C)
&lt;ul>
&lt;li>doping concentrations: E&amp;gt;B&amp;gt;C&lt;/li>
&lt;li>length: E,C&amp;raquo;B&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>forward-active operating mode
&lt;ul>
&lt;li>B-E junction is forward biased.&lt;/li>
&lt;li>B-C junction is reverse biased.&lt;/li>
&lt;li>common-emitter current gain $\beta$, $i_C=\beta i_B$&lt;/li>
&lt;li>common-base current gain $\alpha$, $i_C=\alpha i_E$&lt;/li>
&lt;li>Early effect (base-width modultaion)&lt;/li>
&lt;li>Leakage Current&lt;/li>
&lt;li>Breakdown Voltage&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;h3 id="forward-active-mode-operation">Forward-Active Mode Operation&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>NPN&lt;/th>
&lt;th>PNP&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>$i_E=\frac{I_S}{\alpha}e^{v_{BE}/V_T}$&lt;/td>
&lt;td>$i_E=\frac{I_S}{\alpha}e^{v_{EB}/V_T}$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>$i_C=I_S e^{v_{BE}/V_T}$&lt;/td>
&lt;td>$i_C=I_S e^{v_{EB}/V_T}$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>$i_B=\frac{I_S}{\beta}e^{v_{BE}/V_T}$&lt;/td>
&lt;td>$i_B=\frac{I_S}{\beta}e^{v_{EB}/V_T}$&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;ul>
&lt;li>$i_E=i_C+i_B$&lt;/li>
&lt;li>$i_C=\alpha i_E$&lt;/li>
&lt;li>$i_C=\beta i_B$&lt;/li>
&lt;/ul>
&lt;p>so $\dfrac{1}{\alpha} = 1 + \dfrac{1}{\beta}$&lt;/p>
&lt;h2 id="c-v-characteristics">C-V Characteristics&lt;/h2>
&lt;p>$$
i_C=I_S(e^{v_{BE}/V_T})\cdot (1+\frac{v_{CE}}{V_A})
$$&lt;/p>
&lt;p>$$
r_O=\frac{\p i_C}{\p v_{CE}}\approx \frac{V_A}{I_C}
$$&lt;/p>
&lt;h2 id="dc-analysis">DC Analysis&lt;/h2>
&lt;p>(Figure 5.19) If Transistor is in forward-active mode,&lt;/p>
&lt;p>$$
I_B=\frac{V_{BB}-V_{BE}({\rm On})}{R_B}
$$&lt;/p>
&lt;p>$$
I_C=\beta I_B
$$&lt;/p>
&lt;p>$$
V_{CE}=V_{CC}-I_C R_C
$$&lt;/p>
&lt;blockquote>
&lt;p>Note: $V_{CE}&amp;gt;V_{BE}({\rm on})$&lt;/p>
&lt;/blockquote>
&lt;p>$$
P_T=I_B V_{BE}({\rm on}) + I_C V_{CE}\approx I_C V_{CE}
$$&lt;/p></description></item><item><title>国际校区生存指南</title><link>https://todd.scuteee.com/posts/2022/2022-09-12-gics-guide/</link><pubDate>Mon, 12 Sep 2022 22:18:03 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-09-12-gics-guide/</guid><description>&lt;h2 id="课表">课表&lt;/h2>
&lt;h3 id="上学期">上学期&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>节次&lt;/th>
&lt;th>时间&lt;/th>
&lt;th>周一&lt;/th>
&lt;th>周二&lt;/th>
&lt;th>周三&lt;/th>
&lt;th>周四&lt;/th>
&lt;th>周五&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>第一节课&lt;/td>
&lt;td>8:50-9:35&lt;/td>
&lt;td rowspan="2">项目管理概论 (13-16周) 余建军 F3-b111&lt;/td>
&lt;td rowspan="2">自然辩证(3-10周) 刘金玉 F3-b101&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="3">微电子器件物理(3-17周) 李斌 周绍林 F3-b310&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第二节课&lt;/td>
&lt;td>9:40-10:25&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第三节课&lt;/td>
&lt;td>10:40-11:25&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="2">新时代中特 郭厚佳 F3-d117&lt;/td>
&lt;td rowspan="2">宽禁带半导体（3-17周） 耿魁伟 F3-b209&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第四节课&lt;/td>
&lt;td>11:30-12:15&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>午饭&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第五节课&lt;/td>
&lt;td>14:00-14:45&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="4">电路分析与综合(3-14周) 余卫宇 F3-b203 &lt;br> 可靠性(7-17周) 李斌 F3-a512&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第六节课&lt;/td>
&lt;td>14:50-15:35&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第七节课&lt;/td>
&lt;td>15:45-16:30&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第八节课&lt;/td>
&lt;td>16:35-17:20&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>晚饭&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第九节课&lt;/td>
&lt;td>19:00-19:45&lt;/td>
&lt;td rowspan="3">论文写作与学术规范（9-12周3节 13-14周2节） 贾奎 赵建 D1-b110 C1-b115&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第十节课&lt;/td>
&lt;td>19:55-20:40&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第十一节课&lt;/td>
&lt;td>20:50-21:35&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="下学期">下学期&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>节次&lt;/th>
&lt;th>时间&lt;/th>
&lt;th>周一&lt;/th>
&lt;th>周二&lt;/th>
&lt;th>周三&lt;/th>
&lt;th>周四&lt;/th>
&lt;th>周五&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>第一节课&lt;/td>
&lt;td>8:50-9:35&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="3"> 数理统计理论与方法（3-20周）朱锋锋 F3-b101&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第二节课&lt;/td>
&lt;td>9:40-10:25&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第三节课&lt;/td>
&lt;td>10:40-11:25&lt;/td>
&lt;td rowspan="2">电子系统EDA设计（3-18周）贺小勇 F3-a313&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第四节课&lt;/td>
&lt;td>11:30-12:15&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>午饭&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第五节课&lt;/td>
&lt;td>14:00-14:45&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="2">模拟集成电路分析与设计（3-18周）秦培 F3-c403&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第六节课&lt;/td>
&lt;td>14:50-15:35&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第七节课&lt;/td>
&lt;td>15:45-16:30&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="2">工程伦理（3-10周）郭忆薇 F3-b208&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第八节课&lt;/td>
&lt;td>16:35-17:20&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>晚饭&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第九节课&lt;/td>
&lt;td>19:00-19:45&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="2">射频集成电路理论与设计（3-18周）陈志坚 F3-a512&lt;/td>
&lt;td>&lt;/td>
&lt;td rowspan="2">数字集成电路理论与设计（3-18周）姚恩义 F3-a512&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第十节课&lt;/td>
&lt;td>19:55-20:40&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>第十一节课&lt;/td>
&lt;td>20:50-21:35&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="培养方案">培养方案&lt;/h2>
&lt;ul>
&lt;li>专业学位硕士研究生主要采取课程学习、专业实践和学位（毕业）论文相结合的方式进行培养。&lt;strong>专业实践累计时间一般应不少于6个月&lt;/strong>（不具有2年企业工作经历的工程类专业学位硕士研究生专业实践时间应不少于1年）。&lt;strong>学位论文一般不少于1年。&lt;/strong>&lt;/li>
&lt;li>专业学位研究生培养实行&lt;strong>校内外双导师制&lt;/strong>。以校内导师指导为主，校外导师参与实践过程、项目研究、课程与论文等多个环节的指导工作。专业学位研究生应在导师指导下于入学后两周内指定出培养计划。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
&lt;li>总学分不少于32学分
&lt;ul>
&lt;li>课程学习不少于26学分
&lt;ul>
&lt;li>公共必修课不少于10学分&lt;/li>
&lt;li>专业基础课不少于12学分&lt;/li>
&lt;li>专业选修课不少于3学分&lt;/li>
&lt;li>公共选修课不少于1学分&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>校外专业实践6学分&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>除满足学校规定的最低要求外，符合下列标准之一可申请答辩：&lt;/p>
&lt;ol>
&lt;li>发表SCI/EI源刊论文一篇或EI检索的国际会议论文一篇；&lt;/li>
&lt;li>受理国家发明专利一项，或授权国家实用新型专利一项，或申请PCT一项；&lt;/li>
&lt;li>获得本学科主要竞赛（挑战杯、全国大学生电子设计竞赛、中国研究生电子设计竞赛、中国研究生创“芯”大赛、中国互联网+创新创业大赛、全国大学生集成电路创新创业大赛，集成电路EDA设计精英挑战赛）国家级二等奖及以上或部省级一等奖项（获奖团队成员），或者获得省部级奖或者国家级行业学会（中国通信学会、中国电子学会等）科技奖一项（成员）。&lt;/li>
&lt;/ol>
&lt;h2 id="其他">其他&lt;/h2>
&lt;p>实验室： B1e-305&lt;/p></description></item><item><title>Bandgap</title><link>https://todd.scuteee.com/ppt/%E7%BB%84%E4%BC%9A/20220908-bandgap.md/</link><pubDate>Thu, 08 Sep 2022 15:47:20 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E7%BB%84%E4%BC%9A/20220908-bandgap.md/</guid><description>
&lt;style>
.tworow {
display: grid;
grid-template-rows: 1fr 1fr;
grid-gap: 2px;
text-align: center;
}
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 2px;
justify-items: center;
text-align: center;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>20220908 汇报&lt;/h3>
&lt;h5>周镇峰&lt;/h5>
&lt;/section>
&lt;section>
&lt;ul style="font-size: 32px;">
&lt;ul>
&lt;li>设计bandgap&lt;/li>
&lt;li>了解PGA&lt;/li>
&lt;/ul>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;div class="tworow">
&lt;div class="twocolumn">
&lt;img style="object-fit: cover;max-height: 30vh;"
src="images/3.0V-Vout-Temp.png">
&lt;img style="object-fit: cover;max-height: 30vh;"
src="images/3.0V幅频特性.png">
&lt;/div>
&lt;div>
&lt;table style="font-size: 26px;">
&lt;thead>
&lt;tr>
&lt;th>VDD&lt;/th>
&lt;th>温度系数(ppm)&lt;/th>
&lt;th>电源抑制比(dB)&lt;/th>
&lt;th>-20~120℃平均输出电压&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>2.7&lt;/td>
&lt;td>5.965&lt;/td>
&lt;td>50.16&lt;/td>
&lt;td>1.500&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.85&lt;/td>
&lt;td>5.781&lt;/td>
&lt;td>51.61&lt;/td>
&lt;td>1.500&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>6.436&lt;/td>
&lt;td>54.4822&lt;/td>
&lt;td>1.501&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.15&lt;/td>
&lt;td>6.556&lt;/td>
&lt;td>59.373&lt;/td>
&lt;td>1.501&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.3&lt;/td>
&lt;td>6.490&lt;/td>
&lt;td>86.7191&lt;/td>
&lt;td>1.501&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h5>应用于Sensor AFE的低噪声PGA设计&lt;/h5>
&lt;p>设计一款低噪声的PGA，该电路用于采集传感器信号的模拟前端。&lt;/p>
&lt;img src="images/艾为杯题目.png">
&lt;p>低噪声、低失调、高速度、线性度、抗干扰&lt;/p>
&lt;/section>
&lt;section>
&lt;img src="images/VGA.png">
&lt;p>改变$g_m$或改变 $R_O$&lt;/p>
&lt;/section>
&lt;!-- &lt;section>
&lt;img src="images/PGA.png">
&lt;p style="font-size: 32;">
$$
[\text{s2=1;s2=0;}]A_{v1} = 1+2\times \frac
{15R}{2R}=16
$$
$$
[\text{s2=0;s2=1;}]A_{v1} = 1+2\times \frac
{14R}{4R}=8
$$
&lt;/p>
&lt;/section>
&lt;section>
&lt;img src="images/switched_resistor.png">
&lt;p style="font-size: 32;">
MOS管工作在线性区
&lt;/p>
&lt;p style="font-size: 16;">Cheng-Chung Hsu, &amp; Jieh-Tsorng Wu. (2003). A highly linear 125-mhz cmos
switched-resistor programmable-gain amplifier. IEEE Journal of Solid-State Circuits, 38(10), 1663–1670.
&lt;/p>
&lt;/section>
&lt;section>
&lt;img src="images/PGA2.png" width="50%">
&lt;p style="font-size: 16;">Kang, S.-Y., Ryu, S.-T., &amp; Park, C.-S. (2012). A Precise Decibel-Linear Programmable Gain Amplifier Using a Constant Current-Density Function. IEEE Transactions on Microwave Theory and Techniques, 60(9), 2843–2850.
&lt;/p>
&lt;/section> -->
&lt;section>
未来工作：尝试设计一个低位数的PGA
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>在示例的基础上进行设计</title><link>https://todd.scuteee.com/analogic/bandgap/design-0/</link><pubDate>Wed, 07 Sep 2022 15:09:27 +0800</pubDate><guid>https://todd.scuteee.com/analogic/bandgap/design-0/</guid><description>&lt;p>改动之处：&lt;/p>
&lt;ul>
&lt;li>对 PTAT、CTAT 相关电阻进行了微调，使得温度系数小于 8ppm&lt;/li>
&lt;li>对输出电阻进行了调整，使得输出等于 1.5V&lt;/li>
&lt;li>在 VDD 和 GND 之间增加电容，使得 PSRR 大于 50dB&lt;/li>
&lt;/ul>
&lt;p>3.0V时的输出-温度图如下：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/bandgap/design-0/3.0V-Vout-Temp.png"
width="727"
height="842"
srcset="https://todd.scuteee.com/analogic/bandgap/design-0/3.0V-Vout-Temp_hu16e757ad2fffa66c794005da13173d54_210292_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/bandgap/design-0/3.0V-Vout-Temp_hu16e757ad2fffa66c794005da13173d54_210292_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3.0V时的输出-温度图"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="207px"
>&lt;/p>
&lt;p>幅频特性如图：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analogic/bandgap/design-0/3.0V%E5%B9%85%E9%A2%91%E7%89%B9%E6%80%A7.png"
width="635"
height="816"
srcset="https://todd.scuteee.com/analogic/bandgap/design-0/3.0V%E5%B9%85%E9%A2%91%E7%89%B9%E6%80%A7_hucf9807a966e4d320bb481877c4d6ac03_246183_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analogic/bandgap/design-0/3.0V%E5%B9%85%E9%A2%91%E7%89%B9%E6%80%A7_hucf9807a966e4d320bb481877c4d6ac03_246183_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3.0V时的幅频特性"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="186px"
>&lt;/p>
&lt;p>其余测试结果如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>VDD&lt;/th>
&lt;th>温度系数ppm&lt;/th>
&lt;th>电源抑制比（dB）&lt;/th>
&lt;th>-20~120℃平均输出电压&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>2.7&lt;/td>
&lt;td>5.965&lt;/td>
&lt;td>49.16&lt;/td>
&lt;td>1.500&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.85&lt;/td>
&lt;td>5.781&lt;/td>
&lt;td>51.61&lt;/td>
&lt;td>1.500&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>6.436&lt;/td>
&lt;td>54.4822&lt;/td>
&lt;td>1.501&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.15&lt;/td>
&lt;td>6.556&lt;/td>
&lt;td>59.373&lt;/td>
&lt;td>1.501&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.3&lt;/td>
&lt;td>6.490&lt;/td>
&lt;td>86.7191&lt;/td>
&lt;td>1.501&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>参考资料</title><link>https://todd.scuteee.com/analogic/bandgap/reference/</link><pubDate>Wed, 07 Sep 2022 10:26:32 +0800</pubDate><guid>https://todd.scuteee.com/analogic/bandgap/reference/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="https://sci-hub.se/10.1109/EDSSC.2011.6117640" target="_blank" rel="noopener"
>Dey, A., &amp;amp; Bhattacharyya, T. K. (2011). A CMOS bandgap reference with high PSRR and improved temperature stability for system-on-chip applications. 2011 IEEE International Conference of Electron Devices and Solid-State Circuits.&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://youtu.be/2C10QosezqQ" target="_blank" rel="noopener"
>Reference Circuits&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://aip.scitation.org/doi/pdf/10.1063/1.4977349" target="_blank" rel="noopener"
>High PSRR Bandgap Reference Used in Boost Circuit&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>评价标准</title><link>https://todd.scuteee.com/analogic/bandgap/valuation/</link><pubDate>Mon, 05 Sep 2022 17:32:13 +0800</pubDate><guid>https://todd.scuteee.com/analogic/bandgap/valuation/</guid><description>&lt;h2 id="温漂系数">温漂系数&lt;/h2>
&lt;p>衡量输出电压随温度变化的性能参数。单位为 ${\rm ppm/{}^\circ C}$，$1{\rm ppm}=10^{-6}$&lt;/p>
&lt;p>$$
T=\frac{V_{\max} - V_{\min}}{V_{\rm mean}(T_{\max}-T_{\min})}\times 10^6 {\rm ppm/{}^\circ C}
$$&lt;/p>
&lt;p>视频：&lt;a class="link" href="https://www.bilibili.com/video/BV12i4y1T7hK/" target="_blank" rel="noopener"
>利用virtuso的calculator工具计算bandgap电路的温度系数&lt;/a>，对应下面的公式（式中的140是温度范围）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">(ymax(VS(&amp;#34;/OUT1&amp;#34;))-ymin(VS(&amp;#34;/OUT1&amp;#34;)))/(average(VS(&amp;#34;/OUT1&amp;#34;))*140)*1000000
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="输出噪声">输出噪声&lt;/h2>
&lt;p>输出的噪声大小。&lt;/p>
&lt;h2 id="功耗">功耗&lt;/h2>
&lt;p>所消耗的电流大小&lt;/p>
&lt;h2 id="电源抑制">电源抑制&lt;/h2>
&lt;p>对电源线上噪声抑制能力的重要参数。通常用 PSRR（Power supply rejection ratio）电源抑制比来衡量，计算公式为：&lt;/p>
&lt;p>$$
{\rm PSRR}=20\lg\frac{V_{I, pp}}{V_{O,pp}}
$$&lt;/p>
&lt;p>$V_{I, pp},V_{O,pp}$ 为输入、输出纹波的峰峰值。&lt;/p></description></item><item><title>要求</title><link>https://todd.scuteee.com/analogic/bandgap/requirement/</link><pubDate>Mon, 05 Sep 2022 17:01:21 +0800</pubDate><guid>https://todd.scuteee.com/analogic/bandgap/requirement/</guid><description>&lt;p>任务：设计一款带隙基准源（bandgap），为其他电路提供温度系数和电源抑制比较好的参考电压。&lt;/p>
&lt;p>自己查参考资料并完成&lt;strong>电路设计&lt;/strong>、&lt;strong>电路仿真&lt;/strong>、&lt;strong>版图设计&lt;/strong>、&lt;strong>DRC&lt;/strong>、&lt;strong>LVS&lt;/strong>、&lt;strong>PEX&lt;/strong> 及 &lt;strong>后仿真&lt;/strong>，提交报告。报告中要包括电路模块组成图（如果有的话）、电路图（含元件参数）、仿真图、指标测试图、版图、DRC、LVS、PEX报告及后仿真图。&lt;/p>
&lt;p>模拟集成电路设计流程请参考文件SCUT_ICC_train_2021模拟流程；linux基本命令请参考scut_ICC_train2020_linux_basic。&lt;/p>
&lt;p>指标要求（后仿真结果）：&lt;/p>
&lt;ul>
&lt;li>采用0.18µm 1P6M CMOS工艺；&lt;/li>
&lt;li>电源电压：3.0V；&lt;/li>
&lt;li>工作电源电压：2.7V~3.3V；&lt;/li>
&lt;li>工作温度：-20 ℃~120 ℃；&lt;/li>
&lt;li>输出电压1.5V&lt;/li>
&lt;li>温度系数小于或等于8ppm；&lt;/li>
&lt;li>PSRR（电源抑制比）&amp;lt; -50dB@1kHz；-45.727&lt;/li>
&lt;li>版图总面积小于280μm×200μm；&lt;/li>
&lt;/ul>
&lt;p>注1：工作电源电压变化这一项需考虑1）输出电压随工作电源电压变化的直流扫描特性；2）取最低点、1/4点、中间点、3/4点和最高点五个电源电压点（比如本工艺就取2.7V、2.85V、3.0V、3.15V、3.3V），仿真不同的电源电压对温度系数和PSRR的影响。&lt;/p>
&lt;p>注2：如用其他工艺库进行设计的话，工作电源电压波动范围为正负10%，输出电压为电源电压的50%（比如0.18μm工艺采用电源电压为1.8V的话，那考虑工作电源电压波动范围为1.62V~1.98V，五个电源电压点为1.62V，1.71V，1.8V，1.89V，1.98V，带隙基准输出电压为0.9V，依次类推）。&lt;/p></description></item><item><title>Multiple-Diode Circuits</title><link>https://todd.scuteee.com/analog/ta/chapter02/2.4/</link><pubDate>Fri, 02 Sep 2022 16:25:34 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter02/2.4/</guid><description/></item><item><title>Clipper And Clamper Circuits</title><link>https://todd.scuteee.com/analog/ta/chapter02/2.3/</link><pubDate>Fri, 02 Sep 2022 16:13:14 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter02/2.3/</guid><description>&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;h3 id="clippers">Clippers&lt;/h3>
&lt;p>$$
v_O =
\begin{cases}
- v_O &amp;amp; v_I \le \dfrac{v_O^-}{A_v}\
\dfrac{v_O}{A_v}v_I &amp;amp; \dfrac{v_O^-}{A_v} \le v_I \lt \dfrac{v_O^+}{A_v}\
v_O &amp;amp; v_I \ge \dfrac{v_O^+}{A_v}
\end{cases}
$$&lt;/p>
&lt;h3 id="clampers">Clampers&lt;/h3></description></item><item><title>Chapter 2 solution</title><link>https://todd.scuteee.com/analog/ta/chapter02/solution/</link><pubDate>Thu, 01 Sep 2022 22:56:12 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter02/solution/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>请不要抄答案！被助教发现的当次作业记为0分！&lt;/strong>&lt;/p>
&lt;p>&lt;strong>以下为简略过程，只列出公式和结果。考试要写详细一点。&lt;/strong>&lt;/p>
&lt;p>&lt;strong>有问题请向助教反馈。&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>章节&lt;/th>
&lt;th>必做&lt;/th>
&lt;th>选做&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>2.1~2.3&lt;/td>
&lt;td>2.2, 2.8, 2.16, 2.26, 2.32, 2.36&lt;/td>
&lt;td>2.1,2.6, 2.9, 2.19,2.30&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.4~2.6&lt;/td>
&lt;td>2.44, 2.47, 2.50, 2.64, 2.69, 2.72&lt;/td>
&lt;td>2.61, 2.66&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="2123">2.1~2.3&lt;/h2>
&lt;h3 id="22">2.2&lt;/h3>
&lt;p>Tranform the given equation, we have:&lt;/p>
&lt;p>$$
\frac{v_O}{R} = I_S \exp ( \frac{v_I - v_O}{V_T})
$$&lt;/p>
&lt;p>i.e. $I_R = I_D$. It&amp;rsquo;s corret according to KCL.&lt;/p>
&lt;h2 id="28">2.8&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>(a) $v_{S,{\rm peak}}=V_M+2*v_\gamma=13.4{\rm V}$&lt;/p>
&lt;p>$v_{S,{\rm rms}}=v_{S,{\rm peak}}/\sqrt{2}=9.48{\rm V}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(b) $V_r = \dfrac{V_M}{2fRC}$, so $C=2.22 {\rm mF}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(c) $i_{D, {\rm peak}} = \dfrac{V_M}{R} \l( 1+\pi \sqrt{\dfrac{2V_M}{V_r}} \r) = 2.328{\rm A}$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="216">2.16&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>(a) $v_{I,{\rm peak}}/v_{S,{\rm peak}}=\dfrac{v_I \cdot \sqrt{2}}{v_O+2\cdot v_\gamma}=16$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(b) &amp;ldquo;Nominal&amp;rdquo; 理解为标定，此处当作最大允许的电流。&lt;/p>
&lt;p>$R=V_M/I_M=90{\rm \Omega}$&lt;/p>
&lt;p>$V_r=\dfrac{V_M}{2f R C}$&lt;/p>
&lt;p>$C=4.167{\rm mF}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(c) $i_{D, {\rm peak}} = \dfrac{V_M}{R} \l( 1+\pi \sqrt{\dfrac{2V_M}{V_r}} \r) = 3.080{\rm A}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(d) $i_D({\rm avg})=\dfrac{1}{\pi} \sqrt{\dfrac{2V_r}{V_M}} \dfrac{V_M}{R} \l( 1+\dfrac{\pi}{2} \sqrt{\dfrac{2V_M}{V_r}} \r)=0.1067{\rm A}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(e) ${\rm PIV} = v_S(\max)-V_r=9.8{\rm V}$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="226">2.26&lt;/h2>
&lt;p>$$
I_Z=\frac{V_{PS}-V_Z}{R_i}-I_L
$$&lt;/p>
&lt;p>$$
I_Z+\frac{V_{ZO}}{R_i}+\frac{I_Zr_Z}{R_i}=\frac{V_{PS}}{R_i}-I_L
$$&lt;/p>
&lt;p>$$
I_Z=\l[ \frac{V_{PS}-V_{ZO}}{R_i}-I_L \r] \big/ \l( 1+\frac{r_Z}{R_i} \r)
$$&lt;/p>
&lt;p>Because $r_Z/R_i&amp;lt;3/500=0.06\ll 1$, $I_Z\approx \l[ \dfrac{V_{PS}-V_{ZO}}{R_i}-I_L \r]$&lt;/p>
&lt;hr>
&lt;p>The &amp;ldquo;percent regulation&amp;rdquo; is the same as load regulation.&lt;/p>
&lt;p>$$
\begin{aligned}
\text{% Regulation}&amp;amp;=\frac{v_{L,\text{no load}}-v_{L,\text{full load}}}{v_{L, \text{full load}}}\
&amp;amp;=\frac{v_L(\max)-v_L(\min)}{v_L(\min)}\
&amp;amp;=\frac{[V_{ZO}+I_Z(\max)r_Z]-[V_{ZO}+I_Z(\min)r_Z]}{[V_{ZO}+I_Z(\min)r_Z]}\
&amp;amp;=\frac{[I_Z(\max)-I_Z(\min)]r_Z}{V_{ZO}+I_Z(\min)r_Z}\
&amp;amp;\approx \frac{[I_Z(\max)-I_Z(\min)]r_Z}{V_{ZO}}\
&amp;amp;=5%
\end{aligned}
$$&lt;/p>
&lt;p>so $I_Z(\max)-I_Z(\min)=0.1{\rm A}$&lt;/p>
&lt;hr>
&lt;p>$I_L(\max)\approx \dfrac{v_{ZO}}{R_L(\min)}=\dfrac{6}{500}=0.012{\rm A}$&lt;/p>
&lt;p>$I_L(\min)=\dfrac{v_{ZO}}{R_L(\max)}=\dfrac{6}{1000}=0.006{\rm A}$&lt;/p>
&lt;hr>
&lt;p>From $R_i=\dfrac{V_{PS}(\min)-V_{ZO}}{I_Z(\min)+I_L(\max)}$, we have&lt;/p>
&lt;p>$$
280 = \frac{15-6}{I_Z(\min)+0.012}
$$&lt;/p>
&lt;p>So $I_Z(\min)=20{\rm mA}$, $I_Z(\max)=0.12{\rm A}$&lt;/p>
&lt;p>From $R_i=\dfrac{V_{PS}(\max)-V_{ZO}}{I_Z(\max)+I_L(\min)}$&lt;/p>
&lt;p>$$
280=\frac{V_{PS}(\max)-6}{I_Z(\max)+0.006}
$$&lt;/p>
&lt;p>So $V_{PS}(\max)=41.3{\rm V}$&lt;/p>
&lt;h3 id="232">2.32&lt;/h3>
&lt;p>if the diode is turned off, $v_O=v_I$ and the voltage between of 1k and 2k resistances is $5{\rm V}$, so if the $v_I&amp;gt;5.7{\rm V}$, the diode is turn on.&lt;/p>
&lt;p>We can treat diode as a voltage source, so by using the superposition theorem (叠加定理), we get&lt;/p>
&lt;p>$v_O=\dfrac{2}{5}v_I+\dfrac{1}{5}\cdot 15+\dfrac{3}{5}\cdot 0.7 = \dfrac{2}{5}v_I+3.42 {\rm (V)}$&lt;/p>
&lt;p>$i_D=\dfrac{v_I-v_O}{1}=\dfrac{0.6v_I-3.42}{1} {\rm (mA)}$&lt;/p>
&lt;h3 id="236">2.36&lt;/h3>
&lt;ul>
&lt;li>(a) $V_\gamma=0$
&lt;ul>
&lt;li>shift up 2V, and keep the negative part&lt;/li>
&lt;li>when the $v_I&amp;lt;5$, $v_O=5{\rm V}$; when the $v_I&amp;gt;5{\rm V}$, $v_O=v_I$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>(b) $V_\gamma=0.6$
&lt;ul>
&lt;li>shift up 2.6V, and keep the negative part&lt;/li>
&lt;li>when the $v_I&amp;lt;5.6$, $v_O=5{\rm V}$; when the $v_I&amp;gt;5.6{\rm V}$, $v_O=v_I-0.6$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="2426">2.4~2.6&lt;/h2>
&lt;h3 id="244">2.44&lt;/h3>
&lt;ul>
&lt;li>(a) D1 is on, D2 is off. $I_{D1}=\frac{10-0.6}{0.5+9.5}=0.94{\rm mA}$, $I_{D2}=0$. $V_O=8.93{\rm V}$&lt;/li>
&lt;li>(b) D1 is on, D2 is off. $I_{D1}=0.44{\rm mA}$, $V_O=4.18{\rm V}$&lt;/li>
&lt;li>(c) Assume both diode is on, using the superposition theorem (叠加定理), $V_1$ and D1 will generate 4.5795V, which greater then $5-0.6=4.4{\rm V}$ means D2 is off. So (c) is same as (a)&lt;/li>
&lt;li>(d) From (c), $I_{D1}=\frac{4.5795}{9.5}=0.48205{\rm A}$, $V_O=4.579\times 2 = 9.159{\rm V}$&lt;/li>
&lt;/ul>
&lt;h3 id="247">2.47&lt;/h3>
&lt;p>Just assume the diode is on and calculate the voltage.&lt;/p>
&lt;ul>
&lt;li>(a) $V_1=4.4{\rm V}$, $V_2=-0.6{\rm V}$
&lt;ul>
&lt;li>$R_1=\frac{10-0.6-4.4}{0.2}=25{\rm k\Omega}$&lt;/li>
&lt;li>$R_2=\frac{4.4-(-0.6)}{0.5}=10{\rm k\Omega}$&lt;/li>
&lt;li>$R_3=\frac{-0.6-(-0.5)}{1}=4.4{\rm k\Omega}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>(b)
&lt;ul>
&lt;li>$V_1=4.4{\rm V}$&lt;/li>
&lt;li>$V_2=-0.6{\rm V}$&lt;/li>
&lt;li>$I_{D1}=0.5{\rm mA}$&lt;/li>
&lt;li>$I_{D2}=0.75{\rm mA}$&lt;/li>
&lt;li>$I_{D3}=0.75{\rm mA}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>(c)
&lt;ul>
&lt;li>$V_1=6.07{\rm V}$&lt;/li>
&lt;li>$V_2=-0.6{\rm V}$&lt;/li>
&lt;li>$I_{D1}=1.11{\rm mA}$&lt;/li>
&lt;li>$I_{D2}=0{\rm mA}$&lt;/li>
&lt;li>$I_{D3}=0.65{\rm mA}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>(d)
&lt;ul>
&lt;li>$V_1=4.4{\rm V}$&lt;/li>
&lt;li>$V_2=1.26{\rm V}$&lt;/li>
&lt;li>$I_{D1}=0.833{\rm mA}$&lt;/li>
&lt;li>$I_{D2}=0.211{\rm mA}$&lt;/li>
&lt;li>$I_{D3}=0{\rm mA}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="250">2.50&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>(a) When D1 and D2 is off, $v_O=v_{D2}=\frac{500}{5k+500}v_I=0.09091v_I$, $v_{D1}=\frac{5k}{5k+500}v_I=0.9091v_I$&lt;/p>
&lt;p>If $v_{D1}&amp;gt;0.6{\rm V}$, i.e. $v_I&amp;gt;0.66{\rm V}$, D1 is on. $v_O=v_{D2}=\frac{500}{5k|5k+500}v_I-0.6\frac{5k|500}{5k|500+5k}=0.167v_I-0.05$&lt;/p>
&lt;p>If $v_{D2}&amp;gt;0.6{\rm V}$, i.e. $v_I&amp;gt;3.892{\rm V}$, D2 is on. $v_O=\frac{500|500}{5k|5k+500|500}v_I-0.6\frac{5k|500|500}{5k|500|500+5k}+0.6\frac{5k|5k|500}{5k|5k|500+500}=0.09091v_I-0.02727+0.2727=0.09091v_I+0.2454$&lt;/p>
&lt;p>So $v_O(-5)=-0.455{\rm V}$, $v_O(5)=0.7{\rm V}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(b) If both D1,D2 is off, $v_O=0.5v_I$, $v_{D1}=0.5v_I$, $v_{D2}=-0.5v_I$&lt;/p>
&lt;p>If D1 is on, $v_{D1}&amp;gt;0.6$, $v_I&amp;gt;1.2$, $v_O=v_I-0.6$&lt;/p>
&lt;p>If D2 is on, $v_{D2}&amp;gt;0.6$, $v_I&amp;lt;-1.2$, $v_O=-0.6$&lt;/p>
&lt;p>So $v_O(-5)=-0.6{\rm V}$, $v_O(5)=4.4{\rm V}$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="264">2.64&lt;/h3>
&lt;p>$V_{CC}-V_I=IR+V_\gamma+Ir_f$&lt;/p>
&lt;p>$10-0.2=0.012R+1.5+0.012\times 10$&lt;/p>
&lt;p>$R=681.67{\rm \Omega}$&lt;/p>
&lt;h3 id="269">2.69&lt;/h3>
&lt;p>$V_{\rm out} \approx 15.5$&lt;/p>
&lt;h3 id="272">2.72&lt;/h3>
&lt;p>(a)&lt;/p>
&lt;p>Diode 1: 1.43mA 0.66v&lt;/p>
&lt;p>Diode 2: -1.53pA -1.516V&lt;/p>
&lt;p>Diode 3: 0.870mA 651.5mV&lt;/p>
&lt;p>Va: -2.17V&lt;/p>
&lt;p>Vb： -0.651V&lt;/p>
&lt;p>(b)&lt;/p>
&lt;p>Diode 1: 1.20mA 0.656V&lt;/p>
&lt;p>Diode 2: -3.9pA -3.885V&lt;/p>
&lt;p>Diode 3: 2.16mA 0.675V&lt;/p>
&lt;p>Va: -4.56V&lt;/p>
&lt;p>Vb： -0.675V&lt;/p></description></item><item><title>Zener Diode Circuits</title><link>https://todd.scuteee.com/analog/ta/chapter02/2.2/</link><pubDate>Sat, 27 Aug 2022 20:40:57 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter02/2.2/</guid><description>&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;h3 id="voltage-regulator">Voltage Regulator&lt;/h3>
&lt;p>$I_Z=\frac{V_{PS}-V_Z}{R_i}-I_L$&lt;/p>
&lt;ol>
&lt;li>
&lt;p>$I_Z$ is minimum, when $V_{PS}=V_{PS}(\max)$ and $I_L=I_L(\min)$. Therefore,&lt;/p>
&lt;p>$$
R_i = \frac{V_{PS}(\min)-V_Z}{I_Z(\min)+I_L(\max)}
$$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$I_Z$ is maximum when $V_{PS}=V_{PS}(\min)$ and $I_L=I_L(\max)$. Therefore,&lt;/p>
&lt;p>$$
R_i = \frac{V_{PS}(\max)-V_Z}{I_Z(\max)+I_L(\min)}
$$&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>From 1. and 2., we have&lt;/p>
&lt;p>$$
\frac{V_{PS}(\min)-V_Z}{I_Z(\min)+I_L(\max)} = \frac{V_{PS}(\max)-V_Z}{I_Z(\max)+I_L(\min)}
$$&lt;/p>
&lt;p>Given the range of input voltage $V_{PS}(\min)$ and $V_{PS}(\max)$, and the output load current $I_L(\min)$ and $I_L(\max)$, we can determine the range of $I_Z$.&lt;/p>
&lt;hr>
&lt;p>Figures of merit:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>source regulation $=\dfrac{\Delta v_L}{\Delta v_{PS}}\times 100%$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>load regulation $=\dfrac{v_{L,\text{no load}}-v_{L,\text{full load}}}{v_{L, \text{full load}}}$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>The smaller, the better (Ideally, zero).&lt;/p>
&lt;blockquote>
&lt;p>Note that $v_{L,\text{no load}}$ means no load current, and $v_{L,\text{full load}}$ means maximum load current. So $v_{L,\text{full load}}$ does not correspond to $R_L(\max)$ but $R_L(\min)$&lt;/p>
&lt;/blockquote></description></item><item><title>Recifier Circuits</title><link>https://todd.scuteee.com/analog/ta/chapter02/2.1/</link><pubDate>Fri, 26 Aug 2022 17:18:02 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter02/2.1/</guid><description>&lt;h2 id="terms">Terms&lt;/h2>
&lt;ul>
&lt;li>A power supply include
&lt;ol>
&lt;li>AC voltage source&lt;/li>
&lt;li>Power transformer&lt;/li>
&lt;li>Diode rectifier&lt;/li>
&lt;li>Filter&lt;/li>
&lt;li>Voltage regulator&lt;/li>
&lt;li>Load&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Figures of merit of rectifier
&lt;ul>
&lt;li>transformer turns ratio $v_I/v_S=N_1/N_2$&lt;/li>
&lt;li>Percent time&lt;/li>
&lt;li>Peak inverse voltage&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="circuits--formulas">Circuits &amp;amp; Formulas&lt;/h2>
&lt;h3 id="half-wave-rectification">Half-Wave Rectification&lt;/h3>
&lt;p>$$
v_O =
\begin{cases}
0 &amp;amp; v_S \leq V_{\gamma}\
v_S - V_{\gamma} &amp;amp; v_S \gt V_{\gamma}
\end{cases}
$$&lt;/p>
&lt;h3 id="full-wave-rectification">Full-Wave Rectification&lt;/h3>
&lt;ul>
&lt;li>center-trapped transformer&lt;/li>
&lt;li>bridge rectifier&lt;/li>
&lt;/ul>
&lt;h3 id="filter">Filter&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>charge period: $v_O \alpha \sin \omega t$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>discharge period: $v_O \alpha e^{-t/RV}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ripple voltage:&lt;/p>
&lt;p>$$
V_r = V_M \l( 1-e^{-T&amp;rsquo;/RC} \r) \approx V_M \dfrac{T_P}{RC} = \dfrac{V_M}{2fRC}
$$&lt;/p>
&lt;p>$V_M$ is the peak voltage of output, $T_P$ is the time between two peak (&lt;strong>half of the input period&lt;/strong>).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$i_D$&lt;/p>
&lt;p>$$
i_D = i_C + i_R = C\frac{\dif v_O}{\dif t} + \frac{v_O}{R}
$$&lt;/p>
&lt;p>where $v_O = V_M \cos \omega t$, $V_M$ is the peak voltage of output.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Firstly, we solve $i_C$.&lt;/p>
&lt;p>The diode conduction time is small, i.e. for a small $\omega t$ near peak, $v_O \approx V_M \l[ 1-\frac{1}{2} (\omega t)^2 \r]$, so&lt;/p>
&lt;p>$$
i_C = C\frac{\dif v_O}{\dif t}=-\omega^2 C V_M t
$$&lt;/p>
&lt;p>At $t=0$, $i_C=0$. At $t=-\Delta t$, $i_C=i_{C,{\rm peak}} = \omega^2CV_M\Delta t$&lt;/p>
&lt;p>By solving the equation of $V_L$:&lt;/p>
&lt;p>$$
V_L = V_O(-\Delta t) = V_M \l[ 1-\frac{1}{2} (\omega \Delta t)^2 \r]
$$&lt;/p>
&lt;p>$\omega\Delta t = \sqrt{\dfrac{2V_r}{V_M}}$&lt;/p>
&lt;p>By solving the equation of $V_r$:&lt;/p>
&lt;p>$$
V_r = \dfrac{V_M}{2fRC}
$$&lt;/p>
&lt;p>$\omega=\dfrac{\pi V_M}{V_r RC}$&lt;/p>
&lt;p>Therefore, $i_{C, {\rm peak}} = \dfrac{\pi V_M}{V_r RC}\cdot CV_M \cdot \sqrt{\dfrac{2V_r}{V_M}}$, or&lt;/p>
&lt;p>$$
i_{C, {\rm peak}} = \pi \dfrac{V_M}{R} \sqrt{\dfrac{2V_M}{V_r}}
$$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Secondly, we solve $i_R$. We neglecting the ripple voltage, $i_R \approx \dfrac{V_M}{R}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Combining $i_C$ and $i_R$, we have:&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>$$
i_{D, {\rm peak}} = \dfrac{V_M}{R} \l( 1+\pi \sqrt{\dfrac{2V_M}{V_r}} \r)
$$&lt;/p>
&lt;p>The average $i_D$ in $\Delta t$ is&lt;/p>
&lt;p>$$
i_{D, {\rm avg}} = \dfrac{V_M}{R} \l( 1+\dfrac{\pi}{2} \sqrt{\dfrac{2V_M}{V_r}} \r)
$$&lt;/p>
&lt;p>The average $i_D$ in period is (note: $T$ is defined as half of the input voltage period here.)&lt;/p>
&lt;p>$$
i_D({\rm avg}) = i_{D,{\rm avg}} \frac{\Delta t}{T} = i_{D,{\rm avg}} \frac{\Delta t}{1/(2f)}=i_{D,{\rm avg}} \frac{\omega\Delta t}{\pi}\
=\frac{1}{\pi} \sqrt{\dfrac{2V_r}{V_M}} \dfrac{V_M}{R} \l( 1+\dfrac{\pi}{2} \sqrt{\dfrac{2V_M}{V_r}} \r)
$$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="detectors">Detectors&lt;/h3>
&lt;h3 id="voltage-doubler-circuit">Voltage Doubler Circuit&lt;/h3>
&lt;p>$C_1,C_2$ both are charged to $V_M$, making the voltage across $R_L$ is $2V_M$&lt;/p></description></item><item><title>1.5-1.6 Other</title><link>https://todd.scuteee.com/analog/ta/chapter01/1.5-1.6/</link><pubDate>Wed, 24 Aug 2022 22:24:31 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter01/1.5-1.6/</guid><description>&lt;h2 id="terms">Terms&lt;/h2>
&lt;ul>
&lt;li>Solar Cell&lt;/li>
&lt;li>Photodiode&lt;/li>
&lt;li>LED
&lt;ul>
&lt;li>direct bandgap material (GaAs) - can emit photon&lt;/li>
&lt;li>indirect bandgap material (Si)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Schottky Barrier Diode/ Schottky Diode = metal + n-type semiconductor&lt;/li>
&lt;li>Zener Diode&lt;/li>
&lt;/ul>
&lt;h2 id="design-application-diode-thermometer">Design Application: Diode Thermometer&lt;/h2>
&lt;p>The temperature characteristics of diode:&lt;/p>
&lt;p>$$
I_D \approx I_S \exp(\frac{V_D}{V_T})
$$&lt;/p>
&lt;p>where $I_S\propto n_i^2 \propto e^{-E_g/kT}$, so&lt;/p>
&lt;p>$$
I_D \propto \exp (-E_g/kT + eV_D/kT)\
\ln I_D \propto (-E_g + eV_D)\cdot \frac{1}{kT}
$$&lt;/p>
&lt;p>The ratio of $I_D$ in different temperature is&lt;/p>
&lt;p>$$
\frac{\ln I_{D1}}{\ln I_{D2}} = \frac{-E_g+eV_{D1}}{-E_g+eV_{D2}} \frac{T_2}{T_1}
$$&lt;/p>
&lt;p>For silicon $E_g=1.12{\rm eV}$，so&lt;/p>
&lt;p>$$
\frac{\ln I_{D1}}{\ln I_{D2}} = \frac{-1.12+V_{D1}}{-1.12+V_{D2}} \frac{T_2}{T_1}
$$&lt;/p>
&lt;hr>
&lt;p>In Figure 1.47, with $T_1$ being set to 300K, $V_{D1} = 0.5976{\rm V}$, $I_{D1}=0.9602{\rm mA}$. According to the equation above,&lt;/p>
&lt;p>$$
\frac{\ln(0.9602 \cdot 10^{-3})}{\ln I_{D2}} = \frac{-1.12+0.5976}{-1.12+V_{D2}} \frac{T}{300}
$$&lt;/p>
&lt;p>where $I_{D}=\dfrac{15-V_D}{15} {\rm (mA)}$, i.e.&lt;/p>
&lt;p>$$
\frac{\ln (0.9602\cdot 10^{-3})}{\ln (\frac{15-V_{D_2}}{15\cdot 10^{3}})} = \frac{-1.12+0.5976}{-1.12+V_{D2}} \frac{T}{300}
$$&lt;/p>
&lt;p>After simplification,&lt;/p>
&lt;p>$$
V_{D2} =1.12+ 7.5183\cdot 10^{-2}\cdot \frac{T}{300} \ln (\frac{15-V_{D_2}}{15\cdot 10^{3}})
$$&lt;/p>
&lt;p>Assuming $\dfrac{15-V_{D2}}{15\cdot 10^{3}}\approx\dfrac{15-V_{D1}}{15\cdot 10^{3}}$, we have&lt;/p>
&lt;p>$$
V_{D2} = 1.12-0.5224 \frac{T}{300}
$$&lt;/p>
&lt;p>It means $V_{D2}$ is a linear function of temperature.&lt;/p>
&lt;p>By the way, the error caused by approximation is plotted below, which indicates that the error is neglectable.&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/analog/ta/chapter01/1.5-1.6/images/error.png"
width="413"
height="278"
srcset="https://todd.scuteee.com/analog/ta/chapter01/1.5-1.6/images/error_hud01ffc7c52dd5f7128e8f8401d5397a4_13669_480x0_resize_box_3.png 480w, https://todd.scuteee.com/analog/ta/chapter01/1.5-1.6/images/error_hud01ffc7c52dd5f7128e8f8401d5397a4_13669_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="error"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="356px"
>&lt;/p></description></item><item><title>常用常数</title><link>https://todd.scuteee.com/analog/constant/</link><pubDate>Sun, 21 Aug 2022 16:31:24 +0800</pubDate><guid>https://todd.scuteee.com/analog/constant/</guid><description>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>符号&lt;/th>
&lt;th>英文&lt;/th>
&lt;th>中文&lt;/th>
&lt;th>值&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>$k$&lt;/td>
&lt;td>Boltzmann’s constant&lt;/td>
&lt;td>玻尔兹曼常数&lt;/td>
&lt;td>$86\times 10^{-6} {\rm eV/K}$ 或 $1.38\times 10^{-23} {\rm J/K}$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>$e$&lt;/td>
&lt;td>electronic charge&lt;/td>
&lt;td>电子电荷&lt;/td>
&lt;td>$1.6\times 10^{-19} {\rm C}$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>chapter 1 solution</title><link>https://todd.scuteee.com/analog/ta/chapter01/solution/</link><pubDate>Fri, 19 Aug 2022 21:20:30 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter01/solution/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>请不要抄答案！被助教发现的当次作业记为0分！&lt;/strong>&lt;/p>
&lt;p>&lt;strong>以下为简略过程，只列出公式和结果。考试要写详细一点。&lt;/strong>&lt;/p>
&lt;p>&lt;strong>有问题请向助教反馈。&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>章节&lt;/th>
&lt;th>必做&lt;/th>
&lt;th>选做&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.1~1.3&lt;/td>
&lt;td>1.1, 1.4, 1.11, 1.17, 1.23, 1.37&lt;/td>
&lt;td>1.10, 1.15, 1.19, 1.26&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.4~1.6&lt;/td>
&lt;td>1.40, 1.43, 1.51, 1.55, 1.57, 1.60&lt;/td>
&lt;td>1.44, 1.53, 1.56&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>注意：若无指明，则默认室温。&lt;/strong>&lt;/p>
&lt;h2 id="解题工具">解题工具&lt;/h2>
&lt;p>部分题目的方程很难直接解。这里给出牛顿迭代法求根的 Python 代码。把代码中 &lt;code>f = lambda x: &lt;/code> 后面改成待求解的函数即可。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">math&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">exp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Newton-Raphson method&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># f: 待解方程&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># x0: 起始估值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># max_iteration: 最大迭代次数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># min_error: 最小误差&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># step: 步长（决定收敛速度）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">NRmethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">max_iteration&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1e3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">min_error&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1e-10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f_x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iteration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">error&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f_x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="n">iteration&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">max_iteration&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">min_error&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x0&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">x0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mf">1e-10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># 求解量一般不会小于 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">step&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="mf">0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iteration&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">error&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x0&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># print(iteration, x0, error)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">df&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">delta&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1e-5&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">delta&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">delta&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="c1">#此处为要解的方程&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">root&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">NRmethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The root is:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">root&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The error is:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以通过 &lt;a class="link" href="https://www.online-python.com/" target="_blank" rel="noopener"
>https://www.online-python.com/&lt;/a> 或 &lt;a class="link" href="https://lwebapp.com/zh/python-playground" target="_blank" rel="noopener"
>https://lwebapp.com/zh/python-playground&lt;/a> 在线执行这段程序。&lt;/p>
&lt;h2 id="1113">1.1~1.3&lt;/h2>
&lt;h3 id="11">1.1&lt;/h3>
&lt;p>$n_i = BT^{3/2}\exp\l(-\frac{E_g}{2kT}\r)$&lt;/p>
&lt;ul>
&lt;li>(a) For Si, $E_g=1.1{\rm eV}$, $B=5.23\times 10^{15} {\rm cm^{-3}K^{-3/2}}$
&lt;ul>
&lt;li>ⅰ: $1.61\times 10^8 {\rm cm^{-3}}$&lt;/li>
&lt;li>ⅱ: $3.97\times 10^{11} {\rm cm^{-3}}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>(b) For GaAs, $E_g=1.4{\rm eV}$, $B=2.10\times 10^{14} {\rm cm^{-3}K^{-3/2}}$
&lt;ul>
&lt;li>ⅰ: $6.02\times 10^{3} {\rm cm^{-3}}$&lt;/li>
&lt;li>ⅱ: $1.09\times 10^8 {\rm cm^{-3}}$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="14">1.4&lt;/h3>
&lt;p>$n_i = BT^{3/2}\exp\l(-\frac{E_g}{2kT}\r)$&lt;/p>
&lt;p>$n_o p_o = n_i^2$&lt;/p>
&lt;ul>
&lt;li>(a) n-type. $n_o=10^{15} {\rm cm^{-3}}$, $n_i=2.4\times 10^{13} {\rm cm^{-3}}$, $p_o=5.76\times 10^{11} {\rm cm^{-3}}$&lt;/li>
&lt;li>(b) n-type. $n_o=10^{15} {\rm cm^{-3}}$, $n_i = 1.5\times 10^{10} {\rm cm^{-3}}$, $p_o=2.25\times 10^5 {\rm cm^{-3}}$&lt;/li>
&lt;/ul>
&lt;h3 id="110选做">1.10（选做）&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>(a) $n_i = 1.5\times 10^{10} {\rm cm^{-3}} &amp;lt; n_o = 7\times 10^{15} {\rm cm^{-3}}$&lt;/p>
&lt;p>Add donors. $N_d = 7\times 10^{15} {\rm cm^{-3}}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(b) $n_i^2 = n_o p_o &amp;lt; 7\times 10^{21}$&lt;/p>
&lt;p>therefore, $ (5.23\times 10^{15})^2 T^{3} \exp\l( \frac{-1.1}{86\times 10^{-6} \cdot T} \r) &amp;lt; 7\times 10^{21}$&lt;/p>
&lt;blockquote>
&lt;p>这个方程解不了，只能估计一下。首先猜测 $T$ 应该在 $10^2$ 数量级，那么我们先使得左右的指数相同，即 $(1+15\times 2)+(2\times 3) + ? = 21$，算出 $\exp$ 项的数量级至多为 $10^{-16}$，最小不超过 $10^{-20}$。这么一来可以通过取对数算出 $T$ 大概为：280~350，从而 $T^3$ 项的指数应该是 $(1+2\times 3)$，$\exp$ 项的数量级应该为 $10^{-17}$. 因此最终估计 $T \approx 330$.&lt;/p>
&lt;p>把 330 代入计算得 $1.4\times 10^{22}$，偏大。取 320 计算得 $3.9\times 10^{21}$，偏小。在 320~330 中用二分法尝试，可以计算出 $T\in(324,325)$。&lt;/p>
&lt;p>直接用 python 程序算出是 324.37457395&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#为了避免数太大，对两边开方&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">5.23&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">10.0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">86.0&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mf">1e6&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="111">1.11&lt;/h3>
&lt;ul>
&lt;li>(a) $I = A\sigma E$ 👉 $I=150{\rm \mu A}$&lt;/li>
&lt;li>(b) $I = A E / \rho$ 👉 $E = 2.4 {\rm V/cm}$&lt;/li>
&lt;/ul>
&lt;h3 id="117">1.17&lt;/h3>
&lt;p>$$
\begin{aligned}
J_p &amp;amp;= -e D_p \dfrac{\dif p(x)}{\dif x}\
&amp;amp;= -e D_p \l( \frac{-1}{L_p} \r) \exp \l( \frac{-x}{L_p} \r)
\end{aligned}
$$&lt;/p>
&lt;ul>
&lt;li>(a) $2.4{\rm A/cm^2}$&lt;/li>
&lt;li>(b) $0.883{\rm A/cm^2}$&lt;/li>
&lt;li>(c) $0.119{\rm A/cm^2}$&lt;/li>
&lt;/ul>
&lt;h3 id="123">1.23&lt;/h3>
&lt;p>$V_{bi} = V_T \ln \l(\frac{N_a N_d}{n_i^2}\r)$&lt;/p>
&lt;p>$C_j = C_{jo} \l( 1 + \frac{V_R}{V_{bi}} \r)^{-1/2}$&lt;/p>
&lt;ul>
&lt;li>$V_{bi} = 0.684 {\rm V}$&lt;/li>
&lt;li>(a) $0.255 {\rm pF}$&lt;/li>
&lt;li>(b) $0.172 {\rm pF}$&lt;/li>
&lt;li>(c) $0.139 {\rm pF}$&lt;/li>
&lt;/ul>
&lt;h3 id="137">1.37&lt;/h3>
&lt;p>$I_S$ double for every 5 ${\rm {}^\circ C}$, so&lt;/p>
&lt;p>$$
\frac{I_S(100)}{I_S(-55)}=2^{155/5}
$$&lt;/p>
&lt;p>$V_{T,{\rm 100{}^\circ C}} = 86\times 10^{-6}\times (100+273.15)=0.03209$&lt;/p>
&lt;p>$V_{T,{\rm -55{}^\circ C}} = 86\times 10^{-6}\times (-55+273.15)=0.01876$&lt;/p>
&lt;p>$\dfrac{I_{D,{\rm 100{}^\circ C}}}{I_{D,{\rm -55{}^\circ C}}} = 2^{155/5} \times \dfrac{\exp(0.6/0.03209)}{\exp(0.6/0.01876)} = 3.65\times 10^3$&lt;/p>
&lt;blockquote>
&lt;p>与pdf答案不同。pdf 计算的 $V_T$ 不对。为了避免我算错，我把代数字进去的完整式子列出来：&lt;/p>
&lt;/blockquote>
&lt;p>$$
2^{155/5}\times \frac{\exp(\frac{0.6}{86\times10^{-6}\times(100+273.15)})}{\exp(\frac{0.6}{86\times10^{-6}\times(-55+273.15)})}
$$&lt;/p>
&lt;p>答案在如下地方进行了近似：1. 摄氏度转开尔文只加了 273（正确应该是+273.15） 2. $V_T$ 第三位有效数字及之后的数字都算错了（0.03208算成了0.03220、0.01858算成了0.01865）&lt;/p>
&lt;h2 id="1416">1.4~1.6&lt;/h2>
&lt;h3 id="140">1.40&lt;/h3>
&lt;p>With Thevenin&amp;rsquo;s Theorem, $V_{PS},R_1,R_2$ can be converted into $V_{Th}, R_{Th}$&lt;/p>
&lt;p>$V_{Th}=\dfrac{R_2}{R_1+R_2}\cdot V_{PS}=0.45{\rm} {\rm V}$&lt;/p>
&lt;p>$R_{Th}=R_1 | R_2 = 18.75{\rm K\Omega}$&lt;/p>
&lt;p>With KVL, we have&lt;/p>
&lt;p>$$
\begin{aligned}
V_{Th} &amp;amp;= I_D R_{Th} + V_D\
I_D &amp;amp;\approx I_S \exp \l( \dfrac{V_D}{V_T} \r)
\end{aligned}
$$&lt;/p>
&lt;p>$$
0.45 = 18.75 \cdot 10^3 \cdot I_D + V_D\
I_D = 5\times 10^{-13} \cdot \exp\l( \frac{V_D}{0.026} \r)
$$&lt;/p>
&lt;p>By use the python code,&lt;/p>
&lt;p>$I_D=2.572{\rm \mu A}$, $V_D=0.4018{\rm V}$&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">18.75&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mf">1e-12&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">exp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">0.026&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">0.45&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="143">1.43&lt;/h3>
&lt;p>Based on the given condition ($V_{\gamma}$), piecewise linear model should be used.&lt;/p>
&lt;p>$$
I_D =
\begin{cases}
- I_S &amp;amp; V_D \lt 0\
0 &amp;amp; 0 \leq V_D \lt V_{\gamma} \
\dfrac{V_D-V_{\gamma}}{r_f} &amp;amp; V_D\geq V_{\gamma}
\end{cases}
$$&lt;/p>
&lt;p>And the $r_f$ is assumed to be $0$ since it&amp;rsquo;s not given.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>(a) if the diode is cutoff, $V_D=\dfrac{R_2}{R_1+R_2}V_{PS}=0.9{\rm V}&amp;gt;V_\gamma$, so the diode is conducting, $V_{D}=V_{\gamma}=0.7$&lt;/p>
&lt;p>$I_D = I_{R1} - I_{R2}=\dfrac{V_{PS}-V_{\gamma}}{R_1}-\dfrac{V_{\gamma}}{R_2}=26.7 {\rm \mu A}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(b) $V_D=\dfrac{R_2}{R_1+R_2}V_{PS}=0.45{\rm V}\lt V_\gamma$, so the diode is cutoff. $I_D=0$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="151">1.51&lt;/h3>
&lt;p>$r_d = \dfrac{V_T}{I_{DQ}}$&lt;/p>
&lt;p>$v_d = i_d \cdot r_d$&lt;/p>
&lt;ul>
&lt;li>(a) $v_{dpp}=1.3 {\rm mV}$&lt;/li>
&lt;li>(b) $v_{dpp}=1.3 {\rm mV}$&lt;/li>
&lt;/ul>
&lt;h3 id="155">1.55&lt;/h3>
&lt;p>$I_D=I_S [\exp(V_D/nV_T)]$&lt;/p>
&lt;p>$I_{S,{\rm schottky}} \exp(V_{D,{\rm schottky}}/nV_T) = I_{S,{\rm pn}} \exp(V_{D,{\rm pn}}/nV_T)$&lt;/p>
&lt;p>$I_{S,{\rm pn}} = I_{S,{\rm schottky}} \exp (V_{D,{\rm schottky}}/nV_T - V_{D,{\rm pn}}/nV_T)$&lt;/p>
&lt;p>$I_S = 4.87\times 10^{-12} {\rm A}$&lt;/p>
&lt;h3 id="157">1.57&lt;/h3>
&lt;p>$I_Z = \frac{V_Z-V_{Z0}}{r_Z}$&lt;/p>
&lt;p>$I_Z = 0.1{\rm mA}$ when $V_Z=5.6{\rm V}$, therefore $V_{Z0}=5.599{\rm V}$&lt;/p>
&lt;ul>
&lt;li>
&lt;p>(a) The diode is in breakdown region, $V_Z = V_{PS} - I_Z R = V_{PS} - \frac{V_Z-V_{Z0}}{r_Z}R = 5.6853{\rm V}$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(b) if $V_{PS}=10+1 = 11 {\rm V}$, $V_O = 5.7049{\rm V}$&lt;/p>
&lt;p>if $V_{PS}=10-1 = 9 {\rm V}$, $V_O = 5.6657{\rm V}$&lt;/p>
&lt;p>So the change in output is 0.0392{\rm V}&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(c) if the diode is not in breakdown region, $V_O = \frac{R_L}{R+R_L}=8{\rm V}&amp;gt;V_{Z0}$, so the diode is in breakdown region. Using Thevenin’s Theorem, $V_{PS}&amp;rsquo;=8{\rm V}$, $R&amp;rsquo;=R|R_L=0.4{\rm k\Omega}$. The following procedure is same as (a), and the final result is $V_O = 5.6576{\rm V}$&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="160">1.60&lt;/h3>
&lt;p>$I_{SC} = 0.2{\rm A}$&lt;/p>
&lt;blockquote>
&lt;p>和pdf答案出入较大，pdf答案是 0.1A&lt;/p>
&lt;/blockquote>
&lt;p>$V_{DC} = V_T \ln \l( \dfrac{0.2}{5\times 10^{-14}}+1 \r) = 0.75445$&lt;/p></description></item><item><title>1.3-1.4 Diode Circuits</title><link>https://todd.scuteee.com/analog/ta/chapter01/1.3-1.4/</link><pubDate>Fri, 19 Aug 2022 20:44:08 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter01/1.3-1.4/</guid><description>&lt;h2 id="dc-diode-model">DC Diode Model&lt;/h2>
&lt;h3 id="ideal-model">Ideal Model&lt;/h3>
&lt;p>$$
i_D =
\begin{cases}
0 &amp;amp; v_D \le 0\
\infty &amp;amp; v_D&amp;gt;0
\end{cases}
$$&lt;/p>
&lt;h3 id="piecewise-linear-model">Piecewise Linear Model&lt;/h3>
&lt;p>$$
I_D =
\begin{cases}
- I_S &amp;amp; V_D &amp;lt; 0\
0 &amp;amp; 0\le V_D&amp;lt; V_{\gamma} \
\dfrac{V_D-V_{\gamma}}{r_f} &amp;amp; V_D&amp;gt; V_{\gamma}
\end{cases}
$$&lt;/p>
&lt;ul>
&lt;li>$V_{\gamma}$ - turn-on voltage (cut-in voltage)&lt;/li>
&lt;li>$r_f$ - forward diode resistance&lt;/li>
&lt;/ul>
&lt;h2 id="ac-diode-model">AC Diode Model&lt;/h2>
&lt;p>$$
\begin{aligned}
i_D &amp;amp;\approx I_S \exp\l(\frac{V_{DQ}+v_d}{V_T} \r) \
&amp;amp;= I_S \exp\l(\frac{V_{DQ}}{V_T} \r) \cdot \exp\l(\frac{v_d}{V_T}\r)\
&amp;amp;=I_{DQ} \cdot \exp\l(\frac{v_d}{V_T}\r) \
&amp;amp;= I_{DQ} \l( 1+\frac{v_d}{V_T} \r) \
&amp;amp;= I_{DQ} + i_d
\end{aligned}
$$&lt;/p>
&lt;p>$$
i_d = \frac{I_{DQ}}{V_T} \cdot v_d
$$&lt;/p>
&lt;p>$$
r_d = \frac{1}{g_d} = \frac{V_T}{I_{DQ}}
$$&lt;/p>
&lt;p>$$
C_d = \frac{\dif Q}{\dif V_D}
$$&lt;/p></description></item><item><title>1.2 The pn Junction</title><link>https://todd.scuteee.com/analog/ta/chapter01/1.2/</link><pubDate>Fri, 19 Aug 2022 16:54:00 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter01/1.2/</guid><description>&lt;h2 id="terms">Terms&lt;/h2>
&lt;ul>
&lt;li>pn junction
&lt;ul>
&lt;li>equilibirum&lt;/li>
&lt;li>reverse-biased&lt;/li>
&lt;li>forward-biased&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>space-charge region (depletion region)&lt;/li>
&lt;li>built-in barrier&lt;/li>
&lt;li>varactor diode （变容二极管）&lt;/li>
&lt;li>temperature
&lt;ul>
&lt;li>$I_D - V_D$&lt;/li>
&lt;li>$I_S$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>breakdown
&lt;ul>
&lt;li>avalanche breakdown&lt;/li>
&lt;li>zener breakdown&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="formulas">Formulas&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>built-in barrier (built-in voltage)&lt;/p>
&lt;p>$$
\begin{aligned}
V_{bi} &amp;amp;= \frac{kT}{e} \ln (\frac{N_a N_d}{n_i^2}) \
&amp;amp;= V_T \ln \l(\frac{N_a N_d}{n_i^2}\r)
\end{aligned}
$$&lt;/p>
&lt;ul>
&lt;li>$V_T\equiv kT/e$ - thermal voltage. $V_T \approx 26{\rm mV}$ when $T=300{\rm K}$&lt;/li>
&lt;li>$k$ - Boltzmann&amp;rsquo;s constant&lt;/li>
&lt;li>$T$ - absolute temperature&lt;/li>
&lt;li>$e$ - electronic charge&lt;/li>
&lt;li>$N_a,N_d$ - net acceptor/donor concentrations in p/n regions respectively&lt;/li>
&lt;li>$n_i$ - intrinsic carrier concentration $n_i$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>junction capacitance&lt;/p>
&lt;p>$$
C_j = C_{jo} \l( 1 + \frac{V_R}{V_{bi}} \r)^{-1/2}
$$&lt;/p>
&lt;ul>
&lt;li>$C_{jo}$ - junction capacitance at zero voltage&lt;/li>
&lt;li>$V_R$ - reverse-biased voltage&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ideal current-voltage relationship&lt;/p>
&lt;p>$$
\begin{aligned}
i_D &amp;amp;= I_S \l[ \exp \l( \frac{v_D}{nV_T} \r) -1 \r]\
&amp;amp;\approx I_S \exp \l( \frac{v_D}{nV_T} \r) &amp;amp; \text{large } v_D
\end{aligned}
$$&lt;/p>
&lt;ul>
&lt;li>$I_S$ - reverse-bias saturation current&lt;/li>
&lt;li>$V_T$ - thermal voltage (26mV at room temperature)&lt;/li>
&lt;li>$n$ - emission coefficient ($1\le n \le 2$)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>1.1 Semiconductor Material and Properies</title><link>https://todd.scuteee.com/analog/ta/chapter01/1.1/</link><pubDate>Thu, 18 Aug 2022 23:41:25 +0800</pubDate><guid>https://todd.scuteee.com/analog/ta/chapter01/1.1/</guid><description>&lt;h2 id="terms">Terms&lt;/h2>
&lt;ul>
&lt;li>Semiconductors
&lt;ul>
&lt;li>Intrinsic Semiconductors&lt;/li>
&lt;li>Extrinsic Semiconductors&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Covalent Bonds&lt;/li>
&lt;li>Valence Electrons&lt;/li>
&lt;li>Energy Bands
&lt;ul>
&lt;li>Valence band&lt;/li>
&lt;li>Forbidden bandgap&lt;/li>
&lt;li>Conduction band&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Carriers
&lt;ul>
&lt;li>Electron&lt;/li>
&lt;li>Hole&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Excess Carriers
&lt;ul>
&lt;li>Electron-Hole Recombination&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
&lt;li>donor 👉 n-type semiconductor&lt;/li>
&lt;li>acceptor 👉 p-type semiconductor&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
&lt;li>carrier movement
&lt;ul>
&lt;li>drift - caused by electric field
&lt;ul>
&lt;li>drift velocity saturation&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>diffusion - caused by concentration gradients&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="formulas">Formulas&lt;/h2>
&lt;h3 id="intrinsic-carrier-concentration-n_i">Intrinsic Carrier Concentration $n_i$&lt;/h3>
&lt;p>$$
n_i = BT^{3/2}\exp\l(-\frac{E_g}{2kT}\r)
$$&lt;/p>
&lt;ul>
&lt;li>$B$ - coefficient related to material&lt;/li>
&lt;li>$E_g$ - bandgap energy&lt;/li>
&lt;li>$T$ - temperature (K)&lt;/li>
&lt;li>$k$ - Boltzmann&amp;rsquo;s constant ($8.6\times 10^{-5} {\rm eV/K}$ or $1.38\times 10^{-23} {\rm J/K}$)&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>At room temperature, $n_{i,{\rm Si}} = 1.5\times 10^{10}{\rm cm^{-3}}$&lt;/p>
&lt;/blockquote>
&lt;h3 id="thermal-equilibrium">Thermal Equilibrium&lt;/h3>
&lt;p>$$
n_o p_o = n_i^2
$$&lt;/p>
&lt;ul>
&lt;li>$n_o$ - thermal equilibrium of free electrons&lt;/li>
&lt;li>$p_o$ - thermal equilibrium of free holes&lt;/li>
&lt;li>For intrinsic semicondutor, $n_o=p_o=n_i$&lt;/li>
&lt;li>For extrinsic semicondutor, $n_o=N_d$ or $p_o=N_a$&lt;/li>
&lt;/ul>
&lt;h3 id="drift-current-density">Drift Current Density&lt;/h3>
&lt;p>$$
J = J_n + J_p
$$&lt;/p>
&lt;ul>
&lt;li>$J$ - total drift current density (${\rm A/cm^2}$)&lt;/li>
&lt;li>$J_n$ - drift current density for electron&lt;/li>
&lt;li>$J_n$ - drift current density for electron&lt;/li>
&lt;/ul>
&lt;p>$$
\begin{cases}
J_n = -e n v_{dn}\
J_p = e p v_{dp}
\end{cases}
$$&lt;/p>
&lt;ul>
&lt;li>$e$ - electronic charge $e=1.6\times 10^{-19}{\rm C}$&lt;/li>
&lt;li>$n,p$ - eletron/hole concentration&lt;/li>
&lt;li>$v_{dn},v_{dp}$ - drift velocity (${\rm cm/s}$)&lt;/li>
&lt;/ul>
&lt;p>$$
\begin{cases}
v_{dp} = -\mu_{n} E\
v_{dn} = \mu_{p} E
\end{cases}
$$&lt;/p>
&lt;ul>
&lt;li>$\mu_{n},\mu_{p}$ - eletron/hole mobility（迁移率） (${\rm cm^2/(V\cdot s)}$)&lt;/li>
&lt;li>$E$ - electric field&lt;/li>
&lt;/ul>
&lt;h3 id="drift-current-density-represented-by-conductivityresistivity">Drift Current Density Represented by Conductivity/Resistivity&lt;/h3>
&lt;p>$$
\begin{aligned}
J &amp;amp;= en\mu_n E + ep\mu_p E \
&amp;amp;= \sigma E \
&amp;amp;= \frac{1}{\rho} E
\end{aligned}
$$&lt;/p>
&lt;ul>
&lt;li>$\sigma$ - conductivity (${\rm (\Omega \cdot cm)^{-1}}$)&lt;/li>
&lt;li>$\dfrac{1}{\rho}$ - resistivity (${\rm \Omega \cdot cm}$)&lt;/li>
&lt;/ul>
&lt;h3 id="diffusion-current-density">Diffusion Current Density&lt;/h3>
&lt;p>$$
\begin{cases}
J_n = e D_n \dfrac{\dif n}{\dif x}\
\
J_p = -e D_p \dfrac{\dif p}{\dif x}
\end{cases}
$$&lt;/p>
&lt;ul>
&lt;li>$D_n,D_p$ - diffusion ceofficient&lt;/li>
&lt;/ul>
&lt;h3 id="einstein-relation">Einstein relation&lt;/h3>
&lt;p>$$
\frac{D_n}{\mu_n} = \frac{D_p}{\mu_p} \cong 0.026 {\rm V} (\text{ at 300K})
$$&lt;/p></description></item><item><title>VerilogHDL Learning</title><link>https://todd.scuteee.com/ppt/%E7%BB%84%E4%BC%9A/20220807-icc-train/</link><pubDate>Sun, 07 Aug 2022 17:00:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E7%BB%84%E4%BC%9A/20220807-icc-train/</guid><description>
&lt;style>
.tworow {
display: grid;
grid-template-rows: 1fr 1fr;
grid-gap: 2px;
text-align: center;
}
.twocolumn {
display: grid;
grid-template-columns: 2fr 1fr;
grid-gap: 2px;
text-align: center;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>20220808 汇报&lt;/h3>
&lt;h5>周镇峰&lt;/h5>
&lt;/section>
&lt;section>
&lt;ul style="font-size: 32px;">
&lt;li>七月（数字）
&lt;ul>
&lt;li style="color:green">学习VerilogHDL语法✅&lt;/li>
&lt;li style="color:green">学习FPGA✅&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>八月（模拟）
&lt;ul>
&lt;li style="color:green">熟悉流程✅&lt;/li>
&lt;li style="color:orange">设计bandgap&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;div class="twocolumn">
&lt;div class="tworow">
&lt;img style="object-fit: cover;max-height: 30vh;"
src="images/tang_nano_lcd.png">
&lt;img style="object-fit: cover;max-height: 30vh;"
src="images/tang_nano.jpg">
&lt;/div>
&lt;div>
&lt;h5>高云GW1NR-9 FPGA&lt;/h5>
&lt;table style="overflow: auto;height: 50vh; display: block;font-size: 20px;">
&lt;thead>
&lt;tr>
&lt;th>类别&lt;/th>
&lt;th>数值&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>逻辑单元(LUT4)&lt;/td>
&lt;td>8640&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>寄存器(FF)&lt;/td>
&lt;td>6480&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>分布式静态随机存储器 SSRAM(bits)&lt;/td>
&lt;td>17280&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>块状静态随机存储器 B-SRAM(bits)&lt;/td>
&lt;td>468K&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>块状静态随机存储器数目BSRAM（个）&lt;/td>
&lt;td>26&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>用户闪存(bits)&lt;/td>
&lt;td>608K&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>PSRAM(bits)&lt;/td>
&lt;td>64M&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>高性能DSP模块&lt;/td>
&lt;td>支持9x9,18x18,36x36bit的乘法运算和54bit累加器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>乘法器 (18 x 18 Multiplier)&lt;/td>
&lt;td>20&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SPI FLASH&lt;/td>
&lt;td>32M-bit&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>灵活的PLL资源&lt;/td>
&lt;td>2个锁相环（PLLs）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>How to setup ourblog</title><link>https://todd.scuteee.com/ppt/%E6%97%A5%E5%B8%B8/2022-07-19-how-to-setup-ourbog/</link><pubDate>Tue, 19 Jul 2022 09:41:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E6%97%A5%E5%B8%B8/2022-07-19-how-to-setup-ourbog/</guid><description>
&lt;link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.3/css/all.min.css"
rel="stylesheet">
&lt;div class="reveal">
&lt;div class="slides">
&lt;section>
&lt;div>
&lt;h2>&lt;a href="https://zhou-couple.github.io/">Zhou-Couple&lt;/a> with Hugo&lt;/h2>
&lt;h4>the next version of our blog&lt;/h4>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h4>our blog的第一个版本&lt;/h4>
&lt;table>
&lt;tr>
&lt;td>&lt;img height="200"
src="./images/ourblog-v1-timeline.jpeg">&lt;/td>
&lt;td>&lt;img height="200"
src="./images/ourblog-v1-photo.jpeg">&lt;/td>
&lt;td>&lt;img height="200"
src="./images/ourblog-v1-letters.jpeg">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td colspan="3"
align="center">&lt;img height="300"
src="./images/ourblog-v1-files.jpg">&lt;/td>
&lt;/tr>
&lt;/table>
&lt;/section>
&lt;section>
&lt;h4>our blog的第二个版本&lt;/h4>
&lt;table>
&lt;tr>
&lt;td>&lt;img height="200"
src="./images/ourblog-v2-timeline.jpeg">&lt;/td>
&lt;td>&lt;img height="200"
src="./images/ourblog-v2-photo.jpeg">&lt;/td>
&lt;td>&lt;img height="200"
src="./images/ourblog-v2-letters.jpeg">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td colspan="3"
align="center">&lt;img height="300"
src="./images/ourblog-v2-files.jpg">&lt;/td>
&lt;/tr>
&lt;/table>
&lt;/section>
&lt;section>
&lt;h4>对比&lt;/h4>
&lt;table>
&lt;thead>
&lt;td>&lt;/td>
&lt;td align="center">OurBlog-v1&lt;/td>
&lt;td align="center">OurBlog-v2&lt;/td>
&lt;/thead>
&lt;tr>
&lt;td>界面美观&lt;/td>
&lt;td align="center">OK&lt;/td>
&lt;td align="center">Better &lt;i class="fas fa-check">&lt;/i>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>动画效果&lt;/td>
&lt;td align="center">None&lt;/td>
&lt;td align="center">Fluent &lt;i class="fas fa-check">&lt;/i>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>文件组织&lt;/td>
&lt;td align="center">Messy&lt;/td>
&lt;td align="center">Tidy &lt;i class="fas fa-check">&lt;/i>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>配置使用&lt;/td>
&lt;td align="center">Complex&lt;/td>
&lt;td align="center">Simple &lt;i class="fas fa-check">&lt;/i>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>功能&lt;/td>
&lt;td align="center">Limited&lt;/td>
&lt;td align="center">Advanced &lt;i class="fas fa-check">&lt;/i>&lt;/td>
&lt;/tr>
&lt;/table>
&lt;/section>
&lt;section data-background-iframe="https://www.gohugo.org/"
data-background-interactive>
&lt;div
style="position: absolute; width: 40%; right: 0; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px; font-size: 20px; text-align: left;">
&lt;h2 style="color: white;">多亏了新的博客生成器：Hugo&lt;/h2>
&lt;ul>
&lt;li>使用简单：只需要下载一个 50M 的程序，无需安装&lt;/li>
&lt;li>运行迅速：生成网页只需不到1s，可以本地预览&lt;/li>
&lt;li>功能强大：具有图片处理等功能&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/section>
&lt;section data-background-image="https://code.visualstudio.com/assets/home/home-screenshot-win.png" data-background-opacity=0.12>
&lt;h3>推荐配合 VS Code 使用&lt;/h3>
&lt;p style="text-align: left;">VS code 是一个跨平台的代码编辑器，其安装包大小与 Typora 差不多，配合上 Markdown-editor 插件使用起来与 Typora 一样。关键它还是免费的！（Typora 现在要收费才能用）&lt;/p>
&lt;p style="text-align: left;">VS code 还可以用于开发网页，如果希望能参与到网站开发中，那就更需要使用 VS code 了。&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>顺德旅游计划</title><link>https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/</link><pubDate>Wed, 08 Jun 2022 13:36:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/</guid><description>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%82%B8%E7%89%9B%E5%A5%B6.jpg" alt="Featured image of post 顺德旅游计划" />&lt;h2 id="顺德简介">顺德简介&lt;/h2>
&lt;p>顺德是广东省佛山市五个行政辖区之一，地处珠三角，毗邻广州。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%8F%A0%E4%B8%89%E8%A7%92.jpeg"
width="640"
height="642"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%8F%A0%E4%B8%89%E8%A7%92_hu6e38f669fa9173f59215aef9b0e38936_124449_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%8F%A0%E4%B8%89%E8%A7%92_hu6e38f669fa9173f59215aef9b0e38936_124449_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="珠三角地图"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="239px"
>&lt;/p>
&lt;p>关于顺德与佛山的关系请看 &lt;a class="link" href="https://www.zhihu.com/question/48610614" target="_blank" rel="noopener"
>顺德与佛山到底是什么关系？ - 知乎&lt;/a>，顺德人日常是不把自己当佛山人的，顺德人口中的佛山指的是“佛山的其他区”（特别是禅城区）。比如我高中去禅城上学，和别人聊天时都是说“去佛山上学“。究其原因，一方面是顺德以前是绕过佛山由广东省直管的，另一方面则是顺德的经济比佛山的其他区好。在全国百强区中，顺德排前十。&lt;/p>
&lt;p>顺德下辖 10 个镇街，包括（由北往南）：陈村、乐从、北滘（jiào）、龙江、勒流、伦教、大良、杏坛、容桂、均安。其中，大良是区政府所在地。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%A1%BA%E5%BE%B7%E5%9C%B0%E5%9B%BE.jpeg"
width="800"
height="1004"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%A1%BA%E5%BE%B7%E5%9C%B0%E5%9B%BE_hu048cc49dc2f67b5f945c10620ed94f56_119998_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%A1%BA%E5%BE%B7%E5%9C%B0%E5%9B%BE_hu048cc49dc2f67b5f945c10620ed94f56_119998_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="顺德地图"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="191px"
>&lt;/p>
&lt;h2 id="顺德美食">顺德美食&lt;/h2>
&lt;p>顺德最出名的是美食，有言道：“食在广州，厨出凤城”（凤城指的是顺德大良），B站上也有关于顺德美食的纪录片《寻味顺德》&lt;/p>
&lt;div class="video-container">
&lt;iframe src="//player.bilibili.com/player.html?aid=668217236&amp;bvid=BV1xa4y1e756&amp;cid=190834735&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" > &lt;/iframe>
&lt;/div>
&lt;style>
.video-container {
position: relative;
overflow: hidden;
padding-top: 30px;
padding-bottom: 56.25%;
height: 0
}
.video-container iframe {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%
}
&lt;/style>
&lt;p>下面我来列举一下顺德比较出名的美食。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="#%e9%a1%ba%e5%be%b7%e7%ae%80%e4%bb%8b" >顺德简介&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e9%a1%ba%e5%be%b7%e7%be%8e%e9%a3%9f" >顺德美食&lt;/a>
&lt;ul>
&lt;li>&lt;a class="link" href="#%e5%8f%8c%e7%9a%ae%e5%a5%b6" >双皮奶&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e5%85%b6%e4%bb%96%e7%94%9c%e5%93%81" >其他甜品&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e7%89%9b%e4%b9%b3" >牛乳&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e7%82%b8%e7%89%9b%e5%a5%b6" >炸牛奶&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e9%99%88%e6%9d%91%e7%b2%89" >陈村粉&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e4%bc%a6%e6%95%99%e7%b3%95" >伦教糕&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e7%b2%a5%e5%ba%95%e7%81%ab%e9%94%85" >粥底火锅&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e7%85%b2%e4%bb%94%e9%a5%ad" >煲仔饭&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e9%b1%bc%e7%94%9f" >鱼生&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e6%a1%91%e6%8b%bf%e9%b8%a1%e6%a1%91%e6%8b%bf%e9%b1%bc" >桑拿鸡/桑拿鱼&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e6%b0%b4%e8%9b%87%e7%b2%a5" >水蛇粥&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e4%b8%8a%e6%b1%a4%e6%a1%91%e5%8f%b6" >上汤桑叶&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e6%97%a9%e8%8c%b6" >早茶&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e5%85%b6%e4%bb%96" >其他&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="#%e9%a1%ba%e5%be%b7%e6%99%af%e7%82%b9" >顺德景点&lt;/a>
&lt;ul>
&lt;li>&lt;a class="link" href="#%e9%a1%ba%e5%b3%b0%e5%b1%b1%e5%85%ac%e5%9b%ad" >顺峰山公园&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e6%b8%85%e6%99%96%e5%9b%ad" >清晖园&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="#%e5%8c%97%e6%bb%98" >北滘&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="双皮奶">双皮奶&lt;/h3>
&lt;p>我个人最喜欢的就是双皮奶，有浓郁的奶香。正宗的双皮奶采用的是水牛奶，因为其含脂量高。不过水牛养殖少，产奶量也少，现在也有很多店用一般牛奶。&lt;/p>
&lt;p>顺德出名的双皮奶店有4家：民信，仁信，金榜，欢记（&lt;a class="link" href="https://www.mafengwo.cn/wenda/detail-17763751.html" target="_blank" rel="noopener"
>听说顺德是双皮奶的故乡，推荐哪家必吃？&lt;/a>），都分布在“华盖路”附近。个人吃过民信、仁信、欢记，但不是同时吃的所以不好比较，个人比较喜欢民信（因为小时候吃得多），唯一的建议就是早点去，去晚了人多，要排十几分钟的队。&lt;/p>
&lt;p>除了双皮奶外，还有其他奶，比如凤凰奶（加了蛋黄）、金银奶（加了白糖、五仁、椰丝），双皮奶上面也可以放一些辅料，比如：栗子、红豆、窝蛋、莲子、百合、芒果、黑珍珠。个人最喜欢的是原只椰子炖双皮奶～&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A4%B0%E5%AD%90%E5%8F%8C%E7%9A%AE%E5%A5%B6.jpg"
width="525"
height="525"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A4%B0%E5%AD%90%E5%8F%8C%E7%9A%AE%E5%A5%B6_hubc7130c2d1150b42ea06025d20fd66a6_39818_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A4%B0%E5%AD%90%E5%8F%8C%E7%9A%AE%E5%A5%B6_hubc7130c2d1150b42ea06025d20fd66a6_39818_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="原只椰子炖双皮奶"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p>
&lt;h3 id="其他甜品">其他甜品&lt;/h3>
&lt;p>除了双皮奶外，民信、仁信会有其他甜品，不过我没找到完整的菜单……&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%94%9C%E5%93%81%E8%8F%9C%E5%8D%95.jpeg"
width="689"
height="515"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%94%9C%E5%93%81%E8%8F%9C%E5%8D%95_hu5c6deb5a1319b21af8b003612248d250_119134_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%94%9C%E5%93%81%E8%8F%9C%E5%8D%95_hu5c6deb5a1319b21af8b003612248d250_119134_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="甜品菜单"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
>&lt;/p>
&lt;h3 id="牛乳">牛乳&lt;/h3>
&lt;p>金榜，欢记除了双皮奶外，没有什么甜品，但有牛乳。牛乳就是“在水牛奶里混入食醋和食盐，使牛奶蛋白凝固，后再用模压制成比较脆的圆片状，再与盐水一起入樽出售”。牛乳煲粥挺好吃的，看网上说还可以泡水，这我就没吃过了。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%89%9B%E4%B9%B3.jpg"
width="660"
height="660"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%89%9B%E4%B9%B3_hu9420ccda40251d795517d049592fd380_82931_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%89%9B%E4%B9%B3_hu9420ccda40251d795517d049592fd380_82931_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="牛乳"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p>
&lt;h3 id="炸牛奶">炸牛奶&lt;/h3>
&lt;p>炸牛奶就是“把拌有生粉、白糖的水牛奶蒸熟、摊凉，切成块状，蘸上脆浆，逐件放入热油中炸至呈金黄色”&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%82%B8%E7%89%9B%E5%A5%B6.jpg"
width="720"
height="480"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%82%B8%E7%89%9B%E5%A5%B6_hu9451080a466b8d1ffe9631d82345bc94_85108_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%82%B8%E7%89%9B%E5%A5%B6_hu9451080a466b8d1ffe9631d82345bc94_85108_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="炸牛奶"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;h3 id="陈村粉">陈村粉&lt;/h3>
&lt;p>陈村粉就是米粉，很薄却有韧性，放上酸姜丝、芝麻、花生、洋葱丝、青瓜丝，吃再多也不会腻。比较正宗的有两家：黄但记、黄均记。搭广州地铁7号线到锦龙站下，然后绕过顺联广场就能看到一家新装修的黄旦记，价格比较贵（20一份陈村粉，够一人吃饱），如果愿意走多两公里，可以去比较实惠的老店吃。&lt;/p>
&lt;p>我建议吃凉拌陈村粉，炒陈村粉比较油腻（和一般的炒粉差不多）。吃之前记得拌一下。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%99%88%E6%9D%91%E7%B2%89.jpeg"
width="1200"
height="900"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%99%88%E6%9D%91%E7%B2%89_hu32a10aadeb8a647556273e67f8dd2df5_125683_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%99%88%E6%9D%91%E7%B2%89_hu32a10aadeb8a647556273e67f8dd2df5_125683_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="陈村粉"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h3 id="伦教糕">伦教糕&lt;/h3>
&lt;p>伦教糕是用大米做的蒸糕。比较出名的店是欢姐伦教糕，不过其他店的伦教糕也不错（比较大的早茶店都会有）。吃起来会有米的甜味，不黏牙。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E4%BC%A6%E6%95%99%E7%B3%95.webp"
width="640"
height="585"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E4%BC%A6%E6%95%99%E7%B3%95_hua3c0e129f1504d1ce0db9d3548806b52_19222_480x0_resize_q75_h2_box_2.webp 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E4%BC%A6%E6%95%99%E7%B3%95_hua3c0e129f1504d1ce0db9d3548806b52_19222_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
alt="伦教糕"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="262px"
>&lt;/p>
&lt;h3 id="粥底火锅">粥底火锅&lt;/h3>
&lt;p>用粥来涮腌制过的牛肉、猪肉、鱼肉、各式内脏，比较有名的是“杏坛公 平靓正”，这个我没吃过。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%B2%A5%E5%BA%95%E7%81%AB%E9%94%85.jpg"
width="720"
height="540"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%B2%A5%E5%BA%95%E7%81%AB%E9%94%85_huda386d9361c92b9d78f4cc399e51fde1_92639_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%B2%A5%E5%BA%95%E7%81%AB%E9%94%85_huda386d9361c92b9d78f4cc399e51fde1_92639_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="粥底火锅"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h3 id="煲仔饭">煲仔饭&lt;/h3>
&lt;p>出名一点的是“红星光发煲仔饭”，我没去过，看网上评价说价格略贵（一碗煲仔饭40多），下图为他家的黄鳝腊味饭。其实看街边哪间店人多去哪就行了（不只是煲仔饭，其他同理）。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%85%B2%E4%BB%94%E9%A5%AD.jpeg"
width="1080"
height="609"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%85%B2%E4%BB%94%E9%A5%AD_hu06d529c781040a51d268739683aa8a99_136967_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%85%B2%E4%BB%94%E9%A5%AD_hu06d529c781040a51d268739683aa8a99_136967_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="煲仔饭"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="425px"
>&lt;/p>
&lt;h3 id="鱼生">鱼生&lt;/h3>
&lt;p>就是生鱼片，拌着一些佐料来吃。可能会有寄生虫……我去肥光鱼生吃过一次，老实说，鱼没啥味，净是佐料的味，鱼皮还挺好吃的，椒盐鱼骨有点油，总结就是没必要去。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%B1%BC%E7%94%9F.jpg"
width="720"
height="540"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%B1%BC%E7%94%9F_hu20a10f95871c3ebaf55f165ef714f61e_72572_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%B1%BC%E7%94%9F_hu20a10f95871c3ebaf55f165ef714f61e_72572_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="鱼生"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h3 id="桑拿鸡桑拿鱼">桑拿鸡/桑拿鱼&lt;/h3>
&lt;p>就是蒸鸡/蒸鱼，不过是用猪骨汤蒸，还会垫上虫草花。我吃过桑拿鸡，这样蒸出来的鸡肉确实好吃，鸡肉不老，还很鲜甜。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/66391319" target="_blank" rel="noopener"
>广顺觅食记（6）：桑拿过的鱼和鸡真好吃&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A1%91%E6%8B%BF%E9%B8%A1.jpg"
width="720"
height="540"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A1%91%E6%8B%BF%E9%B8%A1_hu07ca2930b2fdd2e7837f513bece2a5a7_77746_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A1%91%E6%8B%BF%E9%B8%A1_hu07ca2930b2fdd2e7837f513bece2a5a7_77746_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="桑拿鸡"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A1%91%E6%8B%BF%E9%B1%BC.jpg"
width="720"
height="540"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A1%91%E6%8B%BF%E9%B1%BC_hu554accf8d4e50aa68ee5b8b66b0fe8c9_79488_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%A1%91%E6%8B%BF%E9%B1%BC_hu554accf8d4e50aa68ee5b8b66b0fe8c9_79488_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="桑拿鱼"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h3 id="水蛇粥">水蛇粥&lt;/h3>
&lt;p>就是字面意思，用水蛇肉煲的粥（放心，无毒），我没吃过（但我吃过三蛇羹，非常好吃）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%B0%B4%E8%9B%87%E7%B2%A5.jpeg"
width="700"
height="525"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%B0%B4%E8%9B%87%E7%B2%A5_huf4933306374e4e7e6d7d726e97eec818_45407_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E6%B0%B4%E8%9B%87%E7%B2%A5_huf4933306374e4e7e6d7d726e97eec818_45407_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="水蛇粥"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h3 id="上汤桑叶">上汤桑叶&lt;/h3>
&lt;p>我不清楚其他地方有没有，顺德这边有些饭店是有桑叶相关的菜的。我感觉桑叶的纤维比较细，吃起来与其他菜的口感不太一样。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/%e4%b8%8a%e6%b1%a4%e6%a1%91%e5%8f%b6.jpeg"
loading="lazy"
alt="上汤桑叶"
>&lt;/p>
&lt;h3 id="早茶">早茶&lt;/h3>
&lt;p>下面这些都是饮早茶时吃的，统一列一下。不一定是顺德特有的，广州的茶楼也有。&lt;/p>
&lt;p>&lt;strong>薄撑&lt;/strong>：糯米炸成的面皮裹着花生碎、芝麻和白糖，吃起来很香。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/%e8%96%84%e6%92%91.jpg"
loading="lazy"
alt="薄撑"
>&lt;/p>
&lt;p>&lt;strong>红米肠&lt;/strong>：外层是肠粉，加了红曲，所以显红色。里面有虾仁。因为是炸过的，所以稍微有点油。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%BA%A2%E7%B1%B3%E8%82%A0.jpeg"
width="1382"
height="1037"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%BA%A2%E7%B1%B3%E8%82%A0_hu6c89d016312466ad717446802002d6ad_91664_480x0_resize_q75_box.jpeg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E7%BA%A2%E7%B1%B3%E8%82%A0_hu6c89d016312466ad717446802002d6ad_91664_1024x0_resize_q75_box.jpeg 1024w"
loading="lazy"
alt="红米肠"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="319px"
>&lt;/p>
&lt;blockquote>
&lt;p>早茶太多东西了，有待完善。记录一下必点的：凤爪、金钱肚、虾饺、红米肠、萝卜糕&lt;/p>
&lt;/blockquote>
&lt;h3 id="其他">其他&lt;/h3>
&lt;p>有些出名的我懒得写了，比如煎堆、鱼皮饺、均安烧猪……&lt;/p>
&lt;p>另外，顺德的饭店或多或少有一些私房菜，我就不一一列出来了，这里放一些比较有名的店。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.163.com/dy/article/H671SQG30552IARM.html" target="_blank" rel="noopener"
>寻味顺德，一定要去吃顺德地胆推荐的21道名菜！附店名地址&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/356115428" target="_blank" rel="noopener"
>坚记：在北滘开店二十多年，从大排档到酒家，只做顺德人心中的顺德味&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.mafengwo.cn/gonglve/ziyouxing/102250.html" target="_blank" rel="noopener"
>Feekr旅行 顺德 自由行攻略&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.sohu.com/a/422139416_494737" target="_blank" rel="noopener"
>寻味顺德，两天一夜吃货攻略，带你吃遍顺德美食&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://new.qq.com/omn/20220521/20220521A0556N00.html" target="_blank" rel="noopener"
>广州地铁直达顺德！这些本地人才知道的美食店，快记下来！&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>有一些微信文章上也有推荐的店可以参考一下。&lt;/p>
&lt;h2 id="顺德景点">顺德景点&lt;/h2>
&lt;p>顺德的景点不多，有些没必要去，比如李小龙乐园（就是个有李小龙雕像的公园），比如陈村花卉世界（不是花季、展览就别去）&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%A1%BA%E5%BE%B7%E6%99%AF%E7%82%B9%E5%9C%B0%E5%9B%BE.jpg"
width="1280"
height="1024"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%A1%BA%E5%BE%B7%E6%99%AF%E7%82%B9%E5%9C%B0%E5%9B%BE_hue150e2560aa7623f7945840e6ee47ff1_342071_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E9%A1%BA%E5%BE%B7%E6%99%AF%E7%82%B9%E5%9C%B0%E5%9B%BE_hue150e2560aa7623f7945840e6ee47ff1_342071_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="顺德景点地图"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="300px"
>&lt;/p>
&lt;h3 id="顺峰山公园">顺峰山公园&lt;/h3>
&lt;p>在大良，免费开放，景色大概是这样：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/34532219" target="_blank" rel="noopener"
>顺峰山公园 - 知乎&lt;/a>&lt;/p>
&lt;h3 id="清晖园">清晖园&lt;/h3>
&lt;p>据说是岭南四大名园之首，位于大良清晖路。门票15元，顺德户籍的人有优惠。对园林的分析可以看 &lt;a class="link" href="https://zhuanlan.zhihu.com/p/349256529" target="_blank" rel="noopener"
>【景观笔记141】三个庭院带你了解清晖古园&lt;/a>，下面是&lt;a class="link" href="http://www.qinghuiyuan.com/" target="_blank" rel="noopener"
>清晖园官网的介绍&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>明朝万历丁未（1607）状元黄士俊（1570-1661年）于明天启元年（1621年）建筑黄家祠、天章阁和灵阿之阁。清乾隆年间（1711—1799年），大良进士龙应时(1716—1800年)购得旧址，修葺扩建，植花莳草，渐成规模。1805年，龙廷槐（(1749—1827年)建小方园。1806年，其子龙元任扩建，称“清晖园”，请同榜进士，江苏书法名家李兆洛题写园名。后其子龙元僖（1809-1884）建龙太常花园、楚芗园，几经周折转手，龙太常花园后改称“广大园”。龙氏后人经年精修，这一古老园林渐富岭南特色。&lt;/p>
&lt;p>1959年后，时任广东省委书记陶铸视察顺德，对清晖园修缮高度关注，指示重点保护，并拨款修复，更将楚芗园、广大园、介眉堂、竞勤堂合并，统称“清晖园”，后辟作顺德县委第一招待所。改革开放后，增设酒楼、宾馆、停车场，为旅游、饮食、住宿综合服务单位。二十世纪九十年代，顺德政府拨款修复扩建清晖园。二十世纪末，政府再度扩建，增添众多景点。1984年春邓小平同志来到清晖园，1994年春，邓小平同志在清晖园门前略作停留。为这一古老园林留下珍贵历史。&lt;/p>
&lt;/blockquote>
&lt;h2 id="北滘">北滘&lt;/h2>
&lt;p>在此给我们镇打个广告。如果你只去顺德玩，那么直接住大良是最好的，因为吃的、玩的都在大良。但如果你打算去禅城、广州玩，或者说你想住得好一点，那么请考虑一下北滘。&lt;/p>
&lt;p>一方面北滘的交通十分便利。去大良只需乘半小时的公交车；去广州有地铁7号线，去广州南站只需半小时，去广州市中心只需一个小时的地铁；去禅城也是一个小时的地铁。顺便说一下禅城的景点：祖庙、梁园、南风古灶、中山公园、岭南天地（因为我不熟，就不细说了）。&lt;/p>
&lt;p>另一方面，北滘的居住环境很好，有北滘公园、北滘广场、君兰河堤公园，晚上可以去散步；想逛商业区可以去北滘商业广场和悦然广场。北滘的餐饮偏商业化，但镇街里面也不乏一些大排档。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E5%8C%97%E6%BB%98.png"
width="723"
height="541"
srcset="https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E5%8C%97%E6%BB%98_hu2eb72650aeb264c65121ca8e26c794e2_316646_480x0_resize_box_3.png 480w, https://todd.scuteee.com/posts/2022/2022-06-08-shunde-trip/images/%E5%8C%97%E6%BB%98_hu2eb72650aeb264c65121ca8e26c794e2_316646_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="北滘"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p></description></item><item><title>踩坑</title><link>https://todd.scuteee.com/design/hugo/%E8%B8%A9%E5%9D%91/</link><pubDate>Tue, 31 May 2022 19:40:21 +0800</pubDate><guid>https://todd.scuteee.com/design/hugo/%E8%B8%A9%E5%9D%91/</guid><description>&lt;h2 id="summary">Summary&lt;/h2>
&lt;blockquote>
&lt;p>存疑，好像 summary 不起作用&lt;/p>
&lt;/blockquote>
&lt;p>根据 &lt;a class="link" href="https://gohugo.io/content-management/summaries/" target="_blank" rel="noopener"
>Content Summaries | Hugo&lt;/a>，Hugo 会按顺序从以下三个位置找 Summary：&lt;/p>
&lt;ol>
&lt;li>如果文中出现了 &lt;code>&amp;lt;!--more--&amp;gt;&lt;/code>，则取第一次 &lt;code>&amp;lt;!--more--&amp;gt;&lt;/code> 分隔前的内容作为摘要&lt;/li>
&lt;li>如果 front matter 中有 &lt;code>summary&lt;/code> 字段，则取该字段作为摘要&lt;/li>
&lt;li>如果都无则根据设置从文中摘取前n个字符作为摘要。&lt;/li>
&lt;/ol>
&lt;p>因此，如果设置了 &lt;code>summary&lt;/code> 字段，就没必要再加 &lt;code>&amp;lt;!--more--&amp;gt;&lt;/code>，加了反而 summary 无效。但是，如果 summary 字段为空，则等同于没有设置。&lt;/p>
&lt;h2 id="mathjax">Mathjax&lt;/h2>
&lt;p>本来打算直接通过 HTML 引入 Mathjax（以下代码参照 &lt;a class="link" href="https://note.qidong.name/2018/03/hugo-mathjax/" target="_blank" rel="noopener"
>在Hugo中使用MathJax&lt;/a>）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ if .Params.math }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">MathJax&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tex&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inlineMath&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[[&lt;/span>&lt;span class="s2">&amp;#34;$&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;$&amp;#34;&lt;/span>&lt;span class="p">]],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">displayMath&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;$$&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;$$&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;\[\[&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;\]\]&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">svg&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontCache&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;global&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://polyfill.io/v3/polyfill.min.js?features=es6&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;MathJax-script&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">async&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但是 Hugo 所使用的 goldmark 会将 &lt;code>\\&lt;/code> 转义为 &lt;code>\&lt;/code>，也就是说我们需要使用：&lt;code>\\\\&lt;/code>，十分不美观。&lt;/p>
&lt;p>目前找到的解决方法有两个：&lt;/p>
&lt;ol>
&lt;li>改底层代码，重新编译 hugo.exe：&lt;a class="link" href="https://github.com/ToddZZF/Hugo-Mathjax" target="_blank" rel="noopener"
>https://github.com/ToddZZF/Hugo-Mathjax&lt;/a>，已有的主题不用做任何修改&lt;/li>
&lt;li>用正则表达式去替换：&lt;a class="link" href="https://github.com/wzdlc1996/HugoSource" target="_blank" rel="noopener"
>https://github.com/wzdlc1996/HugoSource&lt;/a>，需要将 &lt;code>{{ .Content }}&lt;/code> 替换为下面这个 partial&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">layouts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">partials&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">escapeMathjaxEq&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rawcont&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">RawContent&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Content&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">niceBlockEqs&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">findRE&lt;/span> &lt;span class="s">&amp;#34;[$][$][\\w\\W]+?[$][$]&amp;#34;&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">RawContent&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">badBlockEqs&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">findRE&lt;/span> &lt;span class="s">&amp;#34;[$][$][\\w\\W]+?[$][$]&amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">ind&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">niceBlockEqs&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">replace&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nf">rddcont&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">index&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">badBlockEqs&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">ind&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">replaceRE&lt;/span> &lt;span class="s">&amp;#34;([^\\$])([$][^\\$]+?[$])([^\\$])&amp;#34;&lt;/span> &lt;span class="s">&amp;#34;$1 $2 $3&amp;#34;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">niceInlineEqs&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">findRE&lt;/span> &lt;span class="s">&amp;#34;[^\\$][$][^\\$]+?[$][^\\$]&amp;#34;&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">RawContent&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">badInlineEqs&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">findRE&lt;/span> &lt;span class="s">&amp;#34; [$][^\\$]+?[$] &amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">ind&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">niceInlineEqs&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">newval&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">replaceRE&lt;/span> &lt;span class="s">&amp;#34;([$][^\\$]+?[$])&amp;#34;&lt;/span> &lt;span class="s">&amp;#34; $1 &amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">replace&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nf">rddcont&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">index&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">badInlineEqs&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">ind&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">substr&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">newval&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">rddcont&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">safeHTML&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>关于我</title><link>https://todd.scuteee.com/about/</link><pubDate>Tue, 31 May 2022 18:31:21 +0800</pubDate><guid>https://todd.scuteee.com/about/</guid><description/></item><item><title>从 Jekyll 迁移到 Hugo</title><link>https://todd.scuteee.com/design/hugo/migrating-from-jekyll-to-hugo/</link><pubDate>Mon, 30 May 2022 21:23:21 +0800</pubDate><guid>https://todd.scuteee.com/design/hugo/migrating-from-jekyll-to-hugo/</guid><description>&lt;blockquote>
&lt;p>翻译自 &lt;a class="link" href="https://chenhuijing.com/blog/migrating-from-jekyll-to-hugo/" target="_blank" rel="noopener"
>Migrating from Jekyll to Hugo&lt;/a>&lt;/p>
&lt;p>因为文章太长了，所以只提炼要点。&lt;/p>
&lt;/blockquote>
&lt;h2 id="迁移-template">迁移 Template&lt;/h2>
&lt;p>首先是在 &lt;code>layouts/_default/&lt;/code> 文件夹里建立一个基本 template 叫 &lt;code>baseof.html&lt;/code>。这是我的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Site.LanguageCode }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ partial &amp;#34;head.html&amp;#34; . }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blender&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blender&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blend-checkbox&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blendToggle&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blendToggle&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blend-toggle&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ partial &amp;#34;header.html&amp;#34; . }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">main&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ block &amp;#34;main&amp;#34; . }}{{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">main&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ partial &amp;#34;footer.html&amp;#34; . }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ partial &amp;#34;scripts.html&amp;#34; . }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>原本 Jekyll 的基本布局是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{% include head.html %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blender&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blender&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blend-checkbox&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blendToggle&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blendToggle&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;blend-toggle&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% include header.html %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">main&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ content }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">main&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% include footer.html %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{% include foot.html %}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="在多个地方重复使用-html">在多个地方重复使用 HTML&lt;/h2>
&lt;blockquote>
&lt;p>&lt;code>{% include FILE_NAME.html %}&lt;/code> 转换为 &lt;code>{{ partial &amp;quot;FILE_NAME.html&amp;quot; }}&lt;/code>&lt;/p>
&lt;p>&lt;code>{{ site.VARIABLE_NAME }}&lt;/code> 转换为 &lt;code>{{ .Site.VARIABLE_NAME }}&lt;/code> 或 &lt;code>{{ .Site.Params.VARIABLE_NAME }}&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="template中的条件判断">template中的条件判断&lt;/h2>
&lt;p>在 Jekyll 中，条件判断长这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{% if page.is_post and page.hascaniuse %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--Do something if condition is true--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{% endif %}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 Hugo 中，长这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ if (and (eq .Type &amp;#34;blog&amp;#34;) (isset .Params &amp;#34;hascaniuse&amp;#34;)) }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--Do something if condition is true--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="根目录下的单个页面比如-about">根目录下的单个页面，比如 About&lt;/h2>
&lt;p>在 &lt;code>content&lt;/code> 文件夹下建立 &lt;code>about.md&lt;/code>，然后需要在 &lt;code>layout/_default/&lt;/code> 内新建一个 &lt;code>single.html&lt;/code>，这是我的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ define &amp;#34;main&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-header__title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Params.title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-content&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ .Content }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>原 Jekyll 版本长这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">layout: default
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-header__title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ page.title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-content&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ content }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>页面变量在 Jekyll 和 Hugo 中都可以使用。&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>{{ page.VARIABLE_NAME }}&lt;/code> 转换为 &lt;code>{{ .VARIABLE_NAME }}&lt;/code> 或 &lt;code>{{ .Params.VARIABLE_NAME }}&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;p>但在页面内是无法访问页面变量的，如果需要使用的话，要写一个 &lt;a class="link" href="https://gohugo.io/templates/shortcode-templates/" target="_blank" rel="noopener"
>自定义 shortcode&lt;/a>&lt;/p>
&lt;h2 id="列表页面比如-home-或-posts">列表页面，比如 home 或 posts&lt;/h2>
&lt;p>Hugo 中，列表页面负责列出一系列页面，对应的 template 是 &lt;code>list.html&lt;/code>&lt;/p>
&lt;p>Jekyll 上的列表页面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-list&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% for post in site.posts limit:10 %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;no-list-style&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-meta&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ post.date | date: &amp;#34;%b %-d, %Y&amp;#34; }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% if post.external_url %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-link external-url no-underline {{ post.external_site }}&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ post.external_url }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ post.title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% else %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-link no-underline&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ post.url | prepend: site.baseurl }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ post.title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endif %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% if post.external_site %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;note italicise&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>This article was originally published on {{ site.data.publications[post.external_site].name }}.&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endif %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-summary&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ post.content | markdownify | strip_html | truncatewords:20 }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endfor %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Hugo 上的列表页面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-list&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ range $page := first 10 (where .Site.RegularPages &amp;#34;Section&amp;#34; &amp;#34;in&amp;#34; .Site.Params.mainSections) }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;no-list-style&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-meta&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Date.Format &amp;#34;Jan 2, 2006&amp;#34; }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if .Params.external_url }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-link external-url no-underline {{ .Params.external_site }}&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Params.external_url }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ else }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-link no-underline&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Permalink }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if .Params.external_site }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;note italicise&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>This article was originally published on {{ (index .Site.Data.publications .Params.external_site).name }}.&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-summary&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Summary | truncate 130 }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Hugo 文档中的建议是使用 &lt;code>site.Params.mainSections&lt;/code> 而不是强行设为某个文件名：&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>{% for post in site.posts limit:10 %}{% endfor %}&lt;/code> 转换为 &lt;code>{{ range $page := first 10 (where .Site.RegularPages &amp;quot;Section&amp;quot; &amp;quot;in&amp;quot; .Site.Params.mainSections) }}{{ end }}&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;p>日期格式化也不同：&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>{{ post.date | date: &amp;quot;%b %-d, %Y&amp;quot; }}&lt;/code> 转换为 &lt;code>{{ .Date.Format &amp;quot;Jan 2, 2006&amp;quot; }}&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;p>Jekyll 和 Hugo 都可以生成摘要：&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>{{ post.content | markdownify | strip_html | truncatewords:20 }}&lt;/code> 转换为 &lt;code>{{ .Summary | truncate 130 }}&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="tags">Tags&lt;/h2>
&lt;p>我的 Jekyll tag 长这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{% if post.tags.size &amp;gt; 0 %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% capture tags_content %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% if post.tags.size == 1 %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;icon icon--tag&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="c">&amp;lt;!--It&amp;#39;s an inline SVG okay? Brevity here--&amp;gt;&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% else %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;icon icon--tags&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="c">&amp;lt;!--It&amp;#39;s an inline SVG okay? Brevity here--&amp;gt;&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endif %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endcapture %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% for post_tag in post.tags %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% assign tag = site.data.tags[post_tag] %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% if tag %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% capture tags_content_temp %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ tags_content }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-content__tag small&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/blog/{{ post_tag }}/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ tag.name }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% if forloop.last == false %}, {% endif %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endcapture %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% assign tags_content = tags_content_temp %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endif %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% endfor %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{% else %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {% assign tags_content = &amp;#39;&amp;#39; %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{% endif %}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-meta&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ tags_content }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Hugo 中的实现要更简单：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-meta&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $count := (len .Params.tags) }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if gt $count 1 }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;icon icon--tags&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="c">&amp;lt;!--It&amp;#39;s an inline SVG okay? Brevity here--&amp;gt;&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ else }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;icon icon--tag&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="c">&amp;lt;!--It&amp;#39;s an inline SVG okay? Brevity here--&amp;gt;&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ range $i, $e := .Params.tags }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if $i }}, {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post-content__tag small&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;{{ &amp;#34;/tags/&amp;#34; | relLangURL }}{{ . | urlize }}&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ $e }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="data-文件">Data 文件&lt;/h2>
&lt;blockquote>
&lt;p>&lt;code>{{ site.data.DATA_FILE_NAME }}&lt;/code> 转化为 &lt;code>{{ .Site.Data.DATA_FILE_NAME }}&lt;/code>&lt;/p>
&lt;/blockquote></description></item><item><title>尝试Hugo</title><link>https://todd.scuteee.com/posts/2022/2022-05-25-try-out-hugo/</link><pubDate>Wed, 25 May 2022 14:34:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-05-25-try-out-hugo/</guid><description>&lt;p>本博客已用 Hugo 重构。&lt;/p>
&lt;h2 id="hugo入门">Hugo入门&lt;/h2>
&lt;p>自从我开始写博客以来，我一直使用的是 &lt;a class="link" href="https://jekyllrb.com/" target="_blank" rel="noopener"
>Jekyll&lt;/a>，因为 github page 用的就是 Jekyll，我不需要在本地生成静态页面。但当我开始自己设计主题后，Jekyll 繁琐的安装方式和非常慢的生成页面的速度，让我很不爽。因此我决定尝试使用 &lt;a class="link" href="https://gohugo.io/" target="_blank" rel="noopener"
>Hugo&lt;/a>. Hugo 是由 Go 编写的，并且运行速度很快（宣传生成一篇文章只需 1ms）。Hugo 的安装方式十分简单，下载一个 exe 文件，然后添加到 PATH 里即可。可以用以下命令验证安装是否成功：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">$ hugo version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo v0.99.1-d524067382e60ce2a2248c3133a1b3af206b6ef1 windows/amd64 &lt;span class="nv">BuildDate&lt;/span>&lt;span class="o">=&lt;/span>2022-05-18T11:18:14Z &lt;span class="nv">VendorInfo&lt;/span>&lt;span class="o">=&lt;/span>gohugoio
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Hugo 建立静态网站的步骤和 Jekyll 很类似，都是 init -&amp;gt; write -&amp;gt; generate -&amp;gt; serve。可以跟着官网的 &lt;a class="link" href="https://gohugo.io/getting-started/quick-start/" target="_blank" rel="noopener"
>Quick Start&lt;/a> 实践一下。&lt;/p>
&lt;p>Hugo 的主题管理用的是 git submodule，并且在配置文件 &lt;code>config.toml&lt;/code> 中设置 &lt;code>theme = &amp;quot;[your theme]&amp;quot;&lt;/code>。顺便提一下 &lt;a class="link" href="https://toml.io/cn/" target="_blank" rel="noopener"
>toml&lt;/a> 是一种与 json、yaml 类似的配置文件格式。（尽管我个人更喜欢yaml，因为 toml 的表必须写在最后面，让我很难受）&lt;/p>
&lt;p>Hugo 的文章放在 &lt;code>/content/post/&lt;/code> 下，写完后用 &lt;code>hugo server -D&lt;/code> 来预览，地址是 &lt;a class="link" href="http://localhost:1313/" target="_blank" rel="noopener"
>http://localhost:1313/&lt;/a>，预览是实时更新的。&lt;/p>
&lt;p>Hugo 提供了迁移命令 &lt;code>import&lt;/code>，可以将其他博客项目转换为 Hugo 项目，命令格式是 &lt;code>hugo import jekyll JEKYLL_ROOT_PATH TARGET_PATH&lt;/code>&lt;/p>
&lt;h2 id="hugo开发">Hugo开发&lt;/h2>
&lt;h3 id="hugo命令">Hugo命令&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">hugo new site &lt;span class="o">[&lt;/span>site name&lt;span class="o">]&lt;/span> &lt;span class="c1"># 新建一个 site name 网站&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo &lt;span class="c1"># 在 /public/ 文件夹中生成页面&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo server &lt;span class="c1"># 运行一个实时更新的服务器&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>以上两个命令可以和以下参数结合：&lt;/p>
&lt;ul>
&lt;li>&lt;code>-D&lt;/code>：生成草稿（Drafts）&lt;/li>
&lt;li>&lt;code>-E&lt;/code>：生成过期文章（Expired）&lt;/li>
&lt;li>&lt;code>-F&lt;/code>：生成未来文章（Future）&lt;/li>
&lt;/ul>
&lt;h3 id="项目结构">项目结构&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── archetypes &lt;span class="c1"># 头信息模板&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── config.toml &lt;span class="c1"># 配置文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── content &lt;span class="c1"># 博文&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── data &lt;span class="c1"># 数据&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── layouts &lt;span class="c1"># 样式&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── static &lt;span class="c1"># 静态文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── themes &lt;span class="c1"># 主题&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="内容管理">内容管理&lt;/h3>
&lt;h4 id="page-bundles">Page Bundles&lt;/h4>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/page-bundles/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Page Bundles 用于组织页面资源。Page Bundles 分为 Leaf Bundle 和 Branch Bundle。两者区别如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>Leaf Bundle&lt;/th>
&lt;th>Branch Bundle&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>用法&lt;/td>
&lt;td>单页内容和附件的集合&lt;/td>
&lt;td>一系列内容的集合（比如 home page）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Index file name&lt;/td>
&lt;td>&lt;code>index.md&lt;/code>&lt;/td>
&lt;td>&lt;code>_index.md&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>允许的资源&lt;/td>
&lt;td>page 和 non-page（图片等）&lt;/td>
&lt;td>non-page（图片等）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>资源存放的位置&lt;/td>
&lt;td>leaf bundle 文件夹内的任何文件夹&lt;/td>
&lt;td>只能存放在 branch bundle 的文件夹，与 &lt;code>_index.md&lt;/code> 同级&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Layout 类型&lt;/td>
&lt;td>single&lt;/td>
&lt;td>list&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>示例&lt;/td>
&lt;td>&lt;code>/content/posts/my-post/index.md&lt;/code>&lt;/td>
&lt;td>&lt;code>content/posts/_index.md&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>非index文件&lt;/td>
&lt;td>Accessed only as page resources&lt;/td>
&lt;td>Accessed only as regular pages&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>简单来说，如果只是单篇博文，那么就用 Leaf Bundle；如果是多篇博文，那就用 Branch Bundle. 由于 &lt;code>/content/&lt;/code> 本身就包含了所有的博文，所以它应该是 Branch Bundle（我们应该建立一个 &lt;code>/content/_index.md&lt;/code>）。&lt;/p>
&lt;p>以下是 Leaf Bundle 示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">content/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── about
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── posts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── my-post
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── content1.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── content2.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── image1.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ ├── image2.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ └── index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── my-other-post
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── another-section
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ├── ..
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── not-a-leaf-bundle
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ├── ..
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── another-leaf-bundle
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── index.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>以下是 Branch Bundle 示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">content/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── branch-bundle-1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── branch-content1.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── branch-content2.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── image1.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── image2.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── _index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── branch-bundle-2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ├── _index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── a-leaf-bundle
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── index.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相比之下，Jekyll 是将博文放在 &lt;code>_post&lt;/code>，而图片放在其他文件夹，这点就不太好，图片一多就容易乱。&lt;/p>
&lt;h4 id="page-resources">Page Resources&lt;/h4>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/page-resources/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>页面资源（图片、其他页面、文档等）可以通过 Page Bundle 访问，但不同 Page Bundle 的页面资源不互通。有三种方法可以获得页面资源：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过文件类型
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Resources&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ByType&lt;/span> &lt;span class="s">&amp;#34;image&amp;#34;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过文件名匹配，支持模糊匹配
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Resources&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Match&lt;/span> &lt;span class="s">&amp;#34;images/*&amp;#34;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Resources&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Match&lt;/span> &lt;span class="s">&amp;#34;**/sunset.jpg&amp;#34;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 通过文件名匹配，但返回第一个匹配的文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Resources&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">GetMatch&lt;/span> &lt;span class="s">&amp;#34;images/*&amp;#34;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="front-matter">Front Matter&lt;/h4>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/front-matter/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Hugo 的 Front Matter 和 Jekyll 一样也可以用 yaml。&lt;/p>
&lt;p>以下是部分常用的预定义的 Front Matter 变量（除了这些之外也可以自定义变量）：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>date&lt;/code>：日期&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>expiryDate&lt;/code>：过期日期（过了过期日期文章就看不了）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>publishDate&lt;/code>：出版日期（没到出版日期文章就看不了）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>lastmod&lt;/code>：最后修改时间&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>draft&lt;/code>：是否是草稿。如果设置为 &lt;code>true&lt;/code>，则不会生成页面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>title&lt;/code>：文章标题&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>type&lt;/code>：文章类型（如果没设置，则默认是文件夹名）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>keyword&lt;/code>：文章关键字&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>description&lt;/code>：文章描述&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>images&lt;/code>：与文章相关的一组图片，用于 &lt;a class="link" href="https://gohugo.io/templates/internal" target="_blank" rel="noopener"
>Internal Templates&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>audio&lt;/code>：与文章相关的一组音频，用于 &lt;a class="link" href="https://gohugo.io/templates/internal" target="_blank" rel="noopener"
>Internal Templates&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>videos&lt;/code>：与文章相关的一组视频，用于 &lt;a class="link" href="https://gohugo.io/templates/internal" target="_blank" rel="noopener"
>Internal Templates&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>aliases&lt;/code>：替代地址（alias直译是别名），Hugo 会在替代地址处生成一个跳转网页，当访问替代地址时会跳转到原页面地址。&lt;a class="link" href="https://gohugo.io/content-management/urls/#aliases" target="_blank" rel="noopener"
>详情&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">aliases&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/posts/my-original-url/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/2010/01/01/even-earlier-url.html&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>cascade&lt;/code>：一组会传递给子页面的变量（和 Jekyll 中的默认变量差不多），我们可以用 &lt;code>_target&lt;/code> 为特定的子页面设置不同变量。&lt;a class="link" href="https://gohugo.io/content-management/front-matter/#front-matter-cascade" target="_blank" rel="noopener"
>详情&lt;/a>。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">cascade&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">_target&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">page&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lang&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">en&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/blog/**&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">background&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">yosemite.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">_target&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">section&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">background&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">goldenbridge.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;code>layout&lt;/code>：页面布局。如果没有的话，就采用与 section 名相同的 layout。更多请看 &lt;a class="link" href="https://gohugo.io/templates/lookup-order/" target="_blank" rel="noopener"
>Hugo Layouts Lookup Rules&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>weight&lt;/code>：用于整理文章。必须是非 0 值，0 表示未设置 weight（默认的排序权重是：Weight &amp;gt; Date &amp;gt; LinkTitle &amp;gt; FilePath）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>_build&lt;/code>：可以指定页面的 Build Options，有两个子变量 &lt;code>list&lt;/code> 和 &lt;code>render&lt;/code>，用法见 &lt;a class="link" href="https://gohugo.io/content-management/build-options/#illustrative-use-cases" target="_blank" rel="noopener"
>use cases&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="图像处理">图像处理&lt;/h3>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/image-processing/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>得益于 go 自带的图像处理库，我们可以在文章内对文章进行处理，比如裁剪、滤镜、压缩、获取Exif信息（这个在相册中非常有用）&lt;/p>
&lt;h3 id="archetypes">Archetypes&lt;/h3>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/archetypes/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Archetypes 中文是原型，当使用 &lt;code>hugo new&lt;/code> 命令新建一个文章时，会使用 &lt;code>archetypes&lt;/code> 中的文件来初始化文件，比如如果定义一个 &lt;code>archetypes/newsletter.md&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;{{ replace .Name &amp;#34;&lt;/span>-&lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34; | title }}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">date&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Date }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">draft&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>那么当在 &lt;code>/content/newsletter/&lt;/code> 内用命令行新建文章时，就会自动填写 front matter（再也不同复制粘贴了）。&lt;/p>
&lt;p>特殊的，hugo 支持将文件夹作为 archetype，用的时候要用 &lt;code>hugo new --kind [文件夹]&lt;/code> 来指定。&lt;/p>
&lt;h3 id="template">template&lt;/h3>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/templates/introduction/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Hugo 使用 Go 的 &lt;a class="link" href="https://pkg.go.dev/html/template" target="_blank" rel="noopener"
>html/template&lt;/a> 和 &lt;a class="link" href="https://pkg.go.dev/text/template" target="_blank" rel="noopener"
>text/template&lt;/a> 库作为模板的基础。&lt;/p>
&lt;p>与 Liquid 一样，模板用两个花括号 &lt;code>{{ }}&lt;/code> 包裹。如果要去除空格，可以用 &lt;code>{{- -}}&lt;/code>，也可以只去除单边空格，比如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="mi">23&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//output:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//23&amp;lt;45
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="action">Action&lt;/h4>
&lt;p>Action 介绍了一些语句，下面的 pipeline 可以看作 Liquid 里的过滤器（可以简单理解为变量、函数调用etc）。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="cm">/* a comment */&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">注释，执行时会忽略。可以多行。注释不能嵌套，并且必须紧贴分界符始止，就像这里表示的一样。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值的默认文本表示会被拷贝到输出里。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值为&lt;/span>&lt;span class="nx">empty&lt;/span>&lt;span class="err">，不产生输出，否则输出&lt;/span>&lt;span class="nx">T1&lt;/span>&lt;span class="err">执行结果。不改变&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">的值。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Empty&lt;/span>&lt;span class="err">值包括&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="err">、&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="err">、任意&lt;/span>&lt;span class="nx">nil&lt;/span>&lt;span class="err">指针或者&lt;/span>&lt;span class="nx">nil&lt;/span>&lt;span class="err">接口，任意长度为&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="err">的数组、切片、字典。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值为&lt;/span>&lt;span class="nx">empty&lt;/span>&lt;span class="err">，输出&lt;/span>&lt;span class="nx">T0&lt;/span>&lt;span class="err">执行结果，否则输出&lt;/span>&lt;span class="nx">T1&lt;/span>&lt;span class="err">执行结果。不改变&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">的值。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">用于简化&lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">else&lt;/span>&lt;span class="err">链条，&lt;/span>&lt;span class="k">else&lt;/span> &lt;span class="nx">action&lt;/span>&lt;span class="err">可以直接包含另一个&lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="err">；等价于：&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">}}{{&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">range&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值必须是数组、切片、字典或者通道。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值其长度为&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="err">，不会有任何输出；&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">否则&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">遍历数组、切片、字典或者通道的每一个成员元素并执行&lt;/span>&lt;span class="nx">T1&lt;/span>&lt;span class="err">；&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值为字典，且键可排序的基本类型，元素也会按键的顺序排序。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">range&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值必须是数组、切片、字典或者通道。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值其长度为&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="err">，不改变&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">的值并执行&lt;/span>&lt;span class="nx">T0&lt;/span>&lt;span class="err">；否则&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">会遍历其中的元素并执行&lt;/span>&lt;span class="nx">T1&lt;/span>&lt;span class="err">。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">break&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">提前结束&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="k">range&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span>&lt;span class="err">的所有遍历&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="k">continue&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">提前结束&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="k">range&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span>&lt;span class="err">的当次遍历&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">define&lt;/span> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">定义为&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="err">的模板&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">template&lt;/span> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">执行名为&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="err">的模板，提供给模板的参数为&lt;/span>&lt;span class="kc">nil&lt;/span>&lt;span class="err">，如模板不存在输出为&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">template&lt;/span> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">执行名为&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="err">的模板，提供给模板的参数为&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">block&lt;/span> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">先定义一个名为&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="err">的模板，&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span>&lt;span class="nx">define&lt;/span> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">再将&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">作为参数，执行该模板&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span>&lt;span class="nx">template&lt;/span> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">with&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">为&lt;/span>&lt;span class="nx">empty&lt;/span>&lt;span class="err">不产生输出，否则将&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">设为&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值并执行&lt;/span>&lt;span class="nx">T1&lt;/span>&lt;span class="err">。不修改外面的&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span>&lt;span class="nx">with&lt;/span> &lt;span class="nx">pipeline&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">如果&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">为&lt;/span>&lt;span class="nx">empty&lt;/span>&lt;span class="err">，不改变&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">并执行&lt;/span>&lt;span class="nx">T0&lt;/span>&lt;span class="err">，否则&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="err">设为&lt;/span>&lt;span class="nx">pipeline&lt;/span>&lt;span class="err">的值并执行&lt;/span>&lt;span class="nx">T1&lt;/span>&lt;span class="err">。&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="arguments">Arguments&lt;/h4>
&lt;p>参数代表一个简单的，由下面的某一条表示的值：&lt;/p>
&lt;ul>
&lt;li>go语法的布尔值、字符串、字符、整数、浮点数、虚数、复数，视为无类型字面常数，字符串不能跨行&lt;/li>
&lt;li>关键字nil，代表一个go的无类型的nil值&lt;/li>
&lt;li>字符&amp;rsquo;.&amp;rsquo;（句点，用时不加单引号），代表dot的值&lt;/li>
&lt;li>变量名，以美元符号起始加上（可为空的）字母和数字构成的字符串，如：$piOver2和$；
执行结果为变量的值，变量参见下面的介绍&lt;/li>
&lt;li>结构体数据的字段名，以句点起始，如：.Field；
执行结果为字段的值，支持链式调用：.Field1.Field2；
字段也可以在变量上使用（包括链式调用）：$x.Field1.Field2；&lt;/li>
&lt;li>字典类型数据的键名；以句点起始，如：.Key；
执行结果是该键在字典中对应的成员元素的值；
键也可以和字段配合做链式调用，深度不限：.Field1.Key1.Field2.Key2；
虽然键也必须是字母和数字构成的标识字符串，但不需要以大写字母起始；
键也可以用于变量（包括链式调用）：$x.key1.key2；&lt;/li>
&lt;li>数据的无参数方法名，以句点为起始，如：.Method；
执行结果为dot调用该方法的返回值，dot.Method()；
该方法必须有1到2个返回值，如果有2个则后一个必须是error接口类型；
如果有2个返回值的方法返回的error非nil，模板执行会中断并返回给调用模板执行者该错误；
方法可和字段、键配合做链式调用，深度不限：.Field1.Key1.Method1.Field2.Key2.Method2；
方法也可以在变量上使用（包括链式调用）：$x.Method1.Field；&lt;/li>
&lt;li>无参数的函数名，如：fun；
执行结果是调用该函数的返回值fun()；对返回值的要求和方法一样；函数和函数名细节参见后面。&lt;/li>
&lt;li>上面某一条的实例加上括弧（用于分组）
执行结果可以访问其字段或者键对应的值：
print (.F1 arg1) (.F2 arg2)
(.StructValuedMethod &amp;ldquo;arg&amp;rdquo;).Field&lt;/li>
&lt;/ul>
&lt;h4 id="pipeline">Pipeline&lt;/h4>
&lt;p>Pipeline是一个（可能是链状的）command序列。Command可以是一个简单值（argument）或者对函数或者方法的（可以有多个参数的）调用：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Argument&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">执行结果是&lt;/span>&lt;span class="nx">argument&lt;/span>&lt;span class="err">的执行结果&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">Method&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Argument&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">方法可以独立调用或者位于链式调用的末端，不同于链式调用中间的方法，可以使用参数；&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">执行结果是使用给出的参数调用该方法的返回值：&lt;/span>&lt;span class="nx">dot&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Method&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Argument1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">etc&lt;/span>&lt;span class="p">.)&lt;/span>&lt;span class="err">；&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">functionName&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Argument&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">执行结果是使用给定的参数调用函数名指定的函数的返回值：&lt;/span>&lt;span class="nf">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Argument1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">etc&lt;/span>&lt;span class="p">.)&lt;/span>&lt;span class="err">；&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>pipeline可以链式执行，用管道符 &lt;code>|&lt;/code> 隔开（与 Liquid 一样）在一个链式的pipeline里，每个command的结果都作为下一个command的最后一个参数。pipeline最后一个command的输出作为整个管道执行的结果。&lt;/p>
&lt;h4 id="variables">Variables&lt;/h4>
&lt;p>Action里可以初始化一个变量来捕获管道的执行结果。变量无论是定义还是使用时都要在前面加 &lt;code>$&lt;/code>。变量初始化语法如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nx">variable&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">pipeline&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>变量可以重新赋值：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="err">$&lt;/span>&lt;span class="nx">variable&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">pipeline&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果&amp;quot;range&amp;quot; action初始化了1个变量，该变量设置为迭代器的每一个成员元素，如果初始化了逗号分隔的2个变量：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">range&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">element&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">pipeline&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这时，$index和$element分别设置为数组/切片的索引或者字典的键，以及对应的成员元素。注意这和go range从句只有一个参数时设置为索引/键不同！&lt;/p>
&lt;p>一个变量的作用域只到声明它的控制结构（&amp;ldquo;if&amp;rdquo;、&amp;ldquo;with&amp;rdquo;、&amp;ldquo;range&amp;rdquo;）的&amp;quot;end&amp;quot;为止，如果不是在控制结构里声明会直到模板结束为止。子模板的调用不会从调用它的位置（作用域）继承变量。&lt;/p>
&lt;p>模板开始执行时，$会设置为传递给Execute方法的参数，就是说，dot的初始值。&lt;/p>
&lt;h4 id="functions">Functions&lt;/h4>
&lt;p>预定义的全局函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">and
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 函数返回它的第一个empty参数或者最后一个参数；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 就是说&amp;#34;and x y&amp;#34;等价于&amp;#34;if x then y else x&amp;#34;；所有参数都会执行；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">or
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回第一个非empty参数或者最后一个参数；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 亦即&amp;#34;or x y&amp;#34;等价于&amp;#34;if x then x else y&amp;#34;；所有参数都会执行；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">not
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回它的单个参数的布尔值的否定
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回它的参数的整数类型长度
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">index
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 执行结果为第一个参数以剩下的参数为索引/键指向的值；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 如&amp;#34;index x 1 2 3&amp;#34;返回x[1][2][3]的值；每个被索引的主体必须是数组、切片或者字典。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">print
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 即fmt.Sprint
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">printf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 即fmt.Sprintf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">println
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 即fmt.Sprintln
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回其参数文本表示的HTML逸码等价表示。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">urlquery
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回其参数文本表示的可嵌入URL查询的逸码等价表示。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回其参数文本表示的JavaScript逸码等价表示。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">call
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 执行结果是调用第一个参数的返回值，该参数必须是函数类型，其余参数作为调用该函数的参数；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 如&amp;#34;call .X.Y 1 2&amp;#34;等价于go语言里的dot.X.Y(1, 2)；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 其中Y是函数类型的字段或者字典的值，或者其他类似情况；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> call的第一个参数的执行结果必须是函数类型的值（和预定义函数如print明显不同）；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 该函数类型值必须有1到2个返回值，如果有2个则后一个必须是error接口类型；
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 如果有2个返回值的方法返回的error非nil，模板执行会中断并返回给调用模板执行者该错误；
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>二元比较运算也被定义为函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">eq 如果arg1 == arg2则返回真
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ne 如果arg1 != arg2则返回真
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lt 如果arg1 &amp;lt; arg2则返回真
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">le 如果arg1 &amp;lt;= arg2则返回真
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gt 如果arg1 &amp;gt; arg2则返回真
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ge 如果arg1 &amp;gt;= arg2则返回真
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>为了简化多参数相等检测，eq（只有eq）可以接受2个或更多个参数，它会将第一个参数和其余参数依次比较，返回下式的结果：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">arg1&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="nx">arg2&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">arg1&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="nx">arg3&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">arg1&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="nx">arg4&lt;/span> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>（和go的||不一样，不做惰性运算，所有参数都会执行）&lt;/p>
&lt;p>更多 function 请参考 &lt;a class="link" href="https://gohugo.io/categories/functions" target="_blank" rel="noopener"
>functions | Hugo&lt;/a>&lt;/p>
&lt;h4 id="常用语句">常用语句&lt;/h4>
&lt;p>拼接字符串&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//to get a output like $b$c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">printf&lt;/span> &lt;span class="s">&amp;#34;%s%s&amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">c&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">printf&lt;/span> &lt;span class="s">&amp;#34;%s&amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">printf&lt;/span> &lt;span class="s">&amp;#34;%s%s&amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">printf&lt;/span> &lt;span class="s">&amp;#34;%s&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>教育网ip地址</title><link>https://todd.scuteee.com/posts/2022/2022-05-24-cernet-ip/</link><pubDate>Tue, 24 May 2022 15:59:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-05-24-cernet-ip/</guid><description>&lt;p>之前建设 scuteee.com 时研究了一下怎么设置仅限学校内访问，方法是在 nginx 中开启 ip 地址白名单，仅限教育网ip访问。在此记录一下教育网的ip&lt;/p>
&lt;details>
&lt;summary>ip、子网、掩码&lt;/summary>
{% highlight c %}
1.51.0.0 0.0.255.255 255.255.0.0
1.184.0.0 0.1.255.255 255.254.0.0
42.244.0.0 0.3.255.255 255.252.0.0
49.52.0.0 0.3.255.255 255.252.0.0
49.120.0.0 0.3.255.255 255.252.0.0
49.140.0.0 0.1.255.255 255.254.0.0
49.208.0.0 0.1.255.255 255.254.0.0
58.17.0.0 0.0.255.255 255.255.0.0
58.24.0.0 0.1.255.255 255.254.0.0
58.154.0.0 0.1.255.255 255.254.0.0
58.192.0.0 0.15.255.255 255.240.0.0
58.240.0.0 0.1.255.255 255.254.0.0
59.32.0.0 0.15.255.255 255.240.0.0
59.64.0.0 0.15.255.255 255.240.0.0
60.0.0.0 0.31.255.255 255.224.0.0
60.63.0.0 0.0.255.255 255.255.0.0
61.28.0.0 0.0.15.255 255.255.240.0
61.48.0.0 0.7.255.255 255.248.0.0
61.128.0.0 0.63.255.255 255.192.0.0
61.232.0.0 0.3.255.255 255.252.0.0
61.236.0.0 0.1.255.255 255.254.0.0
61.240.0.0 0.3.255.255 255.252.0.0
101.4.0.0 0.3.255.255 255.252.0.0
101.76.0.0 0.1.255.255 255.254.0.0
110.64.0.0 0.1.255.255 255.254.0.0
111.114.0.0 0.1.255.255 255.254.0.0
111.116.0.0 0.1.255.255 255.254.0.0
111.186.0.0 0.1.255.255 255.254.0.0
113.54.0.0 0.1.255.255 255.254.0.0
114.212.0.0 0.1.255.255 255.254.0.0
114.214.0.0 0.0.255.255 255.255.0.0
115.24.0.0 0.3.255.255 255.252.0.0
115.154.0.0 0.1.255.255 255.254.0.0
115.156.0.0 0.1.255.255 255.254.0.0
115.158.0.0 0.0.255.255 255.255.0.0
116.13.0.0 0.0.255.255 255.255.0.0
116.56.0.0 0.1.255.255 255.254.0.0
118.202.0.0 0.1.255.255 255.254.0.0
118.228.0.0 0.1.255.255 255.254.0.0
118.230.0.0 0.0.255.255 255.255.0.0
120.94.0.0 0.1.255.255 255.254.0.0
121.48.0.0 0.1.255.255 255.254.0.0
121.52.160.0 0.0.31.255 255.255.224.0
121.192.0.0 0.3.255.255 255.252.0.0
121.248.0.0 0.3.255.255 255.252.0.0
122.204.0.0 0.3.255.255 255.252.0.0
125.216.0.0 0.7.255.255 255.248.0.0
137.189.0.0 0.0.255.255 255.255.0.0
140.113.0.0 0.0.255.255 255.255.0.0
143.89.0.0 0.0.255.255 255.255.0.0
144.214.0.0 0.0.255.255 255.255.0.0
147.8.0.0 0.0.255.255 255.255.0.0
152.101.0.0 0.0.255.255 255.255.0.0
152.104.0.0 0.0.255.255 255.255.0.0
158.132.0.0 0.0.255.255 255.255.0.0
158.182.0.0 0.0.255.255 255.255.0.0
159.226.0.0 0.0.255.255 255.255.0.0
161.207.0.0 0.0.255.255 255.255.0.0
162.105.0.0 0.0.255.255 255.255.0.0
166.111.0.0 0.0.255.255 255.255.0.0
167.139.0.0 0.0.255.255 255.255.0.0
168.160.0.0 0.0.255.255 255.255.0.0
175.185.0.0 0.0.255.255 255.255.0.0
175.186.0.0 0.1.255.255 255.254.0.0
180.84.0.0 0.1.255.255 255.254.0.0
180.201.0.0 0.0.255.255 255.255.0.0
180.208.0.0 0.1.255.255 255.254.0.0
183.168.0.0 0.1.255.255 255.254.0.0
183.170.0.0 0.0.255.255 255.255.0.0
183.172.0.0 0.3.255.255 255.252.0.0
192.86.104.0 0.0.0.255 255.255.255.0
202.4.128.0 0.0.31.255 255.255.224.0
202.38.0.0 0.0.255.255 255.255.0.0
202.40.192.0 0.0.31.255 255.255.224.0
202.45.32.0 0.0.31.255 255.255.224.0
202.75.64.0 0.0.31.255 255.255.224.0
202.84.16.0 0.0.1.255 255.255.254.0
202.95.0.0 0.0.31.255 255.255.224.0
202.96.0.0 0.15.255.255 255.240.0.0
202.112.0.0 0.7.255.255 255.248.0.0
202.120.0.0 0.1.255.255 255.254.0.0
202.122.32.0 0.0.15.255 255.255.240.0
202.127.0.0 0.0.63.255 255.255.192.0
202.127.128.0 0.0.127.255 255.255.128.0
202.130.0.0 0.0.31.255 255.255.224.0
202.130.224.0 0.0.31.255 255.255.224.0
202.131.208.0 0.0.15.255 255.255.240.0
202.189.96.0 0.0.31.255 255.255.224.0
202.192.0.0 0.15.255.255 255.240.0.0
203.81.16.0 0.0.15.255 255.255.240.0
203.87.224.0 0.0.31.255 255.255.224.0
203.93.0.0 0.0.255.255 255.255.0.0
203.128.128.0 0.0.31.255 255.255.224.0
203.192.0.0 0.0.31.255 255.255.224.0
203.207.64.0 0.0.63.255 255.255.192.0
203.207.128.0 0.0.127.255 255.255.128.0
203.208.0.0 0.0.31.255 255.255.224.0
203.212.0.0 0.0.15.255 255.255.240.0
210.5.0.0 0.0.31.255 255.255.224.0
210.12.0.0 0.1.255.255 255.254.0.0
210.14.160.0 0.0.31.255 255.255.224.0
210.14.192.0 0.0.63.255 255.255.192.0
210.15.0.0 0.0.127.255 255.255.128.0
210.15.128.0 0.0.63.255 255.255.192.0
210.21.0.0 0.0.255.255 255.255.0.0
210.22.0.0 0.0.255.255 255.255.0.0
210.25.0.0 0.0.127.255 255.255.128.0
210.25.128.0 0.0.63.255 255.255.192.0
210.26.0.0 0.1.255.255 255.254.0.0
210.28.0.0 0.3.255.255 255.252.0.0
210.32.0.0 0.15.255.255 255.240.0.0
210.51.0.0 0.0.255.255 255.255.0.0
210.52.0.0 0.1.255.255 255.254.0.0
210.72.0.0 0.3.255.255 255.252.0.0
210.76.0.0 0.1.255.255 255.254.0.0
210.78.0.0 0.0.255.255 255.255.0.0
210.79.224.0 0.0.31.255 255.255.224.0
210.82.0.0 0.1.255.255 255.254.0.0
210.192.96.0 0.0.31.255 255.255.224.0
211.64.0.0 0.7.255.255 255.248.0.0
211.80.0.0 0.15.255.255 255.240.0.0
211.96.0.0 0.7.255.255 255.248.0.0
211.136.0.0 0.7.255.255 255.248.0.0
211.144.0.0 0.15.255.255 255.240.0.0
211.160.0.0 0.7.255.255 255.248.0.0
218.0.0.0 0.31.255.255 255.224.0.0
218.56.0.0 0.7.255.255 255.248.0.0
218.64.0.0 0.31.255.255 255.224.0.0
218.96.0.0 0.3.255.255 255.252.0.0
218.104.0.0 0.3.255.255 255.252.0.0
218.108.0.0 0.0.255.255 255.255.0.0
218.192.0.0 0.15.255.255 255.240.0.0
218.240.0.0 0.7.255.255 255.248.0.0
219.72.0.0 0.0.255.255 255.255.0.0
219.128.0.0 0.31.255.255 255.224.0.0
219.216.0.0 0.7.255.255 255.248.0.0
219.224.0.0 0.15.255.255 255.240.0.0
219.242.0.0 0.1.255.255 255.254.0.0
219.244.0.0 0.3.255.255 255.252.0.0
220.160.0.0 0.31.255.255 255.224.0.0
220.192.0.0 0.15.255.255 255.240.0.0
220.234.0.0 0.0.255.255 255.255.0.0
220.248.0.0 0.3.255.255 255.252.0.0
220.252.0.0 0.0.255.255 255.255.0.0
221.0.0.0 0.15.255.255 255.240.0.0
221.130.0.0 0.1.255.255 255.254.0.0
221.137.0.0 0.0.255.255 255.255.0.0
221.172.0.0 0.3.255.255 255.252.0.0
221.192.0.0 0.7.255.255 255.248.0.0
221.200.0.0 0.3.255.255 255.252.0.0
221.204.0.0 0.1.255.255 255.254.0.0
221.208.0.0 0.3.255.255 255.252.0.0
221.212.0.0 0.0.255.255 255.255.0.0
221.214.0.0 0.1.255.255 255.254.0.0
221.216.0.0 0.7.255.255 255.248.0.0
221.224.0.0 0.15.255.255 255.240.0.0
222.16.0.0 0.15.255.255 255.240.0.0
222.32.0.0 0.31.255.255 255.224.0.0
222.64.0.0 0.31.255.255 255.224.0.0
222.132.0.0 0.3.255.255 255.252.0.0
222.136.0.0 0.7.255.255 255.248.0.0
222.160.0.0 0.3.255.255 255.252.0.0
222.168.0.0 0.7.255.255 255.248.0.0
222.176.0.0 0.15.255.255 255.240.0.0
222.192.0.0 0.15.255.255 255.240.0.0
222.208.0.0 0.7.255.255 255.248.0.0
222.216.0.0 0.1.255.255 255.254.0.0
222.218.0.0 0.0.255.255 255.255.0.0
222.222.0.0 0.1.255.255 255.254.0.0
222.240.0.0 0.7.255.255 255.248.0.0
223.2.0.0 0.1.255.255 255.254.0.0
223.128.0.0 0.1.255.255 255.254.0.0
{% endhighlight %}
&lt;/details>
&lt;details>
&lt;summary>nginx可用的ip白名单&lt;/summary>
{% highlight c %}
allow 1.51.0.0/16;
allow 1.184.0.0/15;
allow 42.244.0.0/14;
allow 49.52.0.0/14;
allow 49.120.0.0/14;
allow 49.140.0.0/15;
allow 49.208.0.0/15;
allow 58.17.0.0/16;
allow 58.24.0.0/15;
allow 58.154.0.0/15;
allow 58.192.0.0/12;
allow 58.240.0.0/15;
allow 59.32.0.0/12;
allow 59.64.0.0/12;
allow 60.0.0.0/11;
allow 60.63.0.0/16;
allow 61.28.0.0/20;
allow 61.48.0.0/13;
allow 61.128.0.0/10;
allow 61.232.0.0/14;
allow 61.236.0.0/15;
allow 61.240.0.0/14;
allow 101.4.0.0/14;
allow 101.76.0.0/15;
allow 110.64.0.0/15;
allow 111.114.0.0/15;
allow 111.116.0.0/15;
allow 111.186.0.0/15;
allow 113.54.0.0/15;
allow 114.212.0.0/15;
allow 114.214.0.0/16;
allow 115.24.0.0/14;
allow 115.154.0.0/15;
allow 115.156.0.0/15;
allow 115.158.0.0/16;
allow 116.13.0.0/16;
allow 116.56.0.0/15;
allow 118.202.0.0/15;
allow 118.228.0.0/15;
allow 118.230.0.0/16;
allow 120.94.0.0/15;
allow 121.48.0.0/15;
allow 121.52.160.0/19;
allow 121.192.0.0/14;
allow 121.248.0.0/14;
allow 122.204.0.0/14;
allow 125.216.0.0/13;
allow 137.189.0.0/16;
allow 140.113.0.0/16;
allow 143.89.0.0/16;
allow 144.214.0.0/16;
allow 147.8.0.0/16;
allow 152.101.0.0/16;
allow 152.104.0.0/16;
allow 158.132.0.0/16;
allow 158.182.0.0/16;
allow 159.226.0.0/16;
allow 161.207.0.0/16;
allow 162.105.0.0/16;
allow 166.111.0.0/16;
allow 167.139.0.0/16;
allow 168.160.0.0/16;
allow 175.185.0.0/16;
allow 175.186.0.0/15;
allow 180.84.0.0/15;
allow 180.201.0.0/16;
allow 180.208.0.0/15;
allow 183.168.0.0/15;
allow 183.170.0.0/16;
allow 183.172.0.0/14;
allow 192.86.104.0/24;
allow 202.4.128.0/19;
allow 202.38.0.0/16;
allow 202.40.192.0/19;
allow 202.45.32.0/19;
allow 202.75.64.0/19;
allow 202.84.16.0/23;
allow 202.95.0.0/19;
allow 202.96.0.0/12;
allow 202.112.0.0/13;
allow 202.120.0.0/15;
allow 202.122.32.0/20;
allow 202.127.0.0/18;
allow 202.127.128.0/17;
allow 202.130.0.0/19;
allow 202.130.224.0/19;
allow 202.131.208.0/20;
allow 202.189.96.0/19;
allow 202.192.0.0/12;
allow 203.81.16.0/20;
allow 203.87.224.0/19;
allow 203.93.0.0/16;
allow 203.128.128.0/19;
allow 203.192.0.0/19;
allow 203.207.64.0/18;
allow 203.207.128.0/17;
allow 203.208.0.0/19;
allow 203.212.0.0/20;
allow 210.5.0.0/19;
allow 210.12.0.0/15;
allow 210.14.160.0/19;
allow 210.14.192.0/18;
allow 210.15.0.0/17;
allow 210.15.128.0/18;
allow 210.21.0.0/16;
allow 210.22.0.0/16;
allow 210.25.0.0/17;
allow 210.25.128.0/18;
allow 210.26.0.0/15;
allow 210.28.0.0/14;
allow 210.32.0.0/12;
allow 210.51.0.0/16;
allow 210.52.0.0/15;
allow 210.72.0.0/14;
allow 210.76.0.0/15;
allow 210.78.0.0/16;
allow 210.79.224.0/19;
allow 210.82.0.0/15;
allow 210.192.96.0/19;
allow 211.64.0.0/13;
allow 211.80.0.0/12;
allow 211.96.0.0/13;
allow 211.136.0.0/13;
allow 211.144.0.0/12;
allow 211.160.0.0/13;
allow 218.0.0.0/11;
allow 218.56.0.0/13;
allow 218.64.0.0/11;
allow 218.96.0.0/14;
allow 218.104.0.0/14;
allow 218.108.0.0/16;
allow 218.192.0.0/12;
allow 218.240.0.0/13;
allow 219.72.0.0/16;
allow 219.128.0.0/11;
allow 219.216.0.0/13;
allow 219.224.0.0/12;
allow 219.242.0.0/15;
allow 219.244.0.0/14;
allow 220.160.0.0/11;
allow 220.192.0.0/12;
allow 220.234.0.0/16;
allow 220.248.0.0/14;
allow 220.252.0.0/16;
allow 221.0.0.0/12;
allow 221.130.0.0/15;
allow 221.137.0.0/16;
allow 221.172.0.0/14;
allow 221.192.0.0/13;
allow 221.200.0.0/14;
allow 221.204.0.0/15;
allow 221.208.0.0/14;
allow 221.212.0.0/16;
allow 221.214.0.0/15;
allow 221.216.0.0/13;
allow 221.224.0.0/12;
allow 222.16.0.0/12;
allow 222.32.0.0/11;
allow 222.64.0.0/11;
allow 222.132.0.0/14;
allow 222.136.0.0/13;
allow 222.160.0.0/14;
allow 222.168.0.0/13;
allow 222.176.0.0/12;
allow 222.192.0.0/12;
allow 222.208.0.0/13;
allow 222.216.0.0/15;
allow 222.218.0.0/16;
allow 222.222.0.0/15;
allow 222.240.0.0/13;
allow 223.2.0.0/15;
allow 223.128.0.0/15;
{% endhighlight %}
&lt;/details>
&lt;details>
&lt;summary>生成ngingx白名单的python代码&lt;/summary>
{% highlight python %}
def netmask_to_bit_length(netmask):
return sum([bin(int(i)).count('1') for i in netmask.split('.')])
&lt;p>f = open(&amp;ldquo;ip_num.txt&amp;rdquo;, &amp;ldquo;a&amp;rdquo;)
for line in open(&amp;ldquo;ip.txt&amp;rdquo;):
ip = line.split()
f.write(&amp;ldquo;allow &amp;ldquo;+ip[0]+&amp;rsquo;/&amp;rsquo;+str(netmask_to_bit_length(ip[2]))+&amp;rsquo;;\n&amp;rsquo;)
f.close()
{% endhighlight %}&lt;/p>
&lt;/details></description></item><item><title>(PPT)0522答辩</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-05-22-dabian/</link><pubDate>Sun, 22 May 2022 16:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-05-22-dabian/</guid><description>&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h4>05/22 答辩&lt;/h4>
&lt;h3>[论文题目]&lt;/h3>
&lt;h4>[班级] 周镇峰&lt;/h4>
&lt;/section>
&lt;!-- 目录 -->
&lt;section>
&lt;ol>
&lt;li>研究背景及研究意义&lt;/li>
&lt;li>热载流子物理机理&lt;/li>
&lt;li>热载流子模型&lt;/li>
&lt;li>仿真与实验&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 思维导图 -->
&lt;section>
&lt;img src="./images/hot-carrier/论文思维导图.drawio.svg">
&lt;/section>
&lt;!-- 研究背景：PMOS热载流子恶化 -->
&lt;section>
&lt;p>热载流子定义……PMOS热载流子退化加剧……&lt;/p>
&lt;/section>
&lt;!-- 1 研究意义：已有模型不能嵌入EDA -->
&lt;section>
&lt;p>LEM：太旧；能量驱动模型：计算量大&lt;/p>
&lt;/section>
&lt;!-- 2 物理机理：与Si-H键断裂的关系 -->
&lt;section>
&lt;p>扫描电镜诱发氢解离&lt;/p>
&lt;/section>
&lt;!-- 3 物理机理：HCI造成退化的过程 -->
&lt;section>
&lt;ol>
&lt;li>获得能量&lt;/li>
&lt;li>造成氢解离&lt;/li>
&lt;li>器件退化&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 4 物理机理：获得能量的方式 -->
&lt;section>
&lt;ol>
&lt;li>从电场中获得&lt;/li>
&lt;li>从CCS中获得&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 5 物理机理：从电场中获得 -->
&lt;section>
&lt;p>从电场中获得&lt;/p>
&lt;/section>
&lt;!-- 6 物理机理：从CCS中获得 -->
&lt;section>
&lt;p>从CCS中获得&lt;/p>
&lt;/section>
&lt;!-- 7 物理机理：造成氢解离的方式 -->
&lt;section>
&lt;ol>
&lt;li>单一载流子振动&lt;/li>
&lt;li>多重载流子振动&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 8 物理机理：单一载流子振动 -->
&lt;section>
&lt;p>单一载流子振动&lt;/p>
&lt;/section>
&lt;!-- 9 物理机理：多重载流子振动 -->
&lt;section>
&lt;p>多重载流子振动&lt;/p>
&lt;/section>
&lt;!-- 10 物理机理：其他物理机理 -->
&lt;section>
&lt;p>热载流子注入到氧化层（忽略）&lt;/p>
&lt;/section>
&lt;!-- 11 物理机理：与NBTI的耦合 -->
&lt;section>
&lt;p>三种方式&lt;/p>
&lt;/section>
&lt;!-- 11 物理模型：DEE -->
&lt;section>
&lt;p>DEE&lt;/p>
&lt;/section>
&lt;!-- 11 物理模型：DEE -->
&lt;section>
&lt;p>DEE&lt;/p>
&lt;/section>
&lt;!-- 12 物理模型：SVE -->
&lt;section>
&lt;p>SVE&lt;/p>
&lt;/section>
&lt;!-- 13 物理模型：MVE -->
&lt;section>
&lt;p>MVE&lt;/p>
&lt;/section>
&lt;!-- 14 物理模型：EES -->
&lt;section>
&lt;p>EES&lt;/p>
&lt;/section>
&lt;!-- 15.1 紧凑模型：SVE与MVE简化 -->
&lt;section>
&lt;p>SVE与MVE简化&lt;/p>
&lt;/section>
&lt;!-- 15.2 紧凑模型：SVE与MVE简化 -->
&lt;section>
&lt;p>SVE与MVE简化&lt;/p>
&lt;/section>
&lt;!-- 16.1 紧凑模型：EES简化 -->
&lt;section>
&lt;p>EES简化&lt;/p>
&lt;/section>
&lt;!-- 16.2 紧凑模型：EES简化 -->
&lt;section>
&lt;p>EES简化&lt;/p>
&lt;/section>
&lt;!-- 19 紧凑模型：时间函数 -->
&lt;section>
&lt;p>时间函数&lt;/p>
&lt;/section>
&lt;!-- 20 仿真：器件结构 -->
&lt;section>
&lt;p>简化的器件结构&lt;/p>
&lt;/section>
&lt;!-- 21 仿真：仿真原理 -->
&lt;section>
&lt;p>HCI部分&lt;/p>
&lt;/section>
&lt;!-- 22 仿真：仿真原理 -->
&lt;section>
&lt;p>NBTI部分&lt;/p>
&lt;/section>
&lt;!-- 23 仿真：过程 -->
&lt;section>
&lt;p>仿真参数、部分代码&lt;/p>
&lt;/section>
&lt;!-- 24 仿真：结果 -->
&lt;section>
&lt;p>结果一：Idsat对比&lt;/p>
&lt;/section>
&lt;!-- 25 仿真：结果 -->
&lt;section>
&lt;p>结果二：缺陷分布图&lt;/p>
&lt;/section>
&lt;!-- 26 实验：实验参数 -->
&lt;section>
&lt;p>实验参数&lt;/p>
&lt;/section>
&lt;!-- 27 实验：模型拟合 -->
&lt;section>
&lt;p>时间函数的拟合&lt;/p>
&lt;/section>
&lt;!-- 28 实验：模型拟合 -->
&lt;section>
&lt;p>寿命时间的拟合&lt;/p>
&lt;/section>
&lt;!-- 29 实验：模型拟合 -->
&lt;section>
&lt;p>Ksve的拟合&lt;/p>
&lt;/section>
&lt;!-- 30 实验：模型拟合 -->
&lt;section>
&lt;p>Kmve的拟合&lt;/p>
&lt;/section>
&lt;!-- 31 实验：模型拟合 -->
&lt;section>
&lt;p>Kees的拟合&lt;/p>
&lt;/section>
&lt;!-- 32 实验：模型拟合 -->
&lt;section>
&lt;p>总的模型&lt;/p>
&lt;/section>
&lt;!-- 结束 -->
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>视频编码器</title><link>https://todd.scuteee.com/posts/2022/2022-05-21-video-encoders/</link><pubDate>Sat, 21 May 2022 13:36:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-05-21-video-encoders/</guid><description>&lt;p>动辄 1G 以上的视频让我的硬盘实在吃不消，这些视频这么大的原因有两个：一是视频的画质与码率不匹配；二是视频的编码格式太老旧。故在此研究一下视频编码器，找到一个合适的视频压缩方法。&lt;/p>
&lt;h2 id="视频封装格式">视频封装格式&lt;/h2>
&lt;p>一个视频文件实际上是一个包含视频、音频、字幕等数据的容器。​ 视频封装格式就是将已经编码处理的视频数据、音频数据以及字幕数据按照一定的方式放到一个文件中。&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>编码格式与封装格式的名称有时是一致的，例如 MPEG、WMV、DivX、XviD、RM、RMVB 等格式，既是编码格式，也是封装格式；有时却不一致，例如 MKV 是一种能容纳多种不同类型编码的视频、音频及字幕流的“万能”视频封装格式，同样以mkv为扩展名的视频文件，可能封装了不同编码格式的视频数据。&lt;/p>
&lt;p>常见的视频封装格式如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>封装格式&lt;/th>
&lt;th>文件后缀&lt;/th>
&lt;th>组织/企业&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Matroska&lt;/td>
&lt;td>.mkv&lt;/td>
&lt;td>Google&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>WebM&lt;/td>
&lt;td>.webm&lt;/td>
&lt;td>Google&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MP4&lt;/td>
&lt;td>.mp4, .m4a, .m4v&lt;/td>
&lt;td>MPEG&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>AVI&lt;/td>
&lt;td>.avi&lt;/td>
&lt;td>Microsoft&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>QuickTime&lt;/td>
&lt;td>.mov&lt;/td>
&lt;td>Apple&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>FLV&lt;/td>
&lt;td>.flv&lt;/td>
&lt;td>Adobe&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>AVCHD&lt;/td>
&lt;td>.avchd&lt;/td>
&lt;td>Sony&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="视频编码">视频编码&lt;/h2>
&lt;h3 id="视频码率">视频码率&lt;/h3>
&lt;p>码率（bit rate）即单位时间内传输的数据，单位是 bps（bit per second）。对于一个视频，码率×时长=视频大小。&lt;/p>
&lt;p>对于未压缩的视频，还有个公式：&lt;/p>
&lt;p>码率 = 采样率 × 位深度 × 通道数&lt;/p>
&lt;h2 id="参考链接">参考链接&lt;/h2>
&lt;ul>
&lt;li>[https://developer.mozilla.org/zh-CN/docs/Web/Media/Formats/Video_codecs](Web 开发技术 - 视频编码指南)&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>视频的编解码格式 &lt;a class="link" href="https://zhuanlan.zhihu.com/p/143720720" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/143720720&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>verilog basis</title><link>https://todd.scuteee.com/posts/2022/2022-05-20-verilog-basis/</link><pubDate>Fri, 20 May 2022 19:55:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-05-20-verilog-basis/</guid><description>&lt;p>四种逻辑值：1个bit有4种状态&lt;/p>
&lt;p>|&lt;code>1'b1&lt;/code>|单驱动的高电平|内部/IO都允许|
|&lt;code>1'b0&lt;/code>|单驱动的低电平|内部/IO都允许|
|&lt;code>1'bx&lt;/code>|未知电平|不允许|
|&lt;code>1'bz&lt;/code>|无驱动的未知电平（高阻）|仅在PAD允许|&lt;/p>
&lt;p>N bits无符号二进制的取值范围：0~2^(N-1)&lt;/p>
&lt;p>Verilog版 &lt;code>Hello World&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-verilog" data-lang="verilog">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="n">hello&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="err">\\模块名&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">输入、输出&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">initial&lt;/span> &lt;span class="k">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">$display&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hello world.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="err">\\调用&lt;/span>&lt;span class="n">display&lt;/span>&lt;span class="err">函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>diary</title><link>https://todd.scuteee.com/ysyx/2022-5-19-diary/</link><pubDate>Thu, 19 May 2022 10:13:00 +0800</pubDate><guid>https://todd.scuteee.com/ysyx/2022-5-19-diary/</guid><description>&lt;h2 id="学习记录">学习记录&lt;/h2>
&lt;h2 id="详情">详情&lt;/h2>
&lt;p>5月1日填写的报名表，但因为忙毕业论文等到了5月19日才有时间好好学习。那么先把预学习要学的内容和要做的实验过一次。&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 如何科学的提问
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 读后感&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Linux系统安装和基本使用
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Install Ubuntu 20.04 LTS&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Install Tools&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Learn vim (I prefer VScode)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Get Source code&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Compile NEMU
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> export path to zsh instead of bash&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> fix llvm version problem according to &lt;a class="link" href="https://askubuntu.com/questions/1286131/how-do-i-install-llvm-10-on-ubuntu-18-04" target="_blank" rel="noopener"
>https://askubuntu.com/questions/1286131/how-do-i-install-llvm-10-on-ubuntu-18-04&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Set up verilator&lt;/li>
&lt;/ul></description></item><item><title>(PPT)0516工作汇报</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-05-16-ppt/</link><pubDate>Mon, 16 May 2022 16:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-05-16-ppt/</guid><description>&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>05/16 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;ul>
&lt;li>完成并提交了毕业论文&lt;/li>
&lt;/ul>
&lt;img src="./images/hot-carrier/重复率.png">
&lt;/section>
&lt;section>
&lt;img src="./images/hot-carrier/论文思维导图.drawio.svg">
&lt;/section>
&lt;section>
&lt;p>后续工作：完成答辩PPT，准备答辩&lt;/p>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>Setup Ubuntu</title><link>https://todd.scuteee.com/posts/2022/2022-05-16-setup-ubuntu/</link><pubDate>Mon, 16 May 2022 15:49:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-05-16-setup-ubuntu/</guid><description>&lt;h2 id="basic-setup">Basic Setup&lt;/h2>
&lt;p>After I transferred my Windows to WTG, I installed Ubuntu 20.04.4 on my Lenovo XiaoXinAir14 2020. Here is my setup process.&lt;/p>
&lt;p>Because I haven&amp;rsquo;t install any pinyin keyboard, therefore I have to write this in English.&lt;/p>
&lt;ul>
&lt;li>Change the apt source using &amp;ldquo;Sofeware &amp;amp; Updates&amp;rdquo; app&lt;/li>
&lt;li>Install clash to visit Google following the step on &lt;a class="link" href="https://zhuanlan.zhihu.com/p/430035973" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/430035973&lt;/a>&lt;/li>
&lt;li>Use &lt;a class="link" href="https://teejeetech.com/2022/04/23/ubuntu-22-04-tips-tricks/" target="_blank" rel="noopener"
>https://teejeetech.com/2022/04/23/ubuntu-22-04-tips-tricks/&lt;/a> to
&lt;ul>
&lt;li>Get rid of swap&lt;/li>
&lt;li>Use zram&lt;/li>
&lt;li>Get rid of snap&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>安装了 ibus-libpinyin，勾选其默认的词库，用起来很顺手&lt;/li>
&lt;li>根据 &lt;a class="link" href="https://zhuanlan.zhihu.com/p/176977192" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/176977192&lt;/a> 进行了美化&lt;/li>
&lt;li>安装了 tlp、tlp-rdw 用于省电&lt;/li>
&lt;li>根据 &lt;a class="link" href="https://zhuanlan.zhihu.com/p/350758984" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/350758984&lt;/a> 解决了休眠唤醒问题（补充：pm-utils 和 laptop-mode-tools 无效，但 laptop-mode-tools 可能可以省电，所以保留了）&lt;/li>
&lt;li>根据 &lt;a class="link" href="https://linux.cn/article-13030-1.html" target="_blank" rel="noopener"
>https://linux.cn/article-13030-1.html&lt;/a> 安装了 zsh 和一些插件，还安装了 powerlevel10k 主题，并根据该主题安装了 Meslo Nerd Font&lt;/li>
&lt;/ul>
&lt;h2 id="软件">软件&lt;/h2>
&lt;ul>
&lt;li>采用 deb 包的方式安装了 vscode、microsoft edge、QQ、腾讯会议、WPS
&lt;ul>
&lt;li>WPS：安装了宋体和 Times New Roman，下载链接：&lt;a class="link" href="https://pan.baidu.com/s/1F_WxrvUXZ7BJxDnTt-H3aQ" target="_blank" rel="noopener"
>https://pan.baidu.com/s/1F_WxrvUXZ7BJxDnTt-H3aQ&lt;/a>（双击ttf再install）&lt;/li>
&lt;li>WPS: 安装了特殊符号字体用于显示公式，下载链接：&lt;a class="link" href="https://pan.baidu.com/s/1_HFZwCeTcpgfex-tz3Qrvw" target="_blank" rel="noopener"
>https://pan.baidu.com/s/1_HFZwCeTcpgfex-tz3Qrvw&lt;/a> 提取码：yztw&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>shutter: 用于截屏&lt;/li>
&lt;li>VLC: 用于看视频&lt;/li>
&lt;li>安装 flatpak 替换原 Software 商店&lt;/li>
&lt;li>安装 nala 用于使 apt 输出更美观&lt;/li>
&lt;li>/usr/share/bin 中安装了 &lt;a class="link" href="https://www.johnvansickle.com/ffmpeg/" target="_blank" rel="noopener"
>ffmpeg&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="开发环境">开发环境&lt;/h2>
&lt;ul>
&lt;li>设置 git，并添加 github ssh key &lt;a class="link" href="https://zhuanlan.zhihu.com/p/31417255" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/31417255&lt;/a>（本来想直接用 vscode 直接配置 github 的，但 code.dev 跳转不了）&lt;/li>
&lt;li>安装 ruby 和 jekyll 用于预览 github page&lt;/li>
&lt;/ul></description></item><item><title>Windows to Go</title><link>https://todd.scuteee.com/posts/2022/2022-05-07-windows-to-go/</link><pubDate>Sat, 07 May 2022 10:08:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-05-07-windows-to-go/</guid><description>&lt;p>出于某些原因，我有一些繁重的工作要在 Ubuntu 上完成，但临近毕业又需要使用 Windows 的办公软件。我本来想装一台新电脑，但 618 又快到了，等一等就能省好多钱。用笔记本吧，但我的笔记本又只有 500G 的 SSD，不好装双系统。苦恼了半天，想起来可以把 Windows 装在外置 SSD 上（Windows to Go，WTG），于是就下单了一个 1T 的 SSD，以及一个硬盘盒。下面记录WTG的制作、使用过程。&lt;/p>
&lt;h2 id="硬件">硬件&lt;/h2>
&lt;ul>
&lt;li>铠侠 RC20 1TB ￥558&lt;/li>
&lt;li>海康威视 MD202 M.2 SSD 硬盘盒 ￥99&lt;/li>
&lt;/ul>
&lt;h2 id="所需文件">所需文件&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://bbs.luobotou.org/thread-761-1-1.html" target="_blank" rel="noopener"
>WTG 助手&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://next.itellyou.cn/" target="_blank" rel="noopener"
>windows 镜像&lt;/a> 推荐使用企业版，磁力链接：&lt;a class="link" href="magnet:?xt=urn:btih:4d250bd587faba23ddf7743591d3bb3839170add&amp;amp;dn=zh-cn_windows_10_business_editions_version_21h2_updated_april_2022_x64_dvd_b0024895.iso&amp;amp;xl=5790621696" >Windows10 business 21H2&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="安装系统">安装系统&lt;/h2>
&lt;ol>
&lt;li>打开 WTG 助手&lt;/li>
&lt;li>选择移动硬盘和镜像，保持默认设置，安装系统&lt;/li>
&lt;li>将电脑关机，然后启动进入到 BIOS（根据电脑型号搜索）&lt;/li>
&lt;li>调整启动顺序，将移动硬盘的优先级设为最高&lt;/li>
&lt;li>退出 BIOS，启动电脑&lt;/li>
&lt;/ol>
&lt;h2 id="使用体验">使用体验&lt;/h2>
&lt;p>初次启动时，由于缺少部分驱动，所以有些功能用不了（比如笔记本外接不了屏幕），需要等 Windows 下载好驱动后，就和内置的系统用起来一样了。下载驱动时由于涉及大量硬盘读写，所以硬盘盒摸起来比较烫，但在日常使用时则和室温差不了多少。测试了在另一台笔记本上使用，可以正常开机，但依然要下驱动（毕竟不同电脑的驱动不一样）。&lt;/p>
&lt;p>有一点比较不方便的是，有时候外接显示器的话会开不了机，需要先拔视频线，等开机后再重新插上。&lt;/p>
&lt;p>软件方面，日常软件用起来没问题。等我试着用 WTG 编程后再补充专业软件的使用情况。&lt;/p>
&lt;h2 id="参考">参考&lt;/h2>
&lt;p>&lt;a class="link" href="https://sspai.com/post/44699" target="_blank" rel="noopener"
>说走就走的「Windows」——Windows To Go制作详解&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://bbs.luobotou.org/forum-88-1.html" target="_blank" rel="noopener"
>Windows To Go优盘系统 - 萝卜头IT论坛&lt;/a>&lt;/p></description></item><item><title>(PPT)0506工作汇报</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-05-05-essay-report/</link><pubDate>Thu, 05 May 2022 17:18:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-05-05-essay-report/</guid><description>&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>05/06 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ul>
&lt;li>完成毕业论文&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;img src="./images/hot-carrier/论文思维导图.drawio.svg">
&lt;/section>
&lt;section>
&lt;p>后续工作：准备答辩&lt;/p>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>我设置一台新电脑的方法</title><link>https://todd.scuteee.com/posts/2022/2022-04-29-the-way-i-setup-a-new-pc/</link><pubDate>Fri, 29 Apr 2022 11:03:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-04-29-the-way-i-setup-a-new-pc/</guid><description>&lt;p>出于多种原因（学习需要、爱折腾），我每过一段时间就需要重新安装电脑，为了能够缩短安装时间，也为了规范自己使用电脑的习惯，在此记录我设置电脑的过程，给出常用软件的安装/配置方法。&lt;/p>
&lt;h2 id="系统">系统&lt;/h2>
&lt;h3 id="分区">分区&lt;/h3>
&lt;p>我个人的习惯是一个硬盘分一个区（系统自带的分区除外），固态硬盘作为C盘，机械硬盘作为D盘，搞定。&lt;/p>
&lt;h2 id="常用软件安装">常用软件安装&lt;/h2>
&lt;p>安装软件直接安装在C盘，毕竟C盘容量也够大。位置默认即可，某些软件要求路径没空格，那就新建一个&lt;code>C:/Programs&lt;/code>。以下软件如果仅列出官网地址，则跟着官网安装即可；否则，我会写出安装过程。&lt;/p>
&lt;h3 id="解压软件-7-zip">解压软件 7-Zip&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.7-zip.org/" target="_blank" rel="noopener"
>https://www.7-zip.org/&lt;/a>&lt;/p>
&lt;h3 id="看图软件-imageglass">看图软件 ImageGlass&lt;/h3>
&lt;p>官网访问不了，建议去 &lt;a class="link" href="https://github.com/d2phap/ImageGlass/releases" target="_blank" rel="noopener"
>https://github.com/d2phap/ImageGlass/releases&lt;/a> 安装。&lt;/p>
&lt;h3 id="视频软件-vlc">视频软件 VLC&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.videolan.org/vlc/index.zh.html" target="_blank" rel="noopener"
>https://www.videolan.org/vlc/index.zh.html&lt;/a>&lt;/p>
&lt;h3 id="阅读器-sumatra-pdf">阅读器 Sumatra PDF&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.sumatrapdfreader.org/download-free-pdf-viewer" target="_blank" rel="noopener"
>https://www.sumatrapdfreader.org/download-free-pdf-viewer&lt;/a>&lt;/p>
&lt;h3 id="磁力-qbittorrent">磁力 qBittorrent&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.qbittorrent.org/download.php" target="_blank" rel="noopener"
>https://www.qbittorrent.org/download.php&lt;/a>，请尽量避免用迅雷&lt;/p>
&lt;h3 id="wordexcelpowerpoint">Word/Excel/PowerPoint&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.wps.com/" target="_blank" rel="noopener"
>https://www.wps.com/&lt;/a> 或 Office（自行找安装方法）&lt;/p>
&lt;h3 id="梯子-clash">梯子 Clash&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/Fndroid/clash_for_windows_pkg/releases" target="_blank" rel="noopener"
>https://github.com/Fndroid/clash_for_windows_pkg/releases&lt;/a>&lt;/p>
&lt;h2 id="开发软件安装">开发软件安装&lt;/h2>
&lt;h3 id="vscode">VScode&lt;/h3>
&lt;p>&lt;a class="link" href="https://code.visualstudio.com/" target="_blank" rel="noopener"
>https://code.visualstudio.com/&lt;/a>，插件在其他开发软件安装完后再配置。&lt;/p>
&lt;h3 id="windows-terminal">Windows Terminal&lt;/h3>
&lt;p>&lt;a class="link" href="https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701" target="_blank" rel="noopener"
>https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701&lt;/a>&lt;/p>
&lt;h3 id="git">git&lt;/h3>
&lt;p>&lt;a class="link" href="https://git-scm.com/" target="_blank" rel="noopener"
>https://git-scm.com/&lt;/a>，我个人习惯不勾选 Winodws Explorer integration，而是勾选 Add a Git Bash Profile to Windows Terminal，后面选择用 VScode 作为编辑器。&lt;/p>
&lt;p>安装完后可以在 VScode 中安装&lt;/p>
&lt;h3 id="nodejs">node.js&lt;/h3>
&lt;p>&lt;a class="link" href="https://nodejs.org/en/" target="_blank" rel="noopener"
>https://nodejs.org/en/&lt;/a>&lt;/p>
&lt;h3 id="go">go&lt;/h3>
&lt;p>&lt;a class="link" href="https://go.dev/" target="_blank" rel="noopener"
>https://go.dev/&lt;/a>&lt;/p></description></item><item><title>特殊页面</title><link>https://todd.scuteee.com/posts/2022/2022-04-25-special-page/</link><pubDate>Mon, 25 Apr 2022 14:43:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-04-25-special-page/</guid><description>&lt;ul>
&lt;li>回车替换为空格👉&lt;a class="link" href="https://todd.scuteee.com/page/strip_return.html" >strip_return.html&lt;/a>
&lt;blockquote>
&lt;p>用法：下载英语pdf文档，复制一整段文字，粘贴到该网页，网页会将回车替换为空格。由于网页会自动复制替换后的文字，所以你无需再次选中，直接粘贴到&lt;a class="link" href="https://translate.google.cn/" target="_blank" rel="noopener"
>谷歌翻译&lt;/a>即可。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul></description></item><item><title>(PPT)0422工作汇报</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-04-22-tcad/</link><pubDate>Fri, 22 Apr 2022 16:35:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-04-22-tcad/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>04/22 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>TCAD仿真&lt;/li>
&lt;li>写毕业论文&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;p>采用TCAD中较为先进的综合框架模型（General Framework Model，GFM），该模型同时考虑三种机制：&lt;/p>
&lt;ul>
&lt;li>场增强热降解→NBTI&lt;/li>
&lt;li>单粒子 (single particle，SP) 过程→长沟道HC&lt;/li>
&lt;li>多粒子 (multiple particle，MP) 过程→短沟道HC&lt;/li>
&lt;/ul>
&lt;p>该模型需要已知载流子能量分布，通过求解玻尔兹曼传输方程得到。&lt;/p>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>仿真结果&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/pmos_afterstress_transfer.jpg.jpg">
&lt;/div>
&lt;div>
&lt;img src="./images/hot-carrier/pmos_afterstress_isat_t_compare.jpg">
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h3>界面电荷分布&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/pmos_afterstress_SP_charge.jpg">
&lt;/div>
&lt;div>
&lt;img src="./images/hot-carrier/pmos_afterstress_MP_charge.jpg">
&lt;/div>
&lt;/div>
&lt;/section>
&lt;/section>
&lt;section>
&lt;p>后续工作：完成毕业论文&lt;/p>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>(PPT)0407中期汇报</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-04-07-midterm-inspect/</link><pubDate>Thu, 07 Apr 2022 14:35:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-04-07-midterm-inspect/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>04/07 中期汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;!-- 目录 -->
&lt;section>
&lt;h3>题目&lt;/h3>
&lt;p>基于PMOS HCI退化机理，建立PMOS HCI模型，并基于实验测试数据（28nm）进行老化模型参数提取，相关结果与TCAD仿真数据进行校准；在初代老化模型基础上，针对先进工艺（FinFET）进行模型迭代和优化，完成自主老化模型开发（基于商用EDA工具接口）。&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>要求&lt;/h3>
&lt;ol>
&lt;li>考虑饱和效应的PMOS HCI模型✅&lt;/li>
&lt;li>
平面工艺PMOSFET
&lt;ul>
&lt;li>实验结果⭕&lt;/li>
&lt;li>模型结果✅（根据论文数据）&lt;/li>
&lt;li>仿真结果✅&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
FinFET工艺PMOSFET
&lt;ul>
&lt;li>实验结果❌&lt;/li>
&lt;li>模型结果⭕（根据仿真数据）&lt;/li>
&lt;li>仿真结果⭕&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p style="text-align: center;">✅：已完成；⭕：正在做；❌：无法完成&lt;/p>
&lt;/section>
&lt;!-- 模型验证 -->
&lt;section>
&lt;section>
热载流子模型：
&lt;div class="">
&lt;div>
&lt;p>
\[
\%{\rm degradation}(t)=\frac{1}{\tau} \frac{a\cdot t^n}{1+a\cdot t^n}
\]
\[
\tau = \frac{1}{1/\tau_{\rm SVE}+1/\tau_{\rm EES}+1/\tau_{MVE}}
\]
&lt;/p>
&lt;/div>
&lt;div>
&lt;p>
\[
\begin{cases}
\frac{1}{\tau_{\rm SVE}}=K_{\rm SVE}(\frac{I_{ds}}{W})^{a_1}(\frac{I_{bs}}{I_{ds}})^m\\
\frac{1}{\tau_{\rm EES}}= K_{\rm EES}(\frac{I_{ds}}{W})^{a_2}(\frac{I_{bs}}{I_{ds}})^m\\
\frac{1}{\tau_{\rm MVE}}= K_{MVE} V_{ds}^{a_3/2}(\frac{I_{ds}}{W})^{a_3}\exp(\frac{-E_{\rm emi}}{k_B T})
\end{cases}
\]
&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section data-markdown>
&lt;script type="text/template">
根据论文，取 $a_1=1$，$a_2=3$，$a_3=12$，拟合得到
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>$V_{ds}$&lt;/th>
&lt;th>$K_{\rm SVE}'$&lt;/th>
&lt;th>$K_{\rm EES}'$&lt;/th>
&lt;th>$K_{\rm MVE}'$&lt;/th>
&lt;th>R-square&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-2&lt;/td>
&lt;td>-0.434&lt;/td>
&lt;td>3.778e+06&lt;/td>
&lt;td>2.857e+34&lt;/td>
&lt;td>0.988&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.8&lt;/td>
&lt;td>0.008001&lt;/td>
&lt;td>1.014e+05&lt;/td>
&lt;td>3.32e+34&lt;/td>
&lt;td>0.9998&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.6&lt;/td>
&lt;td>-0.1872&lt;/td>
&lt;td>9.232e+05&lt;/td>
&lt;td>2.063e+34&lt;/td>
&lt;td>0.9993&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.4&lt;/td>
&lt;td>-0.0821&lt;/td>
&lt;td>4.531e+05&lt;/td>
&lt;td>1.622e+33&lt;/td>
&lt;td>0.9264&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.21&lt;/td>
&lt;td>-0.09683&lt;/td>
&lt;td>2.977e+05&lt;/td>
&lt;td>3.424e+33&lt;/td>
&lt;td>0.9645&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/script>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>拟合效果如图所示：（(1/\tau) vs (&lt;/td>
&lt;td>I_{ds}/W&lt;/td>
&lt;td>)）&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;div style="display:flex;flex-wrap:wrap;">&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-2V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.8V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.6V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.4V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.21V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数据来源：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;blockquote>&lt;p>&lt;small>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>A. Bravaix, V. Huard, D. Goguenheim and E. Vincent, “Hot-carrier to cold-carrier device lifetime modeling with temperature for low power 40nm Si-bulk NMOS and PMOS FETs,” 2011 International Electron Devices Meeting, 2011, pp. 27.5.1-27.5.4, doi: 10.1109/IEDM.2011.6131625.&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/small>&lt;/p>&lt;/blockquote>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;h3>平面工艺仿真&lt;/h3>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;div class="twocolumn">&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/0407-100nmPMOS.jpg" width="100%">&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/0407-仿真.jpg" width="100%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>下两周安排：仿真、实验&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>谢谢聆听&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>游戏玩后感</title><link>https://todd.scuteee.com/posts/2022/2022-04-04-games-i-palyed/</link><pubDate>Mon, 04 Apr 2022 10:38:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-04-04-games-i-palyed/</guid><description>&lt;blockquote>
&lt;p>游戏和电影差不多，唯一的区别是我们能否扮演其中的角色。&lt;/p>
&lt;/blockquote>
&lt;h2 id="目录">目录&lt;/h2>
&lt;ul>
&lt;li>Switch&lt;/li>
&lt;li>Xbox/PC&lt;/li>
&lt;/ul>
&lt;h2 id="switch">Switch&lt;/h2>
&lt;h3 id="塞尔达荒野之息">塞尔达：荒野之息&lt;/h3>
&lt;ul>
&lt;li>游玩日期：2018年7、8月（我高考后）&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>这是我买第一台 Switch 的原因。它的故事很简单，勇士救公主，但因为采用的开放世界，我们可以在整个地图中自由探索，所以其代入感极强，不必受限于剧情，可玩性也很高。另外，里面还有出色得物理机制，比如火可以点燃草木、铁武器可以吸引雷劈等等，提高了游戏性。配合上精心设计的谜题，复杂多变的地形、精美的游戏画面与音乐，足以让我玩两个月而不厌。&lt;/p>
&lt;/blockquote>
&lt;h3 id="喷射战士2">喷射战士2&lt;/h3>
&lt;ul>
&lt;li>游玩日期：2020~2021（大二下~大三）&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>这是我买第二台 Switch 的原因。简单来说，这是一款射击游戏，我们可以单机体验里面的剧情，也可以联机打怪，或联机比赛。但并不是用“子弹”，而是用“墨水”。我们在里面扮演“鱿鱼”，我们自己有一种颜色，敌方有另一种颜色。当被敌方颜色喷到时，就会扣血，这和一般的射击游戏是一样的。但墨水不但能攻击，它会给地面、墙壁上色，在己方墨水中，我们可以潜进去快速游动，而在敌方墨水中，则寸步难行。凭借墨水，我们可以潜伏到敌人身边，出奇不意地暗杀敌人。&lt;/p>
&lt;p>“墨水”的设定使得游戏玩法十分新颖。由于是墨水，因此使用的武器是水枪、水桶、画笔、油漆刷。另外，在一般的联机比赛中，判断输赢并不是看击杀敌方，而是取决于“涂墨”的面积。除了一般的联机比赛，还有特殊比赛，如占据据点的时间（当然也是靠涂墨）。玩完后，看到自己的颜色均匀的覆盖整个场景，强迫症感到超舒服！&lt;/p>
&lt;p>总结，这个游戏的快感来自于：一、击杀；二、涂墨。&lt;/p>
&lt;p>此外，该游戏的画面十分酷，其采用了大量的街头文化，如街头涂鸦、滑板、潮牌。里面的服装设计也是一绝，你甚至可以把它当作换装游戏来玩！&lt;/p>
&lt;/blockquote>
&lt;h2 id="xboxpc">Xbox/PC&lt;/h2>
&lt;h3 id="gorogoa">Gorogoa&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年3月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>解谜方式新颖，移动田字格中的四个格子，或者改变每个格子的画面，使得画面重叠，从而解谜。画面也很精美。但问题在于，游戏的套路基本上就是移动格子、对齐画面，有眼有手就行，并不太需要思考，玩久了有点无聊。幸好游戏流程也不太长，大概 2 个多小时就能玩完。&lt;/p>
&lt;/blockquote>
&lt;h3 id="极限竞速地平线-45">极限竞速：地平线 4/5&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年3月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>模拟真实的开车，配合上手柄的震动，感受发动机的咆哮。因为游戏中可以开得很快（200km/h），所以要全神贯注，一开始玩还挺爽，但玩半个多小时就会累。当作下班后的休闲游戏还挺不错。&lt;/p>
&lt;/blockquote>
&lt;h3 id="哈迪斯">哈迪斯&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年3月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>2D地牢游戏，扮演地狱王子逃出地狱，最后击败冥王“哈迪斯”前往天堂。每次死亡后会在地狱圣殿复活，由于地牢是不断变化的，需要从0开始打怪。画面精美，技能炫酷，打击感强。逃出地狱后会发生什么？王子能否前往天堂？这就要你玩过才知道了。&lt;/p>
&lt;/blockquote>
&lt;h3 id="生化危机78">生化危机7/8&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2021年5~7月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>你是一个普通人，为了救出老婆/孩子，你独自前往阴森的宅邸中，怪物的声音若隐若现，或许就在下一个拐角等着你，你唯一的选择就是拿起手枪，直面噩梦。&lt;/p>
&lt;p>剧情流畅，画面逼真，松紧有度，在恐怖的地方会有音乐提示，所以有心理准备，不至于吓一跳。故事感人，在恐怖中凸显人性光辉。&lt;/p>
&lt;/blockquote>
&lt;h3 id="逃生1未通关">逃生1（未通关）&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年3月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>你是一名记者，为了调查精神病院，你独自走进其中，到处都是失控的精神病人，，他们暴力疯狂，糟糕，他们看见你了，他们尖叫着朝你跑来，快逃！&lt;/p>
&lt;p>没有武器，唯一的道具是有夜视功能的摄像机，经常要在黑暗中逃跑，配乐以尖叫为主，玩的过程中肾上腺素持续分泌！建议看主播云通关。&lt;/p>
&lt;/blockquote>
&lt;h3 id="逃生2未通关">逃生2（未通关）&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年3月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>同样以逃跑为主，但从上一作的恐怖变为了血腥，并且剧情变长了很多。&lt;/p>
&lt;/blockquote>
&lt;h3 id="slay-the-spire">Slay the Spire&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年4月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>卡牌类游戏，与炉石类似。机制很简单，每回合获得一定点数，出牌需要消耗点数。牌分为攻击、技能、能力。里面有四种职业，每种职业的牌不同。&lt;/p>
&lt;/blockquote>
&lt;h3 id="微软模拟飞行">微软模拟飞行&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年4月&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>模拟开飞机，据说里面的风景是真实的卫星图。操作有简单和复杂两种选择，但即使是简单对我来说也有点难，因为需要了解飞机的原理。&lt;/p>
&lt;/blockquote>
&lt;h3 id="恶灵附身the-evil-within">恶灵附身（The Evil Within）&lt;/h3>
&lt;ul>
&lt;li>游玩时间：2022年4月&lt;/li>
&lt;/ul></description></item><item><title>获取蛋白质的最佳方式</title><link>https://todd.scuteee.com/posts/2022/2022-03-29-best-way-to-get-protein/</link><pubDate>Tue, 29 Mar 2022 23:06:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-03-29-best-way-to-get-protein/</guid><description>&lt;style>
p {
text-indent: 2em;
}
&lt;/style>
&lt;h2 id="目录">目录&lt;/h2>
&lt;ul>
&lt;li>鸡蛋&lt;/li>
&lt;li>牛奶&lt;/li>
&lt;li>蛋白粉&lt;/li>
&lt;li>肉类
&lt;ul>
&lt;li>猪肉&lt;/li>
&lt;li>牛肉&lt;/li>
&lt;li>鸡肉&lt;/li>
&lt;li>鱼肉&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>大豆&lt;/li>
&lt;/ul>
&lt;h2 id="鸡蛋">鸡蛋&lt;/h2>
&lt;ul>
&lt;li>鸡蛋
&lt;ul>
&lt;li>重量：50克/个&lt;/li>
&lt;li>蛋白质：6~8g/个&lt;/li>
&lt;li>价格：
&lt;ul>
&lt;li>生鸡蛋：0.8~1.3￥/个&lt;/li>
&lt;li>熟鸡蛋：1.5￥/个&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>性价比：0.1~0.25￥/g&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="牛奶">牛奶&lt;/h2>
&lt;p>根据品牌划分，并且由于脂肪含量会影响口感，所以也列举在内。价格可能由于打折等原因浮动，此处取的是日常价。若未说明，则默认纯牛奶/全脂牛奶，并且经可能取大容量的（优先1L，其次250ml或200ml）。&lt;/p>
&lt;h3 id="燕塘">燕塘&lt;/h3>
&lt;ul>
&lt;li>容量：250ml&lt;/li>
&lt;li>蛋白质：3g/100ml&lt;/li>
&lt;li>脂肪：3.6g/100ml&lt;/li>
&lt;li>价格：2.9875~3.125￥/盒&lt;/li>
&lt;li>性价比：0.3983~0.417￥/g&lt;/li>
&lt;/ul>
&lt;h3 id="德亚">德亚&lt;/h3></description></item><item><title>(PPT)0321工作汇报</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-03-21-full-model-and-verification/</link><pubDate>Mon, 21 Mar 2022 09:33:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-03-21-full-model-and-verification/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>03/21 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;!-- 目录 -->
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ul>
&lt;li>模型验证&lt;/li>
&lt;/ul>
&lt;/section>
&lt;!-- 模型验证 -->
&lt;section>
&lt;section>
热载流子模型：
\(
\tau = \frac{1}{1/\tau_{\rm SVE}+1/\tau_{\rm EES}+1/\tau_{MVE}}
\)
&lt;br/>
\[
\begin{cases}
\frac{1}{\tau_{\rm SVE}}=K_{\rm SVE}(\frac{I_{ds}}{W})^{a_1}(\frac{I_{bs}}{I_{ds}})^m\\
\frac{1}{\tau_{\rm EES}}= K_{\rm EES}(\frac{I_{ds}}{W})^{a_2}(\frac{I_{bs}}{I_{ds}})^m\\
\frac{1}{\tau_{\rm MVE}}= K_{MVE} V_{ds}^{a_3/2}(\frac{I_{ds}}{W})^{a_3}\exp(\frac{-E_{\rm emi}}{k_B T})
\end{cases}
\]
&lt;/section>
&lt;section>
&lt;p>时间指数的拟合：&lt;br/>&lt;/p>
\(\Delta I_{\rm Sat}/I_{\rm Sat0} = \frac{t^n}{\tau}=0.05373 \cdot x^{0.164}\)
&lt;img src="./images/hot-carrier/40nm_stresstime_isat_exp_fit.md.jpg" style="width: 80%"/>
&lt;/section>
&lt;section data-markdown>
&lt;script type="text/template">
根据论文，取 $a_1=1$，$a_2=3$，$a_3=12$，拟合得到
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>$V_{ds}$&lt;/th>
&lt;th>$K_{\rm SVE}'$&lt;/th>
&lt;th>$K_{\rm EES}'$&lt;/th>
&lt;th>$K_{\rm MVE}'$&lt;/th>
&lt;th>R-square&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-2&lt;/td>
&lt;td>-0.434&lt;/td>
&lt;td>3.778e+06&lt;/td>
&lt;td>2.857e+34&lt;/td>
&lt;td>0.988&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.8&lt;/td>
&lt;td>0.008001&lt;/td>
&lt;td>1.014e+05&lt;/td>
&lt;td>3.32e+34&lt;/td>
&lt;td>0.9998&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.6&lt;/td>
&lt;td>-0.1872&lt;/td>
&lt;td>9.232e+05&lt;/td>
&lt;td>2.063e+34&lt;/td>
&lt;td>0.9993&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.4&lt;/td>
&lt;td>-0.0821&lt;/td>
&lt;td>4.531e+05&lt;/td>
&lt;td>1.622e+33&lt;/td>
&lt;td>0.9264&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.21&lt;/td>
&lt;td>-0.09683&lt;/td>
&lt;td>2.977e+05&lt;/td>
&lt;td>3.424e+33&lt;/td>
&lt;td>0.9645&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/script>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>拟合效果如图所示：（(1/\tau) vs (&lt;/td>
&lt;td>I_{ds}/W&lt;/td>
&lt;td>)）&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;div style="display:flex;flex-wrap:wrap;">&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-2V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.8V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.6V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.4V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/40nm_isat_1_div_tau_fit_-1.21V.jpg" style="width: 33%"/>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/div>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数据来源：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;blockquote>&lt;p>&lt;small>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>A. Bravaix, V. Huard, D. Goguenheim and E. Vincent, “Hot-carrier to cold-carrier device lifetime modeling with temperature for low power 40nm Si-bulk NMOS and PMOS FETs,” 2011 International Electron Devices Meeting, 2011, pp. 27.5.1-27.5.4, doi: 10.1109/IEDM.2011.6131625.&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/small>&lt;/p>&lt;/blockquote>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&amp;lt;!&amp;ndash; &lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>NBTI的影响&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="./images/hot-carrier/STRESS-Relaxation.jpg">&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>①常用方法：直接减去相同下栅压的NBTI分量&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;ol>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>测量HC应力（$V_{gs}=V_{ds}=V_{dd}$）下的退化 $\Delta V_{th}^{\rm HC_TEST}$&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>测量NBTI应力（$V_{gs}=V_{dd},V_{ds}=0$）下的退化 $\Delta V_{th}^{\rm NBTI}$&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>计算HC退化 $\Delta V_{th}^{\rm HC}=\Delta V_{th}^{\rm HC_TEST}-\Delta V_{th}^{\rm NBTI}$&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/ol>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>② Y. Mitani等人：通过恢复量来反推NBTI分量。这是由于NBTI存在恢复效应，而HCI暂未观察到恢复效应。&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;ol>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li> 测量NBTI下的回复率：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>(&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>R=\Delta I_D^R/\Delta I_D^{\rm NBTI_TEST}&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>)&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>计算HCI下的NBTI分量：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>(&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>\Delta I_D^{\rm NBTI} = \Delta I_D^{R&amp;rsquo;}/R&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>)&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>计算HCI下的HCI分量：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>(&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>\Delta I_D^{\rm HC}=\Delta I_D^{\rm HC_TEST}-\Delta I_D^{\rm NBTI}&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>)&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/ol>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;blockquote>&lt;p>&lt;small>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Y. Mitani, S. Fukatsu, D. Hagishima and K. Matsuzawa, &amp;ldquo;Lifetime prediction of channel hot carrier degradation in pMOSFETs separating NBTI component,&amp;rdquo; 2012 IEEE International Conference on IC Design &amp;amp; Technology, 2012, pp. 1-4, doi: 10.1109/ICICDT.2012.6232842.&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/small>&lt;/p>&lt;/blockquote>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>③Akiko Masada等人：可以监测栅电流密度 $J_g$ 来分离NBTI分量。&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;ol>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>通过 NBTI 测试求出 $\Delta V_{\rm th}-J_g$ 的关系式&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>将 HC 应力下的 $J_g^{\rm HC}$ 代入求得 $\Delta V_{\rm th}^{\rm NBTI}$&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>(&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>\Delta V_{\rm th}^{\rm HC}=\Delta V_{\rm th}^{\rm Total}-\Delta V^{\rm NBTI}_{\rm th}&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>)&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/li>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/ol>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;blockquote>&lt;p>&lt;small>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Masada, A., Hirano, I., Fukatsu, S., &amp;amp; Mitani, Y. (2010). &amp;ldquo;Method of Decoupling the Bias Temperature Instability Component from Hot Carrier Degradation in Ultrathin High-kMetal–Oxide–Semiconductor Field-Effect Transistors.&amp;rdquo; Japanese Journal of Applied Physics, 49(7), 071102. doi:10.1143/jjap.49.071102.&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/small>&lt;/p>&lt;/blockquote>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section> &amp;ndash;&amp;gt;&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>下两周安排：实验&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;p>谢谢聆听&lt;/p>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/section>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>(PPT)0307工作汇报</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-03-07-work-summary/</link><pubDate>Mon, 07 Mar 2022 10:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-03-07-work-summary/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>03/07 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>实验&lt;/li>
&lt;li>仿真&lt;/li>
&lt;li>论文&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 物理模型 -->
&lt;section>
&lt;section>
&lt;h3>实验&lt;/h3>
&lt;p>由于实验仪器正在维修，还未开始实验。&lt;/p>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>仿真&lt;/h3>
&lt;p>利用TCAD进行仿真&lt;/p>
&lt;/section>
&lt;section>
&lt;p>使用 Atlas 语法形成晶体管&lt;/p>
&lt;!--代码-->
&lt;pre>&lt;code data-line-numbers>go atlas
#
# MESH DEFINITION
&lt;p>mesh &lt;br>
x.m loc=0.0 spacing=0.1
x.m loc=0.5 spacing=0.1
x.m loc=0.65 spacing=0.025
x.m loc=0.75 spacing=0.025
x.m loc=0.9 spacing=0.005
x.m loc=1.2 spacing=0.1
x.m loc=1.5 spacing=0.1&lt;/p>
&lt;p>y.m loc=-0.02 spacing=0.005
y.m loc=0.0 spacing=0.001
y.m loc=0.1 spacing=0.025
y.m loc=0.2 spacing=0.05
y.m loc=0.4 spacing=0.05
y.m loc=1.0 spacing=0.2
y.m loc=2.0 spacing=0.5&lt;/p>
&lt;h1 id="regions-and-electrodes">REGIONS AND ELECTRODES&lt;/h1>
&lt;p>region num=1 y.min=0 silicon
region num=2 y.max=0.0 oxide
elect num=1 name=gate x.min=0.5 length=0.5 y.min=-0.02 y.max=-0.02
elect num=2 name=source left length=0.2 y.min=0.0 y.max=0.0
elect num=3 name=drain right length=0.2 y.min=0.0 y.max=0.0
elect num=4 name=substrate substrate&lt;/p>
&lt;h1 id="device-doping">DEVICE DOPING&lt;/h1>
&lt;p>doping uniform p.type conc=2.e16
doping gauss p.type conc=1.e17 char=0.1
doping gauss n.type conc=1.e20 x.right=0.5 junc=0.2 ratio=0.6
doping gauss n.type conc=1.e20 x.left=1.0 junc=0.2 ratio=0.6&lt;/p>
&lt;p>save outfile=mos2ex02_0.str
&lt;/code>&lt;/pre>
&lt;/section>
&lt;section>
&lt;p>Id/Vgs 测试&lt;/p>&lt;/p>
&lt;!--代码-->
&lt;pre>&lt;code data-line-numbers>### PRE-STRESSED TEST
go atlas
# IMPORT THE MESH
mesh inf=mos2ex02_0.str master.in
# MATERIAL CONTACT INTERFACE AND MODELS
contact num=1 n.polysilicon
interf qf=5.e10
models temp=300 print srh auger cvt
# SOLUTIONS
solve init
save outf=mos2ex02_1.str
tonyplot mos2ex02_1.str -set mos2ex02_1.set
method newton trap carr=1 electron
solve prev
solve vdrain=0.1
log outf=mos2ex02_2.log
solve vgate=0.5 vstep=0.25 name=gate vfinal=6.
&lt;/code>&lt;/pre>
&lt;pre>&lt;code> &amp;lt;/section&amp;gt;
&amp;lt;section&amp;gt;
&amp;lt;p&amp;gt;高压应力 1000 秒&amp;lt;/p&amp;gt;
&lt;/code>&lt;/pre>
&lt;!--代码-->
&lt;pre>&lt;code data-line-numbers>### DEVICE STRESSING
go atlas
# IMPORT DEVICE STRUCURE
mesh inf=mos2ex02_0.str master.in
# MATERIAL CONTACT INTERFACE AND MODELS
contact num=1 n.polysilicon
interf qf=5.e10
models temp=300 print srh cvt hei hcte.el devdeg.e nearflg ig.elinf=9.4e-7
#impact selb
degradation f.nta=mos2ex02_devdeg.nta sigmae=2.e-15 sigmah=1.e-17
# SOLUTIONS
solve init
method newton trap carr=1
solve
solve vgate=1.5
solve vdrain=0.1
solve vdrain=0.2
solve vdrain=0.5 vstep=0.5 name=drain vfinal=3
solve vdrain=3.3
method newton trap quasistatic climit=1e-5 carr=2 dt.max=1000
log outf=mos2ex02_3.log
output devdeg
solve tstep=1e-5 tstop=0.01
save outf=mos2ex02_0_01s.str
solve tstep=1e-3 tstop=0.1
save outf=mos2ex02_0_1s.str
solve tstep=1e-2 tstop=1
save outf=mos2ex02_1s.str
solve tstep=1e-2 tstop=1000
save outf=mos2ex02_1000s.str
solve tstep=1e3 tstop=10000
save outf=mos2ex02_10000s.str
&lt;/code>&lt;/pre>
&lt;pre>&lt;code> &amp;lt;/section&amp;gt;
&amp;lt;section&amp;gt;
&amp;lt;p&amp;gt;在各种应力时间下对器件进行 Id/Vgs 测试。&amp;lt;/p&amp;gt;
&lt;/code>&lt;/pre>
&lt;!--代码-->
&lt;pre>&lt;code data-line-numbers>### STRESSED TEST AT 0.01 s
go atlas
# IMPORT MESH
mesh inf=mos2ex02_0_01s.str master.in
# MATERIAL CONTACT INTERFACE AND MODELS
contact num=1 n.polysilicon
interf qf=5.e10
models temp=300 print srh auger cvt
# SOLUTIONS
load infile=mos2ex02_0_01s.str master
solve init
method newton trap carr=1 electron
solve
solve vdrain=0.1
log outf=mos2ex02_0_01s.log
solve vgate=0.5 vstep=0.25 name=gate vfinal=6.
&lt;/code>&lt;/pre>
&lt;pre>&lt;code> &amp;lt;/section&amp;gt;
&amp;lt;section&amp;gt;
&amp;lt;p&amp;gt;退化前后的I-V特性&amp;lt;/p&amp;gt;
&lt;/code>&lt;/pre>
&lt;pre>&lt;code data-line-numbers>tonyplot -overlay mos2ex02_0_1s.log mos2ex02_0_01s.log mos2ex02_2.log
&lt;/code>&lt;/pre>
&lt;pre>&lt;code> &amp;lt;img src=&amp;quot;./images/hot-carrier/tcad_example.jpg&amp;quot; width=&amp;quot;70%&amp;quot;&amp;gt;
&amp;lt;/section&amp;gt;
&amp;lt;/section&amp;gt;
&amp;lt;section&amp;gt;
&amp;lt;section&amp;gt;
&amp;lt;h3&amp;gt;论文&amp;lt;/h3&amp;gt;
&amp;lt;p&amp;gt;正在写物理机理部分&amp;lt;/p&amp;gt;
&amp;lt;ol&amp;gt;
&amp;lt;li&amp;gt;
载流子获得能量；
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;从电场中直接获得能量&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;载流子之间的碰撞散射&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;
载流子轰击Si-H键，造成Si-H键断裂，形成陷阱；
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;单一振荡激发&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;多重振荡激发&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;陷阱对器件特性产生影响。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;载流子注入对器件特性产生影响。&amp;lt;/li&amp;gt;
&amp;lt;/ol&amp;gt;
&amp;lt;/section&amp;gt;
&amp;lt;/section&amp;gt;
&amp;lt;section&amp;gt;
&amp;lt;p&amp;gt;谢谢聆听&amp;lt;/p&amp;gt;
&amp;lt;/section&amp;gt;
&lt;/code>&lt;/pre>
&lt;/div>
&lt;/div></description></item><item><title>自煮自足</title><link>https://todd.scuteee.com/food/2022-02-27-%E8%87%AA%E7%85%AE%E8%87%AA%E8%B6%B3/</link><pubDate>Sun, 27 Feb 2022 22:45:00 +0800</pubDate><guid>https://todd.scuteee.com/food/2022-02-27-%E8%87%AA%E7%85%AE%E8%87%AA%E8%B6%B3/</guid><description>&lt;h2 id="需求">需求&lt;/h2>
&lt;p>一切从简，包括：&lt;/p>
&lt;ul>
&lt;li>食客人数：1-2人&lt;/li>
&lt;li>热源：煤气炉或电煮锅&lt;/li>
&lt;li>处理工具：刀&lt;/li>
&lt;li>食材来源：超市&lt;/li>
&lt;li>烹饪时间：每道菜小于15分钟，如果是主食则半小时以内&lt;/li>
&lt;li>操作：有手就行&lt;/li>
&lt;/ul>
&lt;h2 id="菜品">菜品&lt;/h2>
&lt;p>以下记录一些我觉得适合做的菜&lt;/p>
&lt;h3 id="白灼菜心已做">白灼菜心（已做）&lt;/h3>
&lt;p>食材：菜心、蒜&lt;/p>
&lt;ol>
&lt;li>3min 菜心洗净&lt;/li>
&lt;li>2min 锅中放水，烧开（建议在上一步时用热水壶烧好）&lt;/li>
&lt;li>🌟加盐、油（使菜心保持翠绿）&lt;/li>
&lt;li>2min 放入菜心，待水烧开&lt;/li>
&lt;li>1~2min 捞出菜心，沥干水分（可以吃一条看看烂没烂）&lt;/li>
&lt;li>倒出锅水，热锅放油&lt;/li>
&lt;li>炒香蒜蓉&lt;/li>
&lt;li>2min 放入菜心，小火翻炒&lt;/li>
&lt;li>10s 放入盐、耗油，大火短暂翻炒&lt;/li>
&lt;li>出锅&lt;/li>
&lt;/ol>
&lt;p>总共约 10min，后面不炒也行，不炒只需 6min，但炒了会更香。该做法同样适用于其他普通叶菜（如芥蓝）&lt;/p>
&lt;h3 id="蒸蛋">蒸蛋&lt;/h3>
&lt;p>食材：鸡蛋&lt;/p>
&lt;ol>
&lt;li>2min 锅中烧水，同时准备打蛋&lt;/li>
&lt;li>蛋:水=1:1.5 加入温水（可以用蛋壳量水）&lt;/li>
&lt;li>加入少量盐、油&lt;/li>
&lt;li>把蛋打均匀&lt;/li>
&lt;li>等水烧开，放进去蒸&lt;/li>
&lt;li>10min 小火蒸10分钟&lt;/li>
&lt;li>等到蛋液不再流动，放入葱、胡椒粉、酱油&lt;/li>
&lt;/ol>
&lt;p>总共约 12min&lt;/p>
&lt;h3 id="滑蛋炒肉">滑蛋炒肉&lt;/h3>
&lt;p>食材：蛋、肉（可以是虾仁、猪肉、牛肉等等）、葱&lt;/p>
&lt;ol>
&lt;li>3min 肉切薄片（也可切丁），用生粉腌一下&lt;/li>
&lt;li>2min 蛋放入油、盐、糖一起打，放入切好的葱&lt;/li>
&lt;li>2min 下少量油，先把肉炒至变色，然后盛到蛋里&lt;/li>
&lt;li>重新下中量油（确保蛋液不会粘锅），&lt;strong>大火&lt;/strong>，倒入蛋液，此时底层会立刻熟&lt;/li>
&lt;li>1min 将蛋对折，上面的蛋液会留到底下，并立刻熟，再重复对折，直到没有蛋液为止。30s后关火（不管还有没有蛋液）。&lt;/li>
&lt;/ol>
&lt;p>总共约：8min&lt;/p>
&lt;h3 id="皮蛋瘦肉粥">皮蛋瘦肉粥&lt;/h3>
&lt;p>食材：米、肉、皮蛋、姜、葱、瑶柱（可选）&lt;/p>
&lt;ol>
&lt;li>1min 洗米、倒水&lt;/li>
&lt;li>1min 加入一小勺盐、油，拌一下&lt;/li>
&lt;li>3min 锅中放水，可以放入瑶柱&lt;/li>
&lt;li>10~15min 等水烧开，放入米，搅一下，盖上盖子用中火煲（米：水=1：8~10体积比）&lt;/li>
&lt;li>猪肉切丁，用水泡去除血水&lt;/li>
&lt;li>把姜切成姜蓉，和胡椒粉、生粉、麻油一起腌猪肉&lt;/li>
&lt;li>切皮蛋，先对半切再切丁&lt;/li>
&lt;li>配菜准备好后，等待粥煲稠，可以用打蛋器搅拌加速米融化。&lt;/li>
&lt;li>3min 将肉一点一点加入粥，等肉熟&lt;/li>
&lt;li>1min 加入皮蛋，搅拌一下，1min后关火&lt;/li>
&lt;/ol>
&lt;p>这个食谱不太行，皮蛋吃起来怪怪的。&lt;/p></description></item><item><title>(PPT)NBTI与HCI的结合</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-01-05-nbtihci/</link><pubDate>Wed, 05 Jan 2022 14:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2022-01-05-nbtihci/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>01/05 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>PMOS中NBTI与HCI的结合&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 物理模型 -->
&lt;section>
&lt;section>
&lt;h3>长沟道/短沟道 HCI 不同&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/短沟道的热载流子退化.jpg">&lt;!--命名错误，实际为长沟道-->
&lt;/div>
&lt;div>
&lt;img src="./images/hot-carrier/长沟道的热载流子退化.jpg">
&lt;/div>
&lt;/div>
&lt;blockquote>
&lt;p>&lt;small>
参考：[4]J. Kim, K. Hong, H. Shim, H. Rhee, and H. Shin, “Comparative Analysis of Hot Carrier Degradation (HCD) in 10-nm Node nMOS/pMOS FinFET Devices,” IEEE Trans. Electron Devices, vol. 67, no. 12, pp. 5396–5402, Dec. 2020, doi: 10.1109/TED.2020.3031246.&lt;br>
&lt;/small>&lt;/p>
&lt;/blockquote>
&lt;/section>
&lt;section>
&lt;h3>NBTI在HCI应力下依然存在&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/NBTI在HCD中的占比2.jpg">
&lt;/div>
&lt;div>
&lt;img src="./images/hot-carrier/Fig.%201.%20Illustration%20of%20the%20CHC%20and%20the%20NBTI%20coupling%20effects.%20.jpg">
&lt;/div>
&lt;/div>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>模型&lt;/h3>
&lt;p>
\[
\Delta V_\tx{th}=\Delta V_\tx{th_NBTI}+\Delta V_\tx{th_HCI}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>HCI效应引起的退化&lt;/h3>
&lt;p>
\[
\Delta V_\tx{th_HCI} = C \left\{ \exp\left[ \frac{\varphi_\tx{it}}{(q\lambda E_\tx{max})} \right]\cdot \left(\frac{I_{ds}}{W}\right) \cdot t \right\}^m
\]
&lt;/p>
&lt;p>$C$ 是拟合参数，$\varphi_\tx{it}$ 是产生陷阱所需的能量，$\lambda$ 是热空穴的平均自由程，$\lambda$ 是最大横向电场&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>NBTI引起的退化：空穴捕获与界面态产生&lt;/h3>
&lt;p>
\[
\Delta V_\tx{th_NBTI} = \Delta V_\tx{th_trap}+\Delta V_\tx{th_int}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>空穴捕获：Stress和Recover&lt;/h3>
&lt;p>
\[
\Delta V_\tx{th_trap}^S=\frac{q}{C}(n_\tx{T_int}+n_\tx{T_ox})
\]
\[
\Delta V_\tx{th_trap}^R=\Delta V_\tx{th_trap}^\max \exp(-t/\tau_c)
\]
&lt;/p>
&lt;p>$n_\tx{T_int}$ 界面陷阱浓度，$n_\tx{T_ox}$ 栅氧陷阱浓度&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>界面态产生：Stress和Recover&lt;/h3>
&lt;p>
\[
\Delta V_\tx{th_int}^S (t) = \frac{q}{C_\tx{ox}}\cdot R_\tx{Eox}\cdot \log (1+\frac{t}{\tau_S})
\]
\[
\Delta V_\tx{th_int}^R(t) = \Delta V_\tx{th_int}^\max - \Delta V_\tx{th_int}^\max \cdot R_\tx{rec}\log (1+\frac{t}{\tau_\tx{rec}})
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>模型与实际较为吻合&lt;/h3>
&lt;img src="./images/hot-carrier/Fig.%207%20(a)%20Calculation%20results%20of%20the%20separated%20and%20coupled%20contribution%20of%20NBTI%20and%20CHC%20.jpg">
&lt;/section>
&lt;section>
&lt;h3>改进&lt;/h3>
&lt;p>将HCI部分进一步细分为SP、MP、EES&lt;/p>
&lt;p>
\[
1/\tau_\text{SP} \sim (I_d/W)(I_{sub}/I_d)^m
\]
\[
\begin{aligned}
1/\tau_\text{MP} &amp;\sim [(qV_{ds}-\hbar \omega)^{1/2}(I_{sub}/W)]^{E_B/\hbar \omega} \exp (-E_\text{emi}/k_B T_L)\\
&amp;\approx [V_{ds}^{1/2}(I_d/W)]^{E_B/\hbar \omega}
\end{aligned}
\]
\[
1/\tau_\text{EES} \sim (I_d/W)^2(I_\text{sub}/I_d)^m
\]
\[
1/\tau_d = K_\text{SP}/\tau_\text{SP}+K_\text{EES}/\tau_\text{EES}+K_\text{MP}/\tau_\text{MP}
\]
&lt;/p>
&lt;/section>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>北京旅游计划</title><link>https://todd.scuteee.com/posts/2022/2022-01-02-beijing-trip-plan/</link><pubDate>Sun, 02 Jan 2022 00:43:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-01-02-beijing-trip-plan/</guid><description>&lt;h2 id="时间安排">时间安排&lt;/h2>
&lt;p>&lt;strong>2022/01/06~2022/01/11&lt;/strong>&lt;/p>
&lt;h3 id="核酸">核酸&lt;/h3>
&lt;p>北京市防疫政策：&lt;/p>
&lt;blockquote>
&lt;p>人员进（返）京须持48小时内核酸检测阴 性证明和“北京健康宝”绿码，14日内有1例以上（含1例）本土新冠病毒感染者所在县 (市、区、旗)旅居史人员严格限制进（返） 京。民航、铁路、公路将加强远端登机登车和 进京检查站查验。&lt;/p>
&lt;p>来源：&lt;a class="link" href="http://www.beijing.gov.cn/ywdt/gzdt/202111/t20211114_2536367.html" target="_blank" rel="noopener"
>北京市政府：11月17日零时起进返京须持48小时内核酸阴性证明和“北京健康宝”绿码&lt;/a>&lt;/p>
&lt;p>持纸质核酸检测阴性证明或电子核酸检测阴性证明均可。电子核酸检测阴性证明可以通过“北京健康宝”、支付宝“健康码”、微信国务院客户端等进行查询。&lt;/p>
&lt;p>来源：&lt;a class="link" href="http://www.beijing.gov.cn/ywdt/zwzt/yqfk/jfj/202111/t20211118_2540002.html" target="_blank" rel="noopener"
>北京市政府：核酸阴性证明必须纸质吗?&lt;/a>&lt;/p>
&lt;p>关于核酸检测阴性证明认定问题。按照现行的管控要求，人员进(返)京须持48小时内核酸检测阴性证明和“北京健康宝”绿码，其中核酸检测阴性证明的起始时间，以检测报告中“报告日期”为准。&lt;/p>
&lt;p>来源：&lt;a class="link" href="http://www.beijing.gov.cn/gongkai/hygq/202111/t20211117_2539140.html" target="_blank" rel="noopener"
>北京市政府：核酸检测阴性证明起始时间、环京地区通勤人员身份如何认定？官方解读&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>广州市防疫政策：&lt;/p>
&lt;blockquote>
&lt;p>其他省（自治区、直辖市）外来（返）穗人员抵穗后应48小时内主动做一次核酸检测。&lt;/p>
&lt;p>全国中高风险地区所在城市及部分邻近城市来穗航班旅客抵达(中转)白云机场后，在航班出口处为旅客测量体温、查验健康码(“粤康码”、“穗康码”、“全国一体化政务服务管理平台”)及在机场到达区做核酸检测。航班落地后将在T1航站楼W3出口专门区域保障，对所有旅客落地实行免费核酸检测，同时检查健康码以及测量体温，完成核酸检测采样后即可离开。&lt;/p>
&lt;/blockquote>
&lt;p>5号上午去附近卫生站做核酸，6号上午打印核酸报告&lt;/p>
&lt;h3 id="机票">机票&lt;/h3>
&lt;ul>
&lt;li>2022/01/06 16:40~19:45 白云机场T1
&lt;ul>
&lt;li>截办时间：15:55&lt;/li>
&lt;li>值机柜台：M（近12-14号门）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>2022/01/11 12:00~15:20 大兴国际机场
&lt;ul>
&lt;li>截办时间：11:20&lt;/li>
&lt;li>值机柜台：R01-R16，W17-W22（近11号门）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="滑雪">滑雪&lt;/h2>
&lt;h3 id="雪场的选择">雪场的选择&lt;/h3>
&lt;p>&lt;img src="https://todd.scuteee.com/images/trip/beijing/%e9%9b%aa%e5%9c%ba.jpg"
loading="lazy"
alt="雪场"
>&lt;/p>
&lt;p>初学者优先选近的，本来想选万龙八易，但上美团一看，不开了！好吧，那只能去云居或西山了。两者的距离差不多，打车1小时，公交2.5小时，我个人想的是去的时候公交，回来的时候打车。&lt;/p>
&lt;p>价格方面（含雪具）：&lt;/p>
&lt;ul>
&lt;li>西山
&lt;ul>
&lt;li>工作日和周末都是 230/4小时，360/全天；&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>云居
&lt;ul>
&lt;li>工作日 160/4小时，190/全天&lt;/li>
&lt;li>周末 220/4小时，260/全天&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>这么看还是去云居比较实惠（也没便宜很多），那就去云居好了！而且据说云居的雪好，人少，&lt;/p>
&lt;hr>
&lt;p>云居滑雪的攻略&lt;/p>
&lt;ul>
&lt;li>开放时间：周一至周日，日场 8:30 - 16:20，15:00 停止入场。夜场就免了，太晚了不方便回去。&lt;/li>
&lt;li>雪具押金 400，支付方式：微信、支付宝、现金&lt;/li>
&lt;li>雪票带雪板、雪杖、雪鞋，其余要自己租，头盔30，滑雪服一套40（据说比较旧），手套10，柜子20&lt;/li>
&lt;li>吃饭价格合理，但据说“人员一看就不是搞餐饮的，很笨拙”&lt;/li>
&lt;/ul>
&lt;h3 id="滑雪的穿着">滑雪的穿着&lt;/h3>
&lt;p>三层穿法：&lt;/p>
&lt;ul>
&lt;li>内层
&lt;ul>
&lt;li>罩在内衣裤外，紧贴着皮肤&lt;/li>
&lt;li>不需要太厚，其主要用来排汗&lt;/li>
&lt;li>合成材料或羊毛&lt;/li>
&lt;li>尽量避免与纯棉衣物叠穿&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>中层
&lt;ul>
&lt;li>用于保暖&lt;/li>
&lt;li>羽绒、合成材料夹克&lt;/li>
&lt;li>应避免纯棉衣物，以防吸汗潮湿&lt;/li>
&lt;li>可通过增减中间层的方式配合外界温度变化&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>外层
&lt;ul>
&lt;li>防水、透气和保暖&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>所有衣服：&lt;/p>
&lt;ol>
&lt;li>贴身速干衣（修身秋衣裤可代替）&lt;/li>
&lt;li>上身护甲衣，即中间层，防撞？？&lt;/li>
&lt;li>护膝护臀（单板必须要）&lt;/li>
&lt;li>滑雪袜（普通长袜可替代）&lt;/li>
&lt;li>滑雪裤（雪场租）&lt;/li>
&lt;li>滑雪外套（雪场租）&lt;/li>
&lt;li>滑雪手套滑雪外套（雪场租）&lt;/li>
&lt;li>滑雪护脸（天冷必须要，容易冻伤）&lt;/li>
&lt;li>头盔（雪场租）&lt;/li>
&lt;li>护目镜（雪场租）&lt;/li>
&lt;/ol>
&lt;h3 id="戴好护具">戴好护具&lt;/h3>
&lt;h3 id="学会刹车">学会刹车&lt;/h3></description></item><item><title>数据结构：B&amp;B+树</title><link>https://todd.scuteee.com/posts/2021/2021-12-30-data-structure-b-b+-tree/</link><pubDate>Thu, 30 Dec 2021 15:22:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-12-30-data-structure-b-b+-tree/</guid><description>&lt;h2 id="b树">B树&lt;/h2>
&lt;h3 id="基本概念">基本概念&lt;/h3>
&lt;p>B树中，结点中的孩子结点个数的最大值为B树的&lt;strong>阶 m&lt;/strong>，并满足如下一些性质：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>每个结点最多有 $m$ 个子树，最少有 $\lceil m/2 \rceil$ 个分支。特殊的，根结点若不是叶子，则最少有 2 个分支&lt;/p>
&lt;/li>
&lt;li>
&lt;p>若一个结点有 $n-1$ 个关键字，则有 $n$ 个分支。且关键字递增排列。关键字和孩子结点的关系如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> k1 k2 k3 ... kn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / | | | \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">p0 p1 p2 p3 ... pn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中，$n$ 为关键字的个数，ki 为关键字且满足ki&amp;lt;ki+1，pi为孩子结点的指针且所指结点的关键字满足 ki&amp;lt;pi&amp;lt;ki+1&lt;/p>
&lt;/li>
&lt;li>
&lt;p>根据1和2，可知结点最多有 $m-1$ 个关键字，最少有 $\lceil m/2 \rceil-1$ 个关键字。（特殊的，根可以只有1个关键字）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>叶子结点处于同一层，可以用空指针表示，是查找失败到达的位置。（也就是叶子结点全都是空结点）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>（根据上一条）B树是平衡的&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="b树的查找">B树的查找&lt;/h3>
&lt;p>从根结点出发，&lt;/p>
&lt;ol>
&lt;li>先查找结点内的关键字&lt;/li>
&lt;li>若找不到，则在对应范围内查找&lt;/li>
&lt;/ol>
&lt;h3 id="b树的插入">B树的插入&lt;/h3>
&lt;ol>
&lt;li>定位：找到最低层中的某个非叶结点&lt;/li>
&lt;li>插入：若插入后，关键字个数大于 $m-1$（即子树大于 $m$），则分裂，否则完成插入。&lt;/li>
&lt;li>分裂：以 $\lceil m \rceil$ 关键字进行划分，分为两个子结点，然后中间 $\lceil m \rceil$ 关键字则插入到父结点。若父节点超出 $m-1$，则继续分裂。&lt;/li>
&lt;/ol>
&lt;p>这个和2-3树是类似的。&lt;/p>
&lt;h3 id="b树的建立">B树的建立&lt;/h3>
&lt;ol>
&lt;li>首先确定树的阶数&lt;/li>
&lt;li>先经可能地将根填满到 $m-1$&lt;/li>
&lt;li>然后不断地插入&lt;/li>
&lt;/ol>
&lt;p>示例：5阶树&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{1,2,6,7,11,4,8,13,10,5,17,9,16,20,3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{11,4,8,13,10,5,17,9,16,20,3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2,6,7
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{4,8,13,10,5,17,9,16,20,3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2 7,11
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{10,5,17,9,16,20,3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2,4 7,8,11,13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{5,17,9,16,20,3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6, 10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2,4 7,8 11,13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{20,3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6, 10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2,4,5 7,8,9 11,13,16,17
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{3,12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6, 10, 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2,4,5 7,8,9 11,13 17,20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{12,14,18,19,15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 3, 6, 10, 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ \ \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2 4,5 7,8,9 11,13 17,20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{15}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 3, 6, 10, 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ \ \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2 4,5 7,8,9 11,12,13,14 17,18,19,20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 3, 6 13, 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ \ \ \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1,2 4,5 7,8,9 11,12 14,15 17,18,19,20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="b树的删除">B树的删除&lt;/h3>
&lt;p>若删除的是非终端结点（即不是最低的非空结点），可以用前驱或后继代替，从而转化为删除终端结点的情况。&lt;/p>
&lt;p>若删除的是终端结点，&lt;/p>
&lt;ol>
&lt;li>删除后仍满足关键字个数大于 $\lceil m/2 \rceil-1$，则完成&lt;/li>
&lt;li>反正，则向兄弟结点借，节的过程是：兄弟结点的最大/小值先代替父节点的一个关键字，再将父节点的关键字移到删除结点
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">删除65
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 60, 71
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / | \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">... 65 74,86
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 60, 71
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / | \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">... 空 86
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 60, 74
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / | \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">... 71 86
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>若兄弟结点不够借（即关键字都刚好是 $\lceil m/2 \rceil-1$），则将被删结点、父结点中的关键字、兄弟结点组合成新结点（此时为 $m-1$ 个关键字）。删除后，父节点的关键字个数少1，若
&lt;ol>
&lt;li>父节点是根，且减少为0，则新结点成为新的根&lt;/li>
&lt;li>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>数据结构：堆 Heap</title><link>https://todd.scuteee.com/posts/2021/2021-12-28-data-structure-heap/</link><pubDate>Tue, 28 Dec 2021 20:34:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-12-28-data-structure-heap/</guid><description>&lt;h2 id="复习完全二叉树">复习完全二叉树&lt;/h2>
&lt;p>首先先复习一下完全二叉树。完全二叉树指的是除了最深的一层，其余层都填满。因此，完全二叉树可以按由上到下、由左到右的顺序放入到一个数组中：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 1 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 3 4 5 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">012345678
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>并且对于编号为 $n$ 的结点，其父结点为 $\lceil (n-1)/2 \rceil$，左子结点为 $2n+1$，右子结点为 $2n+2$. 证明如下：&lt;/p>
&lt;p>我们只需要证明左子结点即可，其余很容易据此推出。我们采用从特殊到一般的证明方法。我们先考虑每层的第1个元素，编号为：$0,1,3,7,\cdots,2^{l-1}-1$，显然，$l+1$ 层的第一个元素为 $2^l-1=2\cdot (2^{l-1}-1)+1$&lt;/p>
&lt;p>我们再考虑每层第 $k$ 个元素，即编号为 $2^{l-1}-1+(k-1)$，显然，其左子结点的编号为 $2^l-1+2\cdot (k-1)$，这两者满足：&lt;/p>
&lt;p>$$
2^l-1+2\cdot (k-1) = 2\cdot [2^{l-1}-1+(k-1)]+1
$$&lt;/p>
&lt;p>故得证。右子结点在左子结点的基础上加一即可，父结点则是对等式进行移项即可。&lt;/p>
&lt;p>注意的是，我们的结点编号是从 0 开始的，层编号也是从 0 开始的。如果从 1 开始，则父结点为 $\lceil n/2 \rceil$，左子结点为 $2n$，右子结点为 $2n+1$. 在做题时要考虑清楚。&lt;/p>
&lt;blockquote>
&lt;p>后面代码部分以 1 开始。&lt;/p>
&lt;/blockquote>
&lt;p>根据这一点，我们就可以很方便的将完全二叉树存储在线性表中。&lt;/p>
&lt;h2 id="堆">堆&lt;/h2>
&lt;p>堆是一种特殊的二叉树，分两种：&lt;/p>
&lt;ul>
&lt;li>最大堆：父结点比子结点大&lt;/li>
&lt;li>最小堆：父结点比子结点小&lt;/li>
&lt;/ul>
&lt;p>后面以最大堆为例。&lt;/p>
&lt;p>堆的几个基本操作：&lt;/p>
&lt;ol>
&lt;li>上浮 shift_up&lt;/li>
&lt;li>下沉 shift_down&lt;/li>
&lt;li>插入 push&lt;/li>
&lt;li>弹出 pop&lt;/li>
&lt;li>取顶 top&lt;/li>
&lt;li>堆排序 heap_sort&lt;/li>
&lt;/ol>
&lt;p>这几个操作在构建、使用堆的过程中会逐一讲解。&lt;/p>
&lt;h2 id="构造堆">构造堆&lt;/h2>
&lt;p>首先先讲一个特殊案例，假设结点的左右子树都是堆，但自身不是堆。比如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 9 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>显然左右子树都是最大堆，但根不是最大的。为了使其称为堆，我们进行“下沉”，把根与其最大的子结点交换：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 2 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后对左子树重复该过程：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 2 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再重复：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最终可以得到一个最大堆。最小堆则相反，与子结点中较小的交换。注意在下沉的过程中，二叉树的结构没变，依然是完全二叉树。&lt;/p>
&lt;p>据此，我们可以将任意一个完全二叉树转化为堆，只需自低向上对每个结点进行下沉操作即可，代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">new_heap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">len&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">adjust_heap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此处我们从最后一个有子结点的结点（$\lceil n/2 \rceil$）开始，逐个对前面的结点进行调整。具体调整的代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">adjust_heap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">node&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">right&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">right&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">max&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">adjust_heap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="插入新结点">插入新结点&lt;/h2>
&lt;p>首先，要保持堆是完全二叉树，那么新插入的结点只能在最末尾的位置。假设我们新插入的是 9&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 4 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>显然 9 比结点 4 大，所以将它“上浮”，也就是交换。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 9 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后不断重复这个过程，直到无法上浮为止。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 9 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 6 5 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="堆排序">堆排序&lt;/h2>
&lt;p>首先，我们将所有元素组织成堆，然后取出最大的元素：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> &amp;#39;7&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 5 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 4 2 1 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#39; &amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 5 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 4 2 1 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>由于根结点空了，所以我们把最右下的元素补上去&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 5 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 4 2 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>由于此时左、右子树都是堆，所以只需要将根结点下沉。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 5 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> / \ /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 4 2 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后，再取出根结点，重复上述过程。&lt;/p>
&lt;p>代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">heapsort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// Heapsort
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Elem&lt;/span> &lt;span class="n">mval&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maxheap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">H&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// Now sort
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">H&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">removemax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mval&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">maxheap&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Elem&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">Heap&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Pointer to the heap array
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Maximum size of the heap
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Number of elems now in heap
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maxheap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Heap&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">buildHeap&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Bool&lt;/span> &lt;span class="nf">removemax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">it&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Heap is empty
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Heap&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Swap max with end
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">siftdown&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">it&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Heap&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// Return max value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>代价为：1. 建堆 $\Theta(n)$ 2. 移除最大值 $\Theta(\log n)$（因为深度为 $\lceil \log n$ \rceil） 3. n次移除最大值 $\Theta(n\log n)$&lt;/p>
&lt;blockquote>
&lt;p>话说我觉得建堆应该是 $\Theta(n\log n)$&lt;/p>
&lt;/blockquote>
&lt;h2 id="参考">参考&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/JVxie/p/4859889.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/JVxie/p/4859889.html&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/xiugeng/p/9645972.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/xiugeng/p/9645972.html&lt;/a>&lt;/p></description></item><item><title>数据结构一周速成</title><link>https://todd.scuteee.com/posts/2021/2021-12-23-data-structure-flash-review/</link><pubDate>Thu, 23 Dec 2021 20:34:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-12-23-data-structure-flash-review/</guid><description>&lt;blockquote>
&lt;p>我真不明白为什么同一个课程，同样的内容，就只是因为开课的学院不同就不能互认，搞得我一门课程要学两次🙄&lt;/p>
&lt;/blockquote>
&lt;h2 id="chapter-1">Chapter 1&lt;/h2>
&lt;ol>
&lt;li>什么是数据结构？
&lt;blockquote>
&lt;p>研究如何在计算机中有效的存储和组织数据的方法&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>如何表示数据结构？
&lt;blockquote>
&lt;p>抽象数据类型（ADT）：是一种描述数据结构的程序设计语言无关的模型。ADT定义为一组数值，和一组相关的操作。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>什么是算法？
&lt;blockquote>
&lt;p>算法：用于解决一个问题的方法或步骤。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>算法的属性：
&lt;blockquote>
&lt;ol>
&lt;li>确定性：它必须是正确的&lt;/li>
&lt;li>可行性：它必须包含一系列具体的步骤，执行的过程无二义性&lt;/li>
&lt;li>有穷性：它必须包含有限的步骤，它必须是可以结束的&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;/li>
&lt;li>数据结构 + 算法 = 程序
&lt;blockquote>
&lt;ul>
&lt;li>数据结构主要研究如何有效的存储和组织应用程序的数据。&lt;/li>
&lt;li>算法主要研究如何对数据进行处理从而解决某个问题&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h2 id="chapter-2">Chapter 2&lt;/h2>
&lt;h2 id="chapter-3">Chapter 3&lt;/h2>
&lt;p>增长率分析：分析代价（时间、空间）如何随着输入数据规模大小的增长而增长&lt;/p>
&lt;ul>
&lt;li>$T(n)$：运行时间关于输入数据规模大小 $n$ 的函数。&lt;/li>
&lt;li>$S(n)$：消耗空间关于输入数据规模大小 $n$ 的函数。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>渐进分析：渐进分析是对T(n)的一种简化分析，该分析保留了 $T(n)$ 的渐进增长趋势&lt;/p>
&lt;ul>
&lt;li>大 $O$ 分析（上界分析）
&lt;blockquote>
&lt;p>对于非负函数 $T(n)$，如果存在正常数 $c$ 和 $n_0$ 使得当 $n&amp;gt;n_0$ 时 $T(n)\leq cf(n)$，则称 $T(n)$ 属于集合 $O(f(n))$，或记为 $T(n)=O(f(n))$&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>大 $\Omega$ 分析（下界分析）
&lt;blockquote>
&lt;p>对于非负函数 $T(n)$，如果存在正常数 $c$ 和 $n_0$ 使得当 $n&amp;gt;n_0$ 时 $T(n)\geq cg(n)$，则称 $T(n)$ 属于集合 $\Omega(g(n))$，或记为 $T(n)=\Omega(g(n))$&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>大 $\Theta$ 分析
&lt;blockquote>
&lt;p>若 $T(n)=O(h(n))$ 且 $T(n)=\Omega(h(n))$，则称 $T(n)=\Theta(h(n))$&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;p>$T(n)$ 存在多个上界和下界。&lt;/p>
&lt;hr>
&lt;p>简化规则：&lt;/p>
&lt;ul>
&lt;li>常数规则：若 $f(n)=O(kg(n))$，$k&amp;gt;0$，则 $f(n)=O(g(n))$
&lt;ul>
&lt;li>该规则同样适用于 $\Omega$ 和 $\Theta$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>加法规则：若 $f_1(n)=O(g_1(n))$ 且 $f_2(n)=O(g_2(n))$，则 $f_1(n)+f_2(n)=O(\max(g_1(n),g_2(n)))$&lt;/li>
&lt;li>乘法规则：若 $f_1(n)=O(g_1(n))$ 且 $f_2(n)=O(g_2(n))$，则 $f_1(n)f_2(n)=O(g_1(n)g_2(n))$&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>常见的渐进复杂度：&lt;/p>
&lt;p>$$
O(1)&amp;lt;O(\log\log n)&amp;lt;O(\log n)\
&amp;lt;O(n)&amp;lt;O(n\log n)\
&amp;lt;O(n^2)&amp;lt;\cdots&amp;lt;O(n^k)\
&amp;lt;O(k^n)&amp;lt;O(n!)&amp;lt;O(n^n)
$$&lt;/p>
&lt;h2 id="chapter-4">Chapter 4&lt;/h2>
&lt;h3 id="线性表">线性表&lt;/h3>
&lt;p>概念：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>线性表&lt;/strong>：由有限的数据元素构成的序列&lt;/li>
&lt;li>&lt;strong>当前位置&lt;/strong>：在线性表中插入、删除、或读去数据的位置。当前位置通过**栅栏 (fence)**来定义。栅栏将线性表划分为左右两个部分。插入、删除、读取都在栅栏所在的位置执行（栅栏后面的位置）&lt;/li>
&lt;li>一个包含0个数据元素的线性表称为&lt;strong>空表&lt;/strong>&lt;/li>
&lt;li>线性表的&lt;strong>长度&lt;/strong>指的是线性表中数据元素的个数&lt;/li>
&lt;li>线性表的开始端称为&lt;strong>表头（head）&lt;/strong>, 线性表的结束端称为&lt;strong>表尾（tail）&lt;/strong>&lt;/li>
&lt;li>&lt;strong>有序表&lt;/strong>：表中的所有的数据元素是根据其数值的大小来进行先后排列&lt;/li>
&lt;li>&lt;strong>无序表&lt;/strong>：表中数据元素的位置和该元素的数值没有必然联系&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>线性表ADT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">List&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">clear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">getValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">setPos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setStart&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setEnd&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">prev&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">next&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">leftLength&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">rightLength&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">print&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>线性表的实现：&lt;/p>
&lt;ul>
&lt;li>数组&lt;/li>
&lt;li>链表&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">比较&lt;/th>
&lt;th style="text-align:center">数组&lt;/th>
&lt;th style="text-align:center">链表&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">插入与删除&lt;/td>
&lt;td style="text-align:center">$\Theta(n)$&lt;/td>
&lt;td style="text-align:center">$\Theta(1)$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">求前驱和随机访问&lt;/td>
&lt;td style="text-align:center">$\Theta(1)$&lt;/td>
&lt;td style="text-align:center">$\Theta(n)$&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">特点&lt;/td>
&lt;td style="text-align:center">需要提前为数组分配空间&lt;/td>
&lt;td style="text-align:center">消耗的空间随数据元素个数的增长而增长&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">空间&lt;br>$E$ 每个数据元素所占空间大小&lt;br>$P$：每个指针所占空间大小&lt;br>$D$：数组最多能存放的数据元素的个数&lt;br>$n$：当前数据元素的个数&lt;/td>
&lt;td style="text-align:center">$DE$&lt;/td>
&lt;td style="text-align:center">$n(P+E)$&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="栈">栈&lt;/h3>
&lt;p>概念：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>栈&lt;/strong>：插入、删除只在一端进行的线性表&lt;/li>
&lt;li>&lt;strong>LIFO&lt;/strong> 性质: Last In, First Out. （后进先出）&lt;/li>
&lt;li>&lt;strong>入栈(PUSH)&lt;/strong>：插入元素到栈中&lt;/li>
&lt;li>&lt;strong>出栈(POP)&lt;/strong>：从栈中取出元素&lt;/li>
&lt;li>&lt;strong>栈顶(TOP)&lt;/strong>：栈中插入、删除的位置&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>栈的ADT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">Stack&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Reinitialize the stack
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">clear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Push an element onto the top of the stack.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Remove the element at the top of the stack.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">pop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Get a copy of the top element in the stack
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">topValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Return the number of elements in the stack.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">length&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>栈的实现：&lt;/p>
&lt;ul>
&lt;li>数组&lt;/li>
&lt;li>链表&lt;/li>
&lt;/ul>
&lt;h3 id="队列">队列&lt;/h3>
&lt;p>概念：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>队列&lt;/strong>: 插入和删除分别在表的两端进行的线性表&lt;/li>
&lt;li>&lt;strong>FIFO&lt;/strong> 性质: First in, First Out （先进后出）&lt;/li>
&lt;li>插入: &lt;strong>enqueue（入队）&lt;/strong>&lt;/li>
&lt;li>删除: &lt;strong>dequeue （出队）&lt;/strong>&lt;/li>
&lt;li>第一个元素: &lt;strong>front（队头）&lt;/strong>&lt;/li>
&lt;li>最后一个元素: &lt;strong>rear（队尾）&lt;/strong>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>队列ADT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">Queue&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">clear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">enqueue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">dequeue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">frontValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">length&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>栈的实现：&lt;/p>
&lt;ul>
&lt;li>数组&lt;/li>
&lt;li>链表&lt;/li>
&lt;/ul>
&lt;h2 id="chapter-5-二叉树">Chapter 5 二叉树&lt;/h2>
&lt;p>概念：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>二叉树&lt;/strong>是一个包含有限个结点的集合，有以下两种情况&lt;/p>
&lt;ul>
&lt;li>空集，&lt;strong>空树&lt;/strong>&lt;/li>
&lt;li>包含一个称为&lt;strong>树根(root)&lt;strong>的结点，以及两个互不相交的二叉树，它们分别称为&lt;/strong>左子树&lt;/strong>和&lt;strong>右子树&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>对于树上的每个结点，和它有连边的下层结点称为它的&lt;strong>孩子结点&lt;/strong>。在二叉树中，每个结点最多会有两个孩子，最少没有孩子&lt;/p>
&lt;/li>
&lt;li>
&lt;p>对于二叉树上的每个结点，和它有连边的上层结点称为它的&lt;strong>父亲结点&lt;/strong>。二叉树中，除了树根外，每个结点都有一个父亲结点。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>一个结点的父亲，父亲的父亲，父亲的父亲的父亲，等等都是它的&lt;strong>祖先结点&lt;/strong>。反过来，一个结点的孩子，孩子的孩子，孩子的孩子的孩子，等等都是它的&lt;strong>后辈结点&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>叶子结点&lt;/strong>：没有孩子结点的结点为叶子结点&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>路径&lt;/strong>：一个结点序列 $n_1,n_2,\cdot,n_k$，如果其中的每个结点 $n_i$ 是 $n_{i+1}$ 的父亲（$1\leq i \leq k$），我们就称这个序列是从 $n_1$ 到 $n_k$ 的路径。这条路径的长度等于 $k-1$&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>深度&lt;/strong>：一个结点的深度等于从树根到这个结点的路径的长度&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>层次&lt;/strong>：根结点为第0层，往下逐个增加。（貌似等于深度）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>高度&lt;/strong>：一棵树的高度等于其中最大结点深度加一&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>满二叉树&lt;/strong>：二叉树的每个结点都是叶子或拥有两个孩子的中间结点。&lt;/p>
&lt;ul>
&lt;li>&lt;strong>非空满二叉树中叶子的数目比中间结点多一个&lt;/strong>，这个很容易证明：如果只有根结点，则只有一个叶子结点，没有中间结点。每增加两个叶子，则原有的叶子结点会变为中间结点，故叶子始终比中间结点多一个。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>完全二叉树&lt;/strong>: 除了最深的层次，二叉树的所有层次都填满结点，且最深层的叶子结点集中在该层的最左边的位置&lt;/p>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>二叉树结点ADT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">BinNode&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">val&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setVal&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="n">BinNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">left&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setLeft&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="n">BinNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="n">BinNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">right&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setRight&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="n">BinNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">isLeaf&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>二叉树的实现：&lt;/p>
&lt;ul>
&lt;li>基于链接的方式&lt;/li>
&lt;li>基于数组的方式&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>哈夫曼编码：&lt;/p>
&lt;ul>
&lt;li>一种可变长度的编码&lt;/li>
&lt;li>高频字符对应较短的编码&lt;/li>
&lt;/ul>
&lt;p>哈夫曼编码的编码过程需要用到一种称为&lt;strong>哈夫曼树&lt;/strong>的满二叉树结构。&lt;/p>
&lt;p>平均编码长度取决于所有叶子的加权路径长度的和&lt;/p>
&lt;p>定理: 对于给定的一组字符以及出现的频率，以它们作为叶子节点构建的满二叉树中，哈夫曼树具有最小的加权路径长度的和。在预先知道每个字符的出现的频率的前提下，哈夫曼编码是具有最小的平均编码长度的非前缀编码。&lt;/p>
&lt;p>构建哈夫曼编码的算法：&lt;/p>
&lt;h2 id="chapter-6-一般树">Chapter 6 一般树&lt;/h2>
&lt;p>概念：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>树&lt;/strong> T 是一个包含一个或多个节点的有限集合，其中有一个称为 &lt;strong>树根&lt;/strong> 的节点r，余下的节点(T –{r}) 可以被划分为k个( k≥0)互不想交的子集 T1, T2, &amp;hellip;, Tk, 每个子集都是一棵树,它们的树根 r1, r2, &amp;hellip;, rk,都是r的孩子&lt;/li>
&lt;li>&lt;strong>森林&lt;/strong>：是包含有一棵或多棵树的集合。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>树结点 ADT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// General tree node ADT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">GTNode&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GTNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Constructor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">GTNode&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Destructor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Elem&lt;/span> &lt;span class="nf">value&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Return value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">isLeaf&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// TRUE if is a leaf
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">GTNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">parent&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Return parent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">GTNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">leftmost_child&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// First child
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">GTNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">right_sibling&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Right sibling
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Set value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//insert first child
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">insert_first&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">GTNode&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;*&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//insert right sibling
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">insert_next&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">GTNode&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;*&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">remove_first&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Remove first child
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">remove_next&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Remove sibling
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>树 ADT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// General tree ADT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">GenTree&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GenTree&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Constructor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">GenTree&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Destructor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">clear&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Send nodes to free store
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">GTNode&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">root&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Return the root
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">GTNode&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Print function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="chapter7-内部排序">Chapter7 内部排序&lt;/h2>
&lt;p>概念：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>排序：给定一个序列的记录 $R_1 , R_2 , … , R_n$，它们对应的关键字依次是 $k_1 , k_2 ,… , k_n$ , 调整记录在序列中的次序得到新的记录序列 $R_{s1},R_{s2},…,R_{sn}$，使得记录的关键字满足以下性质： $k_{s1} ≤ k_{s2} ≤ …≤ k_{sn}$.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>稳定的排序算法：排序的过程不会改变具有相等关键字的记录的相对先后次序。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>内部排序：指的是待排序记录存放在计算机随机存储器中进行的排序过程。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>外部排序：指的是待排序记录的数量很大，以致内存一次不能容纳全部记录, 在排序过程中尚需对外存进行访问的排序过程。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="插入排序">插入排序&lt;/h3>
&lt;p>记忆：像洗牌，将每张牌插入到合适的位置&lt;/p>
&lt;p>实现：在第i次迭代，将第i个元素与前面 i-1 个元素进行比较，使其插入到前面适当的位置(1 &amp;lt;= i &amp;lt;= n-1)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">inssort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]));&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="c1">//插入第i个元素
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>代价分析：最好 $\Theta(n)$，最坏 $\Theta(n^2)$，平均 $\Theta(n^2)$&lt;/p>
&lt;p>插入排序是一种稳定的排序算法。&lt;/p>
&lt;h3 id="冒泡排序">冒泡排序&lt;/h3>
&lt;p>实现：由后到前，相邻两个元素比较，逆序则交换。一次冒泡过程结束后，最小的元素会到达最前面。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">bubsort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>代价分析：最好、最坏、平均都是 $\Theta(n^2)$。&lt;/p>
&lt;p>冒泡排序算法是一种稳定的排序算法。&lt;/p>
&lt;h3 id="选择排序">选择排序&lt;/h3>
&lt;p>实现：第i趟排序就是从位置属于[i,n-1]的元素中，选出最小的元素，并将其和第i位置上的元素交换&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">selsort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// select the minial values in [i,n-1]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">lowindex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// lowindex指向较小的元素
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// Find least
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">lowindex&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lowindex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lowindex&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Put it in place
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>代价分析：最好、最坏、平均都是 $\Theta(n^2)$。&lt;/p>
&lt;p>选择排序是一种不稳定的排序算法。&lt;/p>
&lt;h3 id="希尔排序shellsort">希尔排序（Shellsort）&lt;/h3>
&lt;p>思路（分组）：每隔一定间距取一个元素放入同一组，将所有元素分成多组，并在组内进行插入排序。然后减小间距重新分组，重新排序。最后当间距为 1 时，退化为一般的插入排序。&lt;/p>
&lt;p>分析：由于最后一次排序是一般的插入排序，所以这种方法是可行的。而前面几次排序可以使元素一次性移动多格，所以速度会快。&lt;/p>
&lt;p>代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Modified version of Insertion Sort
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">inssort2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">from&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">incr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">from&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">incr&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="n">incr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">from&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">incr&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="n">incr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">incr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">shellsort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// Shellsort
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">/=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// For each incr
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// Sort sublists
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">inssort2&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>当增量序列为 $∆[k] = 2^{t-k+1}-1$ 时，算法复杂度为 $O(n^{3/2})$。 其中 t 是排序的趟数，$1\leq k\leq t$。例如（15，7，3，1）。&lt;a class="link" href="https://zhuanlan.zhihu.com/p/73726253" target="_blank" rel="noopener"
>证明过程&lt;/a>&lt;/p>
&lt;p>希尔排序是一种不稳定排序。&lt;/p>
&lt;h3 id="快速排序">快速排序&lt;/h3>
&lt;p>思想（分而治之）：选择一个记录的值作为支点（pivot）。将小于支点的记录安排在支点的左侧，将大于等于支点的记录安排在支点的右侧。从而将原序列划分为左右两个子序列。然后在子序列中重复该过程。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">qsort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// List too small
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">pivot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findpivot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pivot&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Put pivot at end
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">partition&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Put pivot in place
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">qsort&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">qsort&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">findpivot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">partition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">pivot&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">pivot&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">r&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="n">pivot&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Swap out-of-place values
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">l&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Stop when they cross
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Return first pos on right
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>代价分析：类似二叉树（层数代表次数）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">#best: 每次都均匀分成两段&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>--------&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>---- ----&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>-- -- -- --&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- - - - - - - -&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#worst&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>-----&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- -------&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- ------&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- -----&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- ----&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- ---&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- --&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- -&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>平均情况：&lt;/p>
&lt;p>$$
T(n)=cn+\frac{1}{n} \sum_{k=0}^{n-1} (T(k)+T(n-1-k))=\Theta(n \log n)
$$&lt;/p>
&lt;p>改进方法：&lt;/p>
&lt;ul>
&lt;li>选取更好的支点
&lt;ul>
&lt;li>选择以下三个记录中的中间值作为支点 : 序列的第一个，中间，最后一个记录&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>采用非递归的算法来实现快速排序&lt;/li>
&lt;/ul>
&lt;h3 id="归并排序">归并排序&lt;/h3>
&lt;p>思路（分而治之）：将一个序列划分为两个长度相等的子序列，然后递归的对每个子序列进行归并排序。将排好序的两个子序列归并为一个有序的序列。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">mergesort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Elem&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="n">Elem&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mergesort&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mergesort&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Elem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="n">right&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// Copy
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">i1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">curr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">curr&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="n">right&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">curr&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i1&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// Left exhausted
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">curr&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i2&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="nf">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i2&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// Right exhausted
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">curr&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i1&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="nf">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">curr&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i1&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">curr&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i2&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>代价分析：最好、最坏、平均都是 $\Theta(n \log n)$。&lt;/p>
&lt;h3 id="堆排序">堆排序&lt;/h3>
&lt;p>思路：堆顶结点的值总保持是最大值/最小值，故每次取堆顶，然后用剩下元素建堆，再重复该过程。&lt;/p>
&lt;p>代价分析：建堆 $\Theta(n)$，移除最大值 $\Theta(\log n)$，n 次移除最大值 $\Theta(n\log n)$。故总代价为 $\Theta(n\log n)$&lt;/p>
&lt;p>详细分析见我的博客。&lt;/p>
&lt;h3 id="箱排序和基数排序">箱排序和基数排序&lt;/h3>
&lt;p>箱排序（Binsort）：设置若干个箱子，依次扫描待排序的记录 R[0]，R[1]，…，R[n-1]，把关键字等于 k 的记录分配到第 k 个箱子里，然后按序号依次将各非空的箱子中的记录收集起来。&lt;/p>
&lt;p>示例：3，8，1，8，4，放入下面这组箱子，允许多个记录具有相同的关键字（链表）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| |1| |3|4| | | |8| |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 0 1 2 3 4 5 6 7 8 9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后从左到右逐个扫描箱子，如果有关键字，则取出：1，3，4，8，8&lt;/p>
&lt;p>代价：对于Key取值范围较大的记录进行Binsort，较为低效。放进箱子需要 $n$ 次，然后要扫描所有箱子，所以代价为：$\Theta(n + m)$，$n$ 是记录个数，$m$ 是箱子个数。&lt;/p>
&lt;p>箱排序是稳定的。&lt;/p>
&lt;hr>
&lt;p>基数排序（Radix Sort）：对箱排序的改进。将任何一个 $r$ 进制的整数 key $\overline{K_{d-1}K_{d-2}\cdots K_0}$ 看成是由 $d$ 个分量组成，$K_{d-1},K_{d-2},\cdots ,K_0$，对每个分量进行箱排序。&lt;/p>
&lt;p>示例：十进制，27，91，1，97，17，23，84，28，72，5，67，25，先按个位放入箱子&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1-&amp;gt;91-&amp;gt;1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2-&amp;gt;72
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">3-&amp;gt;23
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4-&amp;gt;84
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">5-&amp;gt;5-&amp;gt;25
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7-&amp;gt;27-&amp;gt;97-&amp;gt;17-&amp;gt;67
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8-&amp;gt;28
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后取出来：91，1，72，23，84，5，25，27，97，17，67，28&lt;/p>
&lt;p>再按十位放入箱子&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">0-&amp;gt;1-&amp;gt;5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1-&amp;gt;17
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2-&amp;gt;23-&amp;gt;25-&amp;gt;27-&amp;gt;28
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6-&amp;gt;67
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7-&amp;gt;72
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8-&amp;gt;84
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">9-&amp;gt;91-&amp;gt;97
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再取出来：1，5，17，23，25，27，28，67，72，84，01，07&lt;/p>
&lt;p>代价：每次放入全部 $n$ 个元素，$r$ 进制则需要扫描 $r$ 个箱子，需要重复位数 $d$ 次。故代价为 $\Theta((n+r)d)$，$n$ 是记录个数，$d$ 是Key的位数，$r$ 是基数。&lt;/p>
&lt;p>基数排序是稳定的排序。&lt;/p>
&lt;h3 id="排序算法性能比较">排序算法性能比较&lt;/h3>
&lt;h3 id="排序算法的理论下界">排序算法的理论下界&lt;/h3>
&lt;p>排序问题的上界是 $n \log n$。因为我们能找到的最好排序算法的平均情况下的算法复杂度是 $O(n \log n)$&lt;/p>
&lt;p>我们将证明排序问题的理论下界也是 $n \log n$。&lt;/p>
&lt;p>我们考虑排序的决策树（每个结点处进行一次比较，根据结果分为左右子树），其叶子数量为 $N!$（因为有 $N!$ 种可能结果），深度为 $d$ 的二叉树最多有 $2^{d+1}-1$ 个叶子，那反过来，$N!$ 个叶子的二叉树的深度至少是 $\lceil \log(N!+1) \rceil-1$，即 $\Omega (\log n!)=\Omega(n \log n)$&lt;/p>
&lt;p>$$
斯特林公式：n!\approx \sqrt{2\pi n} \left( \frac{n}{e} \right)^n
$$&lt;/p>
&lt;p>所以排序所需的时间 $T=\Omega(n \log n)$&lt;/p>
&lt;h2 id="chapter9-查找">Chapter9 查找&lt;/h2>
&lt;p>定义：&lt;/p>
&lt;h2 id="chapter10-索引">Chapter10 索引&lt;/h2>
&lt;p>原文件在硬盘中太大，不方便直接查找，所以建立索引文件。&lt;/p>
&lt;p>索引文件：&lt;/p>
&lt;ol>
&lt;li>索引文件中记录了关键字和对应的数据记录存储在硬盘中的位置&lt;/li>
&lt;li>索引文件比数据记录小的多，查找时被加载到内存中进行查找&lt;/li>
&lt;li>针对不同关键字的索引文件，支持多关键字查找&lt;/li>
&lt;/ol>
&lt;h3 id="线性索引">线性索引&lt;/h3>
&lt;p>线性索引: 索引文件组织成二元组(关键字, 指向记录的指针) 的序列。&lt;/p>
&lt;p>如果索引太大无法加载到内存，则建立二级索引。分段，取每一段的最小值重新构成序列。&lt;/p>
&lt;p>不足之处：插入和删除操作会导致大量数据移动 $\Theta(n)$&lt;/p>
&lt;h3 id="二叉查找树-bst">二叉查找树 BST&lt;/h3>
&lt;p>二叉查找数：对每个结点，左子结点比它小，右子结点比它大&lt;/p>
&lt;p>二叉平衡树：左右子树的高度差不超过1&lt;/p>
&lt;p>二叉平衡树查找复杂度 $\Theta(\log n)$&lt;/p>
&lt;p>不足之处：让BST保持平衡需要付出较高的代价，插入一个结点需要调整大量结点。&lt;/p>
&lt;h3 id="2-3树">2-3树&lt;/h3>
&lt;p>2-3树的性质：&lt;/p>
&lt;h3 id="b树">B+树&lt;/h3>
&lt;h2 id="chapter11-图">Chapter11 图&lt;/h2>
&lt;h3 id="概念">概念&lt;/h3>
&lt;p>图的定义：$G=(V,E)$&lt;/p>
&lt;ul>
&lt;li>
&lt;p>$V$ Vertex 顶点的非空有限集合（也就是一组顶点）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$E$ 无序集 $V&amp;amp;V$ 的子集，其元素是图的弧（Arc）（也就是顶点对）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>弧：表示两个顶点 $v$ 和 $w$ 之间存在一个关系，用顶点偶对 $&amp;lt;v,w&amp;gt;$ 表示&lt;/p>
&lt;/li>
&lt;li>
&lt;p>有向图：若图G的关系集合E(G)中，顶点偶对&amp;lt;v,w&amp;gt;的v和w之间是有序的，称图G是有向图。&lt;/p>
&lt;ul>
&lt;li>称为弧尾(tail)或始点(initial node)，w称为弧头(head)或终点(terminal node) ，就像向量。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>无向图：若图G的关系集合E(G)中，顶点偶对&amp;lt;v,w&amp;gt;的v和w之间是无序的，称图G是无向图。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>权(Weight)：与图的边和弧相关的数。权可以表示从一个顶点到另一个顶点的距离或耗费。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>路径：顶点序列 $v_1, v_2, …, v_n$ 被称为长度为 n-1的路径，其中 $v_i$ 到 $v_{i+1}$ $(1 ≤ i &amp;lt; n)$ 之间有连边&lt;/p>
&lt;/li>
&lt;li>
&lt;p>简单路径：路径中的所有顶点都是唯一的&lt;/p>
&lt;/li>
&lt;li>
&lt;p>环：长度不小于3的首尾相接的路径&lt;/p>
&lt;/li>
&lt;li>
&lt;p>简单环：除了第一个和最后一个顶点外，其余顶点都唯一的环是简单环&lt;/p>
&lt;/li>
&lt;li>
&lt;p>连通图 : 图中任何两个顶点之间都存在路径&lt;/p>
&lt;/li>
&lt;li>
&lt;p>连通分量：图中的极大连通子图（也就是让点形成的连通图最大）&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>参考：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/35864291" target="_blank" rel="noopener"
>图的基本概念和遍历&lt;/a>&lt;/p>
&lt;h3 id="图的实现">图的实现&lt;/h3>
&lt;h3 id="图的遍历">图的遍历&lt;/h3>
&lt;p>图的遍历：按照某特定顺序，依次访问图中的顶点，且每个顶点只访问一次。&lt;/p>
&lt;ol>
&lt;li>深度优先搜索(Depth First Search ,DFS)&lt;/li>
&lt;li>广度优先搜索(Breadth First Search, BFS)&lt;/li>
&lt;li>拓扑排序(Topological Sort )&lt;/li>
&lt;/ol>
&lt;h3 id="图的最短路径">图的最短路径&lt;/h3>
&lt;p>常见求解问题:&lt;/p>
&lt;ol>
&lt;li>单源最短路径: 求从某个顶点S到图中其他顶点的最短路径&lt;/li>
&lt;li>所有点对最短路径: 求任意两个顶点之间的最短路径&lt;/li>
&lt;/ol>
&lt;p>定义：&lt;/p>
&lt;ul>
&lt;li>d(A, B) 从A到B的最短距离（最短路径长度）&lt;/li>
&lt;li>w(A, B) 是A到B的连边的权重。如果A到B没有连边，则定义 w(A, B) = ∞.&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>单源最短路径：Dijkstra算法&lt;/p>
&lt;hr>
&lt;p>所有点对最短路径：Floyd算法&lt;/p>
&lt;h3 id="最小代价生成树">最小代价生成树&lt;/h3>
&lt;p>最小代价生成树（Minimum-Cost Spanning Tree ，MST) 问题：&lt;/p>
&lt;ul>
&lt;li>输入: 一个无向连通图 G&lt;/li>
&lt;li>输出: 满足以下要求的 G 的子图
&lt;ol>
&lt;li>该子图是包含所有顶点的连通图&lt;/li>
&lt;li>该子图具有最小的代价（代价指的是图中的所有连边上的权重的总和）&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;p>有两种算法：&lt;/p>
&lt;ul>
&lt;li>Prim 最小代价生成树算法&lt;/li>
&lt;li>Kruskal 最小代价生成树算法&lt;/li>
&lt;/ul></description></item><item><title>JEITA4701</title><link>https://todd.scuteee.com/posts/2021/2021-12-22-jeita4701/</link><pubDate>Wed, 22 Dec 2021 10:12:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-12-22-jeita4701/</guid><description>&lt;p>寿命实验的实验时间、实验个数的决定手册&lt;/p>
&lt;h2 id="适用范围">适用范围&lt;/h2>
&lt;p>本标准规定了，在根据 JEITA ED4701“用于半导体设备的环境和耐受性测试”规划寿命测试时，设计测试时间和样本数量的步骤。&lt;/p>
&lt;p>本标准用于评估由器件磨损（本征）所致的失效寿命，且器件在制造时有进行质量控制。&lt;/p>
&lt;p>备注1：由磨损所致的寿命指取决于器件材料、结构、设计方法等的本征寿命。图 1 中展示了半导体器件失效率的转变，分为两个区域：早期失效率与磨损失效率。本标准给出了决定测试时间和样本数量的流程，用于判断样本是否达到目标的使用寿命，以及什么时候开始出现磨损失效，等等。&lt;/p>
&lt;p>备注2：&lt;/p>
&lt;h2 id="用语定义">用语定义&lt;/h2>
&lt;h2 id="试验时间实验个数的决定手册">试验时间、实验个数的决定手册&lt;/h2>
&lt;h2 id="参考">参考&lt;/h2>
&lt;h2 id="附录">附录&lt;/h2></description></item><item><title>(PPT)EDR-4708B</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-12-13-edr-4708b/</link><pubDate>Wed, 22 Dec 2021 09:42:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-12-13-edr-4708b/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>12/22 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>EDR4708B 核对&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>EDR4708B 标准&lt;/h3>
&lt;ul>
&lt;li>标准名：Guideline for IC Reliability Qualification Plan&lt;/li>
&lt;li>目的：根据使用条件所要求的质量标准确定适当的可靠性测试&lt;/li>
&lt;li>可靠性测试：在加速电场、加速温度、加速湿度下进行&lt;/li>
&lt;li>设计可靠性测试的步骤：
&lt;ol>
&lt;li>根据失效机理确定测试项&lt;/li>
&lt;li>计算加速系数&lt;/li>
&lt;li>确定失效分布&lt;/li>
&lt;li>计算出测试时间&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;img src="./images/hot-carrier/concept_of_the_reliability_test.jpg">
&lt;/section>
&lt;section>
&lt;h3>加速系数的计算&lt;/h3>
&lt;p>电压加速系数（V-model）&lt;/p>
&lt;p>
\[
\alpha_V = \exp[\beta (V_2-V_1)]
\]
&lt;/p>
&lt;p>温度加速系数（Arrhenius model）&lt;/p>
&lt;p>
\[
\begin{aligned}
&amp;\alpha_T = \exp\left[ \frac{E_a}{k} \left( \frac{1}{T_1}-\frac{1}{T_2} \right) \right]\\
&amp;k: \text{Bolzmann constant}
\end{aligned}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>加速系数示例：&lt;/p>
&lt;img src="./images/hot-carrier/加速系数的示例.jpg">
&lt;/section>
&lt;section>
&lt;p>考虑上置信度和样本数量&lt;/p>
&lt;p>
\[
\begin{aligned}
&amp;t = t_0 \left[\frac{\ln(1-F_1)}{\ln(1-F_0)}\right]^{1/m}\\
&amp;t_0 :\text{加速测试中的失效时间}\\
&amp;F_0 :\text{累计失效率（Cumulative failure probability} \\
&amp;\quad\quad \text{to confirm with the lifetime）}\\
&amp;F_1 :\text{样品数量对应的失效率（Failure probability which can be confirmed}\\
&amp;\quad\quad \text{from the numbr of test samples,}\\
&amp;\quad\quad \text{which is calculated using the confidence level）}\\
&amp;m: \text{Weibull分布的参数}\\
\end{aligned}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>
\[
\begin{aligned}
&amp;F_1 = \frac{\text{Chi-Square}(CL,F)}{2N}\\
&amp;CL: \text{Confidence level}\\
&amp;F: \text{Number of failures}\\
&amp;N: \text{Number of samples for test}
\end{aligned}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>标准中的计算结果：&lt;/p>
&lt;img src="./images/hot-carrier/EDR4708B.jpg">
&lt;/section>
&lt;section>
&lt;p>核算结果：&lt;/p>
&lt;img src="./images/hot-carrier/EDR4708B核算.jpg">
&lt;/section>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>简明色彩理论与样式</title><link>https://todd.scuteee.com/posts/2021/2021-12-15-color-design/</link><pubDate>Wed, 15 Dec 2021 20:34:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-12-15-color-design/</guid><description>&lt;blockquote>
&lt;p>本文所有内容来自于：&lt;a class="link" href="https://youtu.be/GyVMoejbGFg" target="_blank" rel="noopener"
>Super Practical Guide to Color Theory, Color Models and Perfect Color Palettes | UI Design&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="色彩的属性">色彩的属性&lt;/h2>
&lt;p>色彩有 5 个属性：&lt;/p>
&lt;p>&lt;strong>Hue 色相&lt;/strong>：色彩的外相，不包括黑白灰&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/hue.jpg"
width="1634"
height="345"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/hue_hu29f330cad7a63740ba00b7d6662629af_47433_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/hue_hu29f330cad7a63740ba00b7d6662629af_47433_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="hue"
class="gallery-image"
data-flex-grow="473"
data-flex-basis="1136px"
>&lt;/p>
&lt;p>&lt;strong>tint 亮度&lt;/strong>：向纯色中增加白色的程度&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/tint.jpg"
width="1706"
height="331"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/tint_hu0c7c8b1816fa882ee9b3cc2a313a2518_36243_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/tint_hu0c7c8b1816fa882ee9b3cc2a313a2518_36243_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="tint"
class="gallery-image"
data-flex-grow="515"
data-flex-basis="1236px"
>&lt;/p>
&lt;p>&lt;strong>tone 色调&lt;/strong>：向纯色中增加灰色的程度&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/tone.jpg"
width="1697"
height="353"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/tone_hu94b6657bb45eac641e26739346e6cd02_36947_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/tone_hu94b6657bb45eac641e26739346e6cd02_36947_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="tone"
class="gallery-image"
data-flex-grow="480"
data-flex-basis="1153px"
>&lt;/p>
&lt;p>&lt;strong>shade 色度&lt;/strong>：向纯色中增加黑色的程度&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/shade.jpg"
width="1694"
height="343"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/shade_hu8a19c76496487b04d2f18a098b0fbbc5_41757_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/shade_hu8a19c76496487b04d2f18a098b0fbbc5_41757_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="shade"
class="gallery-image"
data-flex-grow="493"
data-flex-basis="1185px"
>&lt;/p>
&lt;p>&lt;strong>temperature 色温&lt;/strong>：色彩中，红/黄色占得多则偏暖，蓝/绿色占得多则偏冷&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/temperature.jpg"
width="1708"
height="522"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/temperature_hu220d8d1e3d4731588453cc72601bd521_62769_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/temperature_hu220d8d1e3d4731588453cc72601bd521_62769_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="temperature"
class="gallery-image"
data-flex-grow="327"
data-flex-basis="785px"
>&lt;/p>
&lt;h2 id="色彩模型">色彩模型&lt;/h2>
&lt;p>色彩模型指的是我们描述色彩的方法。&lt;/p>
&lt;p>&lt;strong>CMYK&lt;/strong> Cyan, Magenta, Yellow, Black，简单理解有点像用不同荧光笔叠加得到不同颜色，在叠加的过程中白色会越来越少，最终变成纯黑。这种模式用于打印机。&lt;/p>
&lt;p>&lt;strong>RGB&lt;/strong> Red, Green, Blue，简单理解就是不同颜色的光混合，混合过程中会越来越亮，最终变成纯白。这种模式用于屏幕显示。&lt;/p>
&lt;p>&lt;strong>HSB&lt;/strong> Hue, Saturation, Brightness，简单理解就是将不同颜色与黑、白、灰混合，从而控制颜色的纯度、明度。这种模式用于设计。&lt;/p>
&lt;h2 id="常用色彩搭配">常用色彩搭配&lt;/h2>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/different_tones.jpg"
width="844"
height="741"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/different_tones_hu3b3ed2adf86cb3437dd5ce925917186a_58544_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/different_tones_hu3b3ed2adf86cb3437dd5ce925917186a_58544_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="different_tones"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="273px"
>&lt;/p>
&lt;p>确定 S 和 B 后，改变 H 得到一组所需颜色。各组颜色的 SB 范围如下：&lt;/p>
&lt;ul>
&lt;li>Jewel Tones
&lt;ul>
&lt;li>S: 73-83&lt;/li>
&lt;li>B: 56-76&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Pastel Tones
&lt;ul>
&lt;li>S: 14-21&lt;/li>
&lt;li>B: 89-96&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Earth Tones
&lt;ul>
&lt;li>S: 36-41&lt;/li>
&lt;li>B: 36-77&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Neutral Tones
&lt;ul>
&lt;li>S: 1-10&lt;/li>
&lt;li>B: 70-99&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Fluorescent Tones
&lt;ul>
&lt;li>S: 100-63&lt;/li>
&lt;li>B: 100-82&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Shade
&lt;ul>
&lt;li>S: 0&lt;/li>
&lt;li>B: 0-100&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>至于 H，我们可以选择色环上相邻、均分、甚至相对的颜色。一般我们以其中一个为主色调，其余为辅色调。&lt;/p>
&lt;p>一些示例：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/jewel_tones.jpg"
width="1909"
height="1074"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/jewel_tones_hu0042f32c3b44b607687f0b82de85fee6_200172_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/jewel_tones_hu0042f32c3b44b607687f0b82de85fee6_200172_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="jewel_tones"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/pastel_tones.jpg"
width="1909"
height="1074"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/pastel_tones_huea82948dc254c066b06a8bc9ff4538a2_176377_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/pastel_tones_huea82948dc254c066b06a8bc9ff4538a2_176377_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="pastel_tones"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/earth_tones.jpg"
width="1909"
height="1075"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/earth_tones_hu885702b589694ffed60c3cd885e39a4f_163636_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/earth_tones_hu885702b589694ffed60c3cd885e39a4f_163636_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="earth_tones"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/neutral_tones.jpg"
width="1915"
height="1078"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/neutral_tones_hu9ec7e90fac30f39c879f28d81cbc2337_135343_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/neutral_tones_hu9ec7e90fac30f39c879f28d81cbc2337_135343_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="neutral_tones"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/fluorescent_tones.jpg"
width="1916"
height="1078"
srcset="https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/fluorescent_tones_hu606ab4769559d60ed6c53f03203cf5d5_150458_480x0_resize_q75_box.jpg 480w, https://todd.scuteee.com/posts/2021/2021-12-15-color-design/images/fluorescent_tones_hu606ab4769559d60ed6c53f03203cf5d5_150458_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="fluorescent_tones"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;h2 id="色彩搭配网站">色彩搭配网站&lt;/h2>
&lt;p>&lt;a class="link" href="https://color.adobe.com/" target="_blank" rel="noopener"
>https://color.adobe.com/&lt;/a> 你可以用色环设计自己的配色，也可以在“探索”中查看其他人的配色。&lt;/p>
&lt;p>&lt;a class="link" href="https://coolors.co/" target="_blank" rel="noopener"
>https://coolors.co/&lt;/a> 另一个配色网站&lt;/p>
&lt;p>&lt;a class="link" href="https://colorable.jxnblk.com/" target="_blank" rel="noopener"
>https://colorable.jxnblk.com/&lt;/a> 检查你的颜色是否方便阅读，&lt;/p></description></item><item><title>关于字体的二三事（未完）</title><link>https://todd.scuteee.com/posts/2021/2021-11-29-font-design/</link><pubDate>Mon, 29 Nov 2021 20:34:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-11-29-font-design/</guid><description>&lt;p>我写这篇的原因是，我开始设计Jekyll主题的Markdown的CSS，其中大部分工作是设计字体，所以我查阅了一些资料，并总结成下文。&lt;/p>
&lt;h2 id="字号">字号&lt;/h2>
&lt;h3 id="字号的单位">字号的单位&lt;/h3>
&lt;h4 id="磅与号">磅与号&lt;/h4>
&lt;p>外国人常用“磅”作为文字大小的计量单位，咱中国人则常用“号”。&lt;/p>
&lt;p>磅&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>，英文为 point，缩写为 pt，是印刷所使用的长度单位。point 的正确翻译应该是点。最早的点制系统是法国的 Fournier&amp;rsquo;s point，而现在常用的点制系统是 DTP point（DeskTop Publishing point），1 DTP pt=1/72英寸≈0.3514mm&lt;/p>
&lt;p>号&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>，则是1858年美国传教士姜别利在上海的美华书馆主持印刷工作，他根据美国当时活字的大小指定了汉字大小的标准并编号，定下一号到七号，后续在这七个字号的基础上又增加了其他字号。号数制的缺点是不同字号之间没有线性倍数关系，一号并不是二号的两倍大。&lt;/p>
&lt;p>磅与号的换算关系见下表。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>磅&lt;/th>
&lt;th>号&lt;/th>
&lt;th>毫米&lt;/th>
&lt;th>像素&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>5pt&lt;/td>
&lt;td>八号&lt;/td>
&lt;td>1.76mm&lt;/td>
&lt;td>6.7px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.5pt&lt;/td>
&lt;td>七号&lt;/td>
&lt;td>1.94mm&lt;/td>
&lt;td>7.3px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6.5pt&lt;/td>
&lt;td>小六&lt;/td>
&lt;td>2.29mm&lt;/td>
&lt;td>8.7px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7.5pt&lt;/td>
&lt;td>六号&lt;/td>
&lt;td>2.56mm&lt;/td>
&lt;td>10px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>9pt&lt;/td>
&lt;td>小五&lt;/td>
&lt;td>3.18mm&lt;/td>
&lt;td>12px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10.5pt&lt;/td>
&lt;td>五号&lt;/td>
&lt;td>3.70mm&lt;/td>
&lt;td>14px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12pt&lt;/td>
&lt;td>小四&lt;/td>
&lt;td>4.23mm&lt;/td>
&lt;td>16px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>14pt&lt;/td>
&lt;td>四号&lt;/td>
&lt;td>4.94mm&lt;/td>
&lt;td>18.7px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>15pt&lt;/td>
&lt;td>小三&lt;/td>
&lt;td>5.29mm&lt;/td>
&lt;td>20px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16pt&lt;/td>
&lt;td>三号&lt;/td>
&lt;td>5.64mm&lt;/td>
&lt;td>21.3px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>18pt&lt;/td>
&lt;td>小二&lt;/td>
&lt;td>6.35mm&lt;/td>
&lt;td>24px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>22pt&lt;/td>
&lt;td>二号&lt;/td>
&lt;td>7.76mm&lt;/td>
&lt;td>29.3px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>24pt&lt;/td>
&lt;td>小一&lt;/td>
&lt;td>8.47mm&lt;/td>
&lt;td>32px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>26pt&lt;/td>
&lt;td>一号&lt;/td>
&lt;td>9.17mm&lt;/td>
&lt;td>34.7px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>36pt&lt;/td>
&lt;td>小初&lt;/td>
&lt;td>12.70mm&lt;/td>
&lt;td>48px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>42pt&lt;/td>
&lt;td>初号&lt;/td>
&lt;td>14.82mm&lt;/td>
&lt;td>56px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>54pt&lt;/td>
&lt;td>特号&lt;/td>
&lt;td>18.97mm&lt;/td>
&lt;td>71.7px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>63pt&lt;/td>
&lt;td>大特号&lt;/td>
&lt;td>22.14mm&lt;/td>
&lt;td>83.7px&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>72pt&lt;/td>
&lt;td>1英寸&lt;/td>
&lt;td>25.30mm&lt;/td>
&lt;td>95.6px&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>注：上面列出的是 Word 中的换算关系，而在“方正飞腾”等其他排版系统中则略有不同，如：七号对应5.25pt（Word中是5.5pt）&lt;/p>
&lt;/blockquote>
&lt;h4 id="屏幕上的字号">屏幕上的字号&lt;/h4>
&lt;p>px，全拼是 pixel，像素，指的是构成图片的最小单位。我们平时说的分辨率的单位就是 px。像素没有固定的物理长度。&lt;/p>
&lt;p>分辨率越高不一定越清晰，而是要看密度，或者说单个像素的大小。有两种衡量密度的单位：&lt;/p>
&lt;ul>
&lt;li>dpi：dot per inch，每英寸点数，用于印刷。&lt;/li>
&lt;li>ppi：pixel per inch，每英寸像素数，用于屏幕。&lt;/li>
&lt;/ul>
&lt;p>由于屏幕常用对角线来衡量大小，所以 ppi 常用该公式来计算：$\text{DPI}=\frac{\sqrt{\text{height}^2+\text{width}^2}}{\text{inch}}$，分子是对角线上的像素数，分母是对角线长度。但某些不良商家会直接用横边来计算，这样会使得数值看上去更大一点。&lt;/p>
&lt;p>300ppi 对人眼来说已经足够了，常见的电脑显示器的 ppi 在 100~200 之间，iPad Pro 的 ppi 为 264.&lt;/p>
&lt;p>但是，直接用 px 定义字体大小并不好，因为像素没有固定的物理长度，所以假如我有两个手机，一个是 1080P，一个是 2K，同样显示 10px，前者实际显示的大小会比后者大。所以我们需要其他尺度单位。&lt;/p>
&lt;p>或许你会说，那直接使用磅/号不行吗？不行，因为印刷中纸张的大小是固定的，而屏幕大小不是，所以我们不知道显示出来到底有多大。&lt;/p>
&lt;h4 id="dp-sp-em-rem">dp sp em rem&lt;/h4>
&lt;p>前面我们不使用 px 的原因是不同屏幕的像素大小不同，也就是 ppi 不同。为了解决这个问题，安卓系统引入了另一个单位 dp（Density-independent Pixels），简单来说就是：对于 160dpi 的屏幕，1dp=1px；但如果屏幕像素太小，比如 320dpi（像素大小减小一半），那么 1dp=2px。也就是说，像素越小，1dp对应的像素就越多，这样实际显示的大小就能保持一致。&lt;/p>
&lt;p>px 和 dp 的换算公式是 ${\rm px=dp \times (dpi\div 160)}$，这个是由谷歌定义的，可以去&lt;a class="link" href="https://www.zhihu.com/question/20697111" target="_blank" rel="noopener"
>知乎&lt;/a>了解更多。&lt;/p>
&lt;p>后来谷歌由引入了一个新的单位：sp（Scale-independent Pixel），它和 dp 类似，但是它还会受用户设置的影响（如果是 dp 则用户无法改变大小）。&lt;/p>
&lt;p>dp 和 sp 都只用于安卓。&lt;/p>
&lt;hr>
&lt;p>在网页端中，我们使用的是 em 和 rem&lt;/p>
&lt;p>em（emphasize）是相对长度单位，相对于当前对象内文本的字体尺寸，即 em 的计算是基于父级元素font-size的。如当前对行内文本的字体尺寸未被人为设置，则相对于浏览器的默认字体尺寸（一般是16px）。举个例子：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">padded&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 &lt;code>.padded&lt;/code> 中，字体大小为 &lt;code>16px&lt;/code>，则 &lt;code>1em=16px&lt;/code>。&lt;/p>
&lt;p>rem（root em，根em）是css3新增的一个相对单位，与em的区别在于，它是相对于html根元素的（在body标签里面设置字体大小不起作用）；下面举个例子来说明一下为什么 rem 比 em 好。&lt;/p>
&lt;p>考虑这么一个 css：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ul&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.8&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>ul&lt;/code> 中的字体是父元素 &lt;code>body&lt;/code> 的 0.8 倍，即 16*0.8=12.8，这没有问题。但是，如果一旦有嵌套列表，那么嵌套列表会在上一级列表的基础上继续缩小，这可不是我们所希望的。要解决这种问题，我们可以这样写：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ul&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.8&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ul&lt;/span> &lt;span class="nt">ul&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但这种方案并不清晰，因为我们为 &lt;code>ul&lt;/code> 定义了两个大小。而用 rem 则很好的解决了这个问题：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ul&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.8&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样，所有的 &lt;code>ul&lt;/code> 都是 16*0.8，不存在嵌套列表缩小的问题。所以，对于 &lt;code>font-size&lt;/code>，更推荐使用 rem。&lt;/p>
&lt;p>总而言之，这两个单位都是“相对”大小，至于参照物，则由浏览器设置，这样在不同屏幕上的效果也能达到一致。&lt;/p>
&lt;p>关于相对单位，知乎上有一系列文章说得很好：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/39270696" target="_blank" rel="noopener"
>《别说你懂CSS相对单位》系列译文&lt;/a>&lt;/p>
&lt;h3 id="字号的选择">字号的选择&lt;/h3>
&lt;p>目前，大部分设计指南均有关于字号的规定。我们可以从中选择/借鉴适合自己的。&lt;/p>
&lt;h4 id="借鉴设计标准">借鉴设计标准&lt;/h4>
&lt;p>&lt;a class="link" href="https://material.io/design" target="_blank" rel="noopener"
>&lt;strong>Material Design&lt;/strong>&lt;/a> 谷歌的设计语言，目前已出到第三版（&lt;a class="link" href="https://m3.material.io/" target="_blank" rel="noopener"
>Material You&lt;/a>）。其推荐的字号如下（单位是 px）：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/design/font/material_design_m2_scale.png"
loading="lazy"
>&lt;/p>
&lt;p>这种字号也并非一成不变，而是要根据屏幕大小适当缩放：&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/design/font/material_design_m3_scale.png"
loading="lazy"
>&lt;/p>
&lt;p>另外，它也对字体的选择给出了一些建议：&lt;/p>
&lt;ol>
&lt;li>标题可以使用有表现力的文字，比如手写体，这样能吸引眼球&lt;/li>
&lt;li>子标题、主体、说明文字等则应避免选择有表现力的文字，推荐使用 Serif 或 sans serif&lt;/li>
&lt;/ol>
&lt;p>另外，它还解释了排版中的一些术语：&lt;a class="link" href="https://material.io/design/typography/understanding-typography.html" target="_blank" rel="noopener"
>Understanding typography&lt;/a>&lt;/p>
&lt;hr>
&lt;p>苹果推荐的字号如下（MacOS）：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Text style&lt;/th>
&lt;th>Weight&lt;/th>
&lt;th>Size (points)&lt;/th>
&lt;th>Line height (points)&lt;/th>
&lt;th>Emphasized weight&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Large Title&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>26&lt;/td>
&lt;td>32&lt;/td>
&lt;td>Bold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Title 1&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>22&lt;/td>
&lt;td>26&lt;/td>
&lt;td>Bold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Title 2&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>17&lt;/td>
&lt;td>22&lt;/td>
&lt;td>Bold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Title 3&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>15&lt;/td>
&lt;td>20&lt;/td>
&lt;td>Semibold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Headline&lt;/td>
&lt;td>Bold&lt;/td>
&lt;td>13&lt;/td>
&lt;td>16&lt;/td>
&lt;td>Heavy&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Subheadline&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>11&lt;/td>
&lt;td>14&lt;/td>
&lt;td>Semibold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Body&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>13&lt;/td>
&lt;td>16&lt;/td>
&lt;td>Semibold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Callout&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>12&lt;/td>
&lt;td>15&lt;/td>
&lt;td>Semibold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Footnote&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>10&lt;/td>
&lt;td>13&lt;/td>
&lt;td>Semibold&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Caption 1&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>10&lt;/td>
&lt;td>13&lt;/td>
&lt;td>Medium&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Caption 2&lt;/td>
&lt;td>Medium&lt;/td>
&lt;td>10&lt;/td>
&lt;td>13&lt;/td>
&lt;td>Semibold&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>iOS上的字号则略微大一点：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Style&lt;/th>
&lt;th>Weight&lt;/th>
&lt;th>Size (points)&lt;/th>
&lt;th>Leading (points)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Large Title&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>34&lt;/td>
&lt;td>41&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Title 1&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>28&lt;/td>
&lt;td>34&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Title 2&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>22&lt;/td>
&lt;td>28&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Title 3&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>20&lt;/td>
&lt;td>25&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Headline&lt;/td>
&lt;td>Semi-Bold&lt;/td>
&lt;td>17&lt;/td>
&lt;td>22&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Body&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>17&lt;/td>
&lt;td>22&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Callout&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>16&lt;/td>
&lt;td>21&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Subhead&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>15&lt;/td>
&lt;td>20&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Footnote&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>13&lt;/td>
&lt;td>18&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Caption 1&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>12&lt;/td>
&lt;td>16&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Caption 2&lt;/td>
&lt;td>Regular&lt;/td>
&lt;td>11&lt;/td>
&lt;td>13&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;p>微软的 Fluent Design 给出了一些字体和建议&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Size&lt;/th>
&lt;th>Uasge&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>68px&lt;/td>
&lt;td>Data visualization and/or large numerics. Use sparingly when specific figures need to stand out. Recommended line height is 76px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>42px&lt;/td>
&lt;td>Full-screen hero moments: OneDrive album titles, dates in All Photos view, SharePoint site titles, first run hero moments, greeting moments at the start screen. Recommended line height is 52px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>32px&lt;/td>
&lt;td>Titles for favorite document cards, Greeting moments. Recommended line height is 40px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>28px&lt;/td>
&lt;td>Page titles. Recommended line height is 36px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>24px&lt;/td>
&lt;td>Marketing email header. Recommended line height is 32px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>20px&lt;/td>
&lt;td>Page and pane headers, suite nav, titles in teaching bubbles, dialogs and file hover cards. Recommended line height is 28px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>18px&lt;/td>
&lt;td>Header for Team’s channel names. Recommended line height is 24px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16px&lt;/td>
&lt;td>Subject line in mail, SharePoint article body, marketing emails as file name and body text. Recommended line height is 22px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>14px&lt;/td>
&lt;td>Commands and controls (left nav, Teams channels, command bar, checkbox, dropdown menu, toggle, radio button, button text and links), in file or document titles and as body text. Recommended line height is 20px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12px&lt;/td>
&lt;td>Metadata in file lists and grid views, denotes any activity on items (number of views, shares or @mentions, timestamps), sharing permissions, persona names and in tooltips. Recommended line height is 16px.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10px&lt;/td>
&lt;td>Limited usage, use in places where text is mandatory and space is tight. For example, it is used for any disclaimer text that may appear in a purchase flow. It’s also used as the initials in a list of SharePoint sites in the left nav. Recommended line height is 14px.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="根据比例选择">根据比例选择&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.shejidaren.com/zihao-daxiao-sheji-bilv.html" target="_blank" rel="noopener"
>排版干货 字号大小与设计比率之美&lt;/a> 一文中提到，可以通过比例来确定的字号。&lt;/p>
&lt;p>&lt;img src="http://images.shejidaren.com/wp-content/uploads/2021/03/47274-7.jpg"
loading="lazy"
>&lt;/p>
&lt;p>大比例显得活泼，小比例则显得安静，据此我们可以根据内容确定比例，再计算出具体字号。除了上图中的比例，还有黄金比例，甚至音乐中的音阶也算比例（具体请去看原文）。&lt;/p>
&lt;h2 id="字体">字体&lt;/h2>
&lt;p>反正我是业余的，所以也不说太复杂。简单来说，我们只需要了解：衬线（serif）与无衬线（sans-serif），比例（Proportional）与等宽（Monospaced）。下面两张图说明了它们的区别。&lt;/p>
&lt;p>&lt;img src="http://www.sucaijishi.com/uploadfile/2018/0418/20180418040004550.png"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/design/font/%e6%af%94%e4%be%8b%e4%b8%8e%e7%ad%89%e5%ae%bd.jpg"
loading="lazy"
>&lt;/p>
&lt;p>至于具体的字体嘛，很遗憾，由于中文字体的文件大小过大，所以一般网页只用系统自带的字体。关于系统自带的字体，请自行搜索。&lt;/p>
&lt;p>一些 font-family 方案：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://segmentfault.com/a/1190000011827800" target="_blank" rel="noopener"
>最标准的系统字体规范font-family&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://ridiqulous.com/chinese-webfont-guide/" target="_blank" rel="noopener"
>中文网页字体设置方案：从 font-family 到 font-display&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloud.tencent.com/developer/article/1095935" target="_blank" rel="noopener"
>中文字体网页开发指南&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zaera.cn/2821.html" target="_blank" rel="noopener"
>中文网页最优字体选择&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://segmentfault.com/a/1190000006110417/" target="_blank" rel="noopener"
>如何优雅的选择字体(font-family)&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="一些参考资料">一些参考资料&lt;/h2>
&lt;p>英语：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://practicaltypography.com/" target="_blank" rel="noopener"
>BUTTERICK’S PRACTICAL TYPOGRAPHY&lt;/a> 建议将所有文章都读一遍，&lt;/p>
&lt;/li>
&lt;li>
&lt;p>多家公司的字体规范&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.apple.com/design/human-interface-guidelines/macos/visual-design/typography/" target="_blank" rel="noopener"
>苹果&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.microsoft.com/design/fluent/#/" target="_blank" rel="noopener"
>微软&lt;/a>&lt;/li>
&lt;li>谷歌 &lt;a class="link" href="https://material.io/design/typography/the-type-system.html" target="_blank" rel="noopener"
>Material2&lt;/a> &lt;a class="link" href="https://m3.material.io/styles/typography/overview" target="_blank" rel="noopener"
>Material3&lt;/a>&lt;/li>
&lt;li>IBM &lt;a class="link" href="https://www.carbondesignsystem.com/guidelines/typography/overview/" target="_blank" rel="noopener"
>Carbon Design&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>中文：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.cgan.net/book/books/print/g-history/gb_12/content.htm" target="_blank" rel="noopener"
>中华印刷通史&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>系列文章：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.ui.cn/detail/598425.html?nopop=1" target="_blank" rel="noopener"
>字体的字号与字重&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.ui.cn/detail/605989.html?nopop=1" target="_blank" rel="noopener"
>字体的字符和字间距&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>系列文章：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.biaodianfu.com/heiti.html" target="_blank" rel="noopener"
>中文字体盘点之黑体&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.biaodianfu.com/songti-fangsong.html" target="_blank" rel="noopener"
>中文字体盘点之宋体与仿宋&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>UI设计师必看系列&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/203561341" target="_blank" rel="noopener"
>设计师必看的字体与排版指南（上）字体基础知识&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://ant.design/index-cn" target="_blank" rel="noopener"
>Ant Design&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E9%BB%9E_%28%E5%8D%B0%E5%88%B7%29" target="_blank" rel="noopener"
>https://zh.wikipedia.org/wiki/%E9%BB%9E_(%E5%8D%B0%E5%88%B7)&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E5%AD%97%E5%8F%B7_%28%E5%8D%B0%E5%88%B7%29" target="_blank" rel="noopener"
>https://zh.wikipedia.org/wiki/%E5%AD%97%E5%8F%B7_(%E5%8D%B0%E5%88%B7)&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>形势与政策论文</title><link>https://todd.scuteee.com/posts/2021/2021-11-20-politics-essay/</link><pubDate>Sat, 20 Nov 2021 10:31:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-11-20-politics-essay/</guid><description>&lt;h2 id="要求">要求&lt;/h2>
&lt;p>详细见 &lt;a class="link" href="http://jw.scut.edu.cn/zhinan/cms/article/view.do?type=posts&amp;amp;id=ff80808179e44d41017bcd848dc500a2" target="_blank" rel="noopener"
>关于2018级本科生《形势与政策》课程论文的撰写和提交的通知&lt;/a>，部分关键要求摘录如下：&lt;/p>
&lt;ol>
&lt;li>字数要求2000字以上&lt;/li>
&lt;li>重复率不得超过50%&lt;/li>
&lt;li>2021年12月10日17：00前交&lt;/li>
&lt;/ol>
&lt;h2 id="人工智能与思想政治教育融合创新研究">人工智能与思想政治教育融合创新研究&lt;/h2>
&lt;h3 id="人工智能的发展与现状">人工智能的发展与现状&lt;/h3>
&lt;p>人工智能（AI），字面上理解是与人类一样具有思考能力的人造物，更准确来说，是使计算机和机器拥有人类思维方式，从而像人类一样解决问题、制定决策。百度百科中的定义：“人工智能是研究、开发用于模拟、延伸和扩展人的智能的理论、方法、技术和应用系统的一门新的技术科学。”&lt;/p>
&lt;p>自从上世纪50年代以来，便有研究者在探究机器能否思考。最早的关于人工智能的议题由艾伦图灵提出，他在1950年发表的论文中，提出“计算机能否思考”这一问题，并提出了判断计算机能否思考的方法：“图灵测试”，该方法要求一台能思考的计算机能够回答问题，并且我们无法通过它的答案将其与真人区分开。&lt;/p>
&lt;p>尽管人工智能这一议题提出得很早，但人工智能的发展却十分缓慢，其中经历多次高潮和低谷。第一次高潮在1956-1974，当时计算机用于数学证明。但由于很多事物不能得到很好的表达，因此模型存在很大的局限性。而第二次高潮在1980-1987，神经网络被提出并用于模式识别、智能控制等多个领域，但由于数据量收集困难、开发成本高昂等原因，人工智能的发展再次陷入瓶颈。目前我们正处于人工智能的第三次发展高潮中，这主要归功于三大驱动要素：算法、大数据、计算力。随着越来越多先进算法被提出、计算机的计算能力提高、互联网使得计算机能够积累大量数据，人工智能终于进入了实用阶段。当今人工智能已经渗透入生活中的各个角落。&lt;/p>
&lt;p>根据人工智能的智能程度，人工智能可以分为弱人工智能与强人工智能。弱人工智能是指经过训练后，专门执行某种单一任务的人工智能。而强人工智能则拥有与人类一样的智能：具有感知和自我意识，能够解决问题、学习和规化未来。&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> 目前我们已有的人工智能全都是弱人工智能，而强人工智能仍处于理论研究阶段。现阶段，对于某些特定领域，如机器翻译、图片识别等，弱人工智能已接近于人类水平。&lt;/p>
&lt;p>目前，各国都在抢占人工智能的发展先机。美国自2016年以来就发布了《国家人工智能研发战略规划》等多个人工智能相关的报告，为人工智能发展做好提前规划，培养相关领域的人才。而2017年，国务院也发布了《新一代人工智能发展规划》&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>，对人工智能的发展作出了详细规划，规划中指出要利用人工智能构建智能教育，推动人工智能在教育领域的应用。&lt;/p>
&lt;h3 id="人工智能在思想政治教育中的作用">人工智能在思想政治教育中的作用&lt;/h3>
&lt;p>高校中思想政治教育工作的意义在于保障青年学子在德、智、体、美、劳各方面健康成长，培养健康的人格，树立正确的三观，坚定他们的政治信念。在这个过程中，人工智能可以从多个切入点融入到思想政治教育中。&lt;/p>
&lt;p>人工智能可以起到教学辅助作用。教育工作者可以利用人工智能收集、处理、分析大数据的能力，构建快速、全面、智能的教育分析系统，以实现更快、更广、更深地了解学生的心理思想状况，对学生进行立体的分析，从而更好地为学生的发展提供指导，避免学生出现心理疾病。&lt;/p>
&lt;p>同时，人工智能本身也可以充当“教育工作者”。面对人数众多的学生群体，仅仅依靠人力的教育工作者难以对每个学生都进行无微不至的思想帮扶，因此，人工智能可以充当对话者为学生进行简单的思想疏导，这样教育工作者可以集中精力帮助有困难的学生。根据斯坦福大学临床心理学家艾莉森•达西的研究结果&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>，与机器人聊天后，受试者的抑郁症症状有了明显改善，这说明人工智能用于思想辅导是可行的。&lt;/p>
&lt;p>从学生角度来考虑，人工智能也能帮助学生更好地学习思想政治知识。正如抖音利用人工智能推荐用户感兴趣的短视频，可以利用人工智能将学生兴趣点与思想政治知识相结合，寻找学生感兴趣的思政内容，为每个学生提供个性化的课堂内容，从而解决当今思想政治教育中照本宣科、千篇一律的问题。&lt;/p>
&lt;p>需要强调的是，在引入了人工智能的过程中，人工的作用不可或缺，甚至在引入人工智能后，依然需要人工去监督与抽查。因为目前，人工智能算法依然是黑盒子，我们无法从本质上去理解一个人工智能的工作过程，我们只能根据结果去判断，而有时候人工智能可能会学习到错误的知识而给出错误的信息，因此在使用人工智能时，依然需要人力去审查人工智能给出的结果，尤其是对于思想政治这种容不得偏差的课程。一个反面例子就是微软曾在推特上构建了一个聊天机器人，在和网友聊天的过程中，这个聊天机器人学会了骂人、说脏话、语言带有攻击性，甚至发表带有种族歧视的不当言论，最终微软紧急关停了该聊天机器人。&lt;/p>
&lt;p>因此，我们可以在人工监管的条件下，逐步引入人工智能，让人工智能成为教学的工具乃至施教者，帮助教师更好的完成思想政治教育工作，帮助广大青年学子建立正确、积极、向上的三观。&lt;/p>
&lt;h3 id="总结">总结&lt;/h3>
&lt;p>人工智能的前景广阔，在思想政治教育中有多种切入点适合引入人工智能。适当引入人工智能能提高教学质量、降低教学成，前提是我们需要使用合适的大数据去训练人工智能，并通过人工审查来避免人工智能出错。相信不久后，人工智能与思想政治教育融合必将为帮助青年学子更好的成长。&lt;/p>
&lt;h2 id="查重结果">查重结果&lt;/h2>
&lt;p>20.65%，重复的地方主要集中在定义和例子部分。最后吐槽一下维普，每千字查重 3 元，费了我 6 元。&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>人工智能（AI）. IBM. &lt;a class="link" href="https://www.ibm.com/cn-zh/cloud/learn/what-is-artificial-intelligence" target="_blank" rel="noopener"
>https://www.ibm.com/cn-zh/cloud/learn/what-is-artificial-intelligence&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>国务院关于印发新一代人工智能发展规划的通知. 国务院. &lt;a class="link" href="http://www.gov.cn/zhengce/content/2017-07/20/content_5211996.htm" target="_blank" rel="noopener"
>http://www.gov.cn/zhengce/content/2017-07/20/content_5211996.htm&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>Fitzpatrick, Kathleen Kara; Darcy, Alison; Vierhile, Molly (2017). &amp;ldquo;Delivering Cognitive Behavior Therapy to Young Adults With Symptoms of Depression and Anxiety Using a Fully Automated Conversational Agent (Woebot): A Randomized Controlled Trial&amp;rdquo;. JMIR Mental Health. 4 (2): e19. doi:10.2196/mental.7785. PMC 5478797. PMID 28588005.&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Jekyll开发规划</title><link>https://todd.scuteee.com/posts/2021/2021-11-16-jekyll-development-plan/</link><pubDate>Tue, 16 Nov 2021 15:28:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-11-16-jekyll-development-plan/</guid><description>&lt;h2 id="前言">前言&lt;/h2>
&lt;p>  虽然从大一开始就用 Jekyll 搭建博客网站，大二又用 Jekyll 搭了一个学习网站，但是都只是直接用别人写好的主题。别人写的主题大体上很好用，但始终有一些“小缺陷”，实在让我这个完美主义的人很难受。&lt;/p>
&lt;p>  Jekyll 生成的是静态网页，优点是生成一次就行，并且服务器的压力比较小，但是生成之后就不能变化。不过博客的文章写完后就不会变化，所以用 Jekyll 还是比较合适的。&lt;/p>
&lt;p>  Jekyll 的搭建过程就像搭积木：先分别写好 head、header、footer，然后再拼在一起。这是相同的部分。对于不同的部分，比如中间的内容、或者页码，就需要用 Liquid 和 Markdown 来表现。&lt;/p>
&lt;p>  除此之外，CSS、Javascript 也是不可或缺的。但用其编写静态网站的方法与传统网页也有所不同，这里我们更需要保持层次化。因此我们还需要 SASS 等其他语言。&lt;/p>
&lt;p>  总结一下就是：&lt;/p>
&lt;ul>
&lt;li>Jekyll&lt;/li>
&lt;li>Liquid&lt;/li>
&lt;li>SASS (CSS)&lt;/li>
&lt;li>Javascript&lt;/li>
&lt;/ul>
&lt;p>  以上所提的这些都需要一边学习，一边实践。不过我感觉我缺的东西有点多，估计要学完需要很长时间。学完后，最终会利用Jekyll来渲染博客网站的静态部分。&lt;/p>
&lt;hr>
&lt;p>2021/12/18 更新：自己写 CSS 太难了，要花费很多时间，所以我决定用别人写好的库。我看了下目前的 SCSS 库，发现大部分都不怎么更新了，那我干脆直接用现在还火的 tailwindcss 算了，这样还方便些。&lt;/p>
&lt;h2 id="理想博客">理想博客&lt;/h2>
&lt;p>  这里说说我对理想博客的一些想法。因为是边学边想的，所以可能会变化，甚至前后矛盾。待到我实践过后，再进行筛选。&lt;/p>
&lt;hr>
&lt;p>博客的一切都服务于内容。读者进咱的博客，能方便找着想看的内容，找着了看得舒服，这博客就整得挺好。&lt;/p>
&lt;hr>
&lt;p>页面一般由 4 个部分组成：&lt;/p>
&lt;ol>
&lt;li>页眉：网站的标识与导航&lt;/li>
&lt;li>页脚：网站的注释（备案、版权等）&lt;/li>
&lt;li>侧栏：网站、内容的辅助信息&lt;/li>
&lt;li>内容&lt;/li>
&lt;/ol>
&lt;p>这四个部分的布局多种多样，比较传统的是：页眉在上、页脚在下、内容与侧栏在中间，比如非常经典的 &lt;a class="link" href="https://simpleyyt.com/jekyll-theme-next/" target="_blank" rel="noopener"
>NexT&lt;/a>、&lt;a class="link" href="https://tianqi.name/jekyll-TeXt-theme/" target="_blank" rel="noopener"
>TeXt&lt;/a>。也有的是页眉在左、内容在中、侧栏在右、页脚在下，比如 &lt;a class="link" href="https://vszhub.github.io/not-pure-poole/" target="_blank" rel="noopener"
>Not Pure Poole&lt;/a>。&lt;/p>
&lt;hr>
&lt;p>博客的内容与主题之间必须隔离，以免更换主题后造成迁移上的困难。&lt;/p>
&lt;h2 id="jekyll学习">Jekyll学习&lt;/h2>
&lt;p>&lt;a class="link" href="http://jekyllcn.com/docs/home/" target="_blank" rel="noopener"
>Jekyll 文档&lt;/a>&lt;/p>
&lt;h2 id="liquid学习">Liquid学习&lt;/h2>
&lt;p>&lt;a class="link" href="https://liquid.bootcss.com/" target="_blank" rel="noopener"
>Liquid 文档&lt;/a>&lt;/p>
&lt;ul>
&lt;li>一些在开发中遇到的问题
&lt;ul>
&lt;li>在数组遍历时获取上一个与下一个元素 &lt;a class="link" href="https://stackoverflow.com/questions/16145061/get-next-and-previous-elements-out-of-an-array-in-liquid" target="_blank" rel="noopener"
>Get next and previous elements out of an array in liquid&lt;/a>&lt;/li>
&lt;li>新建数组并添加元素 &lt;a class="link" href="https://twpower.github.io/228-make-array-and-add-element-in-jekyll-liquid-en" target="_blank" rel="noopener"
>Make array and add element in liquid&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="参考他人">参考他人&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://yo1995.github.io/html/jekyll-edit-liquid-1/" target="_blank" rel="noopener"
>Jekyll 之修改 liquid 代码：去重、排序以及其它&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/kitian616/jekyll-TeXt-theme" target="_blank" rel="noopener"
>TeXt主题&lt;/a> 一个层次化、功能丰富的主题（MIT licensed），其中有一些小技巧值得学习&lt;/li>
&lt;/ul>
&lt;p>多个选择的处理，如 site.mathjax 为 false，而 page.mathjax 为 true，则在引入 mathjax 时这样处理：&lt;/p>
&lt;p>{% raw %}&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{%- include snippets/assign.html target=site.data.variables.default.mathjax
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> source0=site.mathjax source1=page.mathjax -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{%- if __return == true -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- include markdown-enhancements/mathjax.html -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{%- endif -%}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>{% endraw %}&lt;/p>
&lt;p>而 _include/snippets/assign.html 代码如下：&lt;/p>
&lt;p>{% raw %}&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{%- if include.source1 == nil -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- if include.source0 == nil -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- assign __return = include.target -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- else -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- assign __return = include.source0 -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- endif -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{%- else -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {%- assign __return = include.source1 -%}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{%- endif -%}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>{% endraw %}&lt;/p>
&lt;hr>
&lt;p>&lt;a class="link" href="https://github.com/TerminusBot/terminus-jekyll-template" target="_blank" rel="noopener"
>terminus-jekyll-template&lt;/a> 一个在 Jekyll Now（即默认主题）基础上开发的中文主题，其 style.css、search-script.js、pangu.js 可以考虑引入到自己的主题。&lt;/p>
&lt;h2 id="主题设计">主题设计&lt;/h2>
&lt;h3 id="颜色">颜色&lt;/h3>
&lt;p>问了下molly喜欢的颜色，她说喜欢蓝色，并给出如下几种蓝：&lt;/p>
&lt;ul>
&lt;li>#94BDF2 HSV 214, 39, 95&lt;/li>
&lt;li>#67B8DE HSV 199, 54, 87&lt;/li>
&lt;li>#91C9E8 HSV 201, 38, 91&lt;/li>
&lt;li>#B4DCED HSV 198, 24, 93&lt;/li>
&lt;li>#93C1F4 HSV 212, 40, 96&lt;/li>
&lt;/ul>
&lt;p>总结一下，这几种蓝色的 Hue（色相）在 200 左右，Saturation（饱和度）在 40 左右，Value（亮度）在 90 左右，基于此，我选取 HSV=(210,49,91) 为主颜色，HSV=(187,48,87) 为辅颜色，HSV=(61,36,100) 为强调色，黑白为背景与文字，即下面一组颜色。&lt;/p>
&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 500 250" xml:space="preserve">
&lt;rect fill="#ffffff" x="0" y="0" width="100" height="220"/>,&lt;rect fill="#77b0e8" x="100" y="0" width="100" height="220"/>,&lt;rect fill="#74d2de" x="200" y="0" width="100" height="220"/>,&lt;rect fill="#feffa2" x="300" y="0" width="100" height="220"/>,&lt;rect fill="#000000" x="400" y="0" width="100" height="220"/>
&lt;/svg>
&lt;p>有趣的是我觉得这组颜色就像 rainbow dash 和 fluttershy，那不如干脆把这组配色命名为飞马色吧（因为下面两只小马都有翅膀）。&lt;/p>
&lt;div class="masonry">
&lt;div class="item">&lt;img src="../images/thumbnail/rainbow_dash.png">&lt;/div>
&lt;div class="item">&lt;img src="../images/thumbnail/fluttershy.png">&lt;/div>
&lt;/div></description></item><item><title>(PPT)测试过程</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-11-15-experiment/</link><pubDate>Mon, 15 Nov 2021 14:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-11-15-experiment/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table, ul, ol {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>11/15 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>了解主要的HCD物理模型&lt;/li>
&lt;li>在探针台和B1500上测量器件特性&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 物理模型 -->
&lt;section>
&lt;h3>HCD物理模型&lt;/h3>
&lt;ol>
&lt;li>&lt;strong>Hess Model&lt;/strong>：introduce single- and multiple-carrier processes; HCD is controlled by the distribution function(DF)&lt;/li>
&lt;li>&lt;strong>Energy Driven Paradigm by Rauch and LaRosa&lt;/strong>：The fundamental driving force of HCD changes from the maximum electric field to the energy deposited by carriers.&lt;/li>
&lt;li>&lt;strong>Bravaix Model&lt;/strong>：inherits the main features of both the Hess and the Rauch/LaRosa approaches: the interplay between SP- and MP-mechanisms and the idea that HCD is defined by the carrier DF.&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;section>
&lt;p>
\[
\text{HCD}
\leftrightarrow
\text{Si-H}
\begin{cases}
\text{SP}
\begin{cases}
\text{碰撞电离}\\
\text{俄歇复合}\\
\text{电子-声子散射}\\
\text{电子-电子散射}
\end{cases}\\
\updownarrow \text{energy distribution function}\\
\text{MP}
\end{cases}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;img src="./images/hot-carrier/SVE%20vs%20MVE.jpg">
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>模型中的同位素效应&lt;/h3>
&lt;/section>
&lt;section>
&lt;h4>同位素效应 1（单电子）：激发/反激发&lt;/h4>
&lt;p>从成键态激发到反键态的概率取决于两个势能表面间的能量距离，该距离是简谐振子中两个离子之间相对距离的函数。因为氢的质量大约是氘的质量的一半，所以在所有 SHO（simple harmonic oscillator） 模式下，它比氘延伸的距离要远得多，因此具有更高的激发概率。&lt;/p>
&lt;/section>
&lt;section>
&lt;h4>同位素效应 2（单电子）：沿着反键势能表面的演化&lt;/h4>
&lt;p>一旦电子被激发到反键态，成键离子会沿着该能态加速，直到该电子回到成键态。该加速过程是质量的函数，所以会存在同位素效应。&lt;/p>
&lt;/section>
&lt;section>
&lt;h4>同位素效应 3（多电子）SHO 的极子激发&lt;/h4>
&lt;p>SHO 阶梯上的激发可能涉及传入电子和 SHO 跃迁偶极子之间的偶极子相互作用。跃迁偶极子是原始状态和激发态之间平衡差的函数，而这些距离是离子质量的函数。&lt;/p>
&lt;/section>
&lt;section>
&lt;h4>同位素效应 4（多电子）SHO 的共振激发&lt;/h4>
&lt;p>SHO 阶梯上的激发可能涉及与键共振耦合的电子，即暂时将该键电离到新的 PES（potential energy surface）。原子核将沿着新的 PES 演化，直到进入的电子离开临时轨道。与同位素效应 2 相似，这里存在与离子加速相关的同位素效应。&lt;/p>
&lt;/section>
&lt;section>
&lt;h4>同位素效应 5（多电子）声子耦合&lt;/h4>
&lt;p>一旦局部硅氢前驱体的局部模式被激发后，它最终将失去能量到周围的晶格。硅-氢声子和硅-硅声子之间的耦合与声子模式之间的相对能量有关。由于“硅-氘拉伸和弯曲模式”与“硅-氢拉伸和弯曲模式”具有不同的能量，因此存在与这种耦合相关的同位素效应。有人认为，硅-氘弯曲模式和硅-硅横向光学声子模式之间更有效的耦合增强了硅-氘同位素效应。&lt;/p>
&lt;/section>
&lt;section>
&lt;h4>同位素效应 6：氢和氘的不同扩散速率&lt;/h4>
&lt;p>氢和氘的不同质量会影响它们的相对扩散速率，并可能导致到达 Si/SiO2 界面钝化悬空键的效率不同。类似地，氢使硅悬挂键去钝化的尝试频率由 SHO 模式频率给出，因此即使在假定去钝化纯粹是电场诱导的（与同位素无关的）势垒高度降低的函数的热化学模型中，也可能存在同位素效应。&lt;/p>
&lt;/section>
&lt;section>
&lt;ul>
&lt;li>McMahon W., Mamy-Randriamihaja Y., Vaidyanathan B., Nigam T., Pimparkar N. (2015) From Atoms to Circuits: Theoretical and Empirical Modeling of Hot Carrier Degradation. In: Grasser T. (eds) Hot Carrier Degradation in Semiconductor Devices. Springer, Cham. https://doi.org/10.1007/978-3-319-08994-2_1&lt;/li>
&lt;li>W. McMahon, Atomic-Scale Statistical Models of Semiconductor Device Reliability. PhD. Thesis, University of Illinois at Urbana-Champaign, 2001&lt;/li>
&lt;li>P. Avouris, R.E. Walkup, A.R. Rossi, T.-C. Shen, G.C. Abeln, J.R. Tucker, J.W. Lyding, STM-induced H atom desorption from Si(100): isotope effects and site selectivity. Chem. Phy. Lett.257, 148 (1996)&lt;/li>
&lt;li>C.G. Van de Walle, W.B. Jackson, Comment on reduction of hot electron degradation in metal oxide semiconductor transistors by deuterium processing. App. Phys. Lett. 69, 2441 (1996)&lt;/li>
&lt;/ul>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>实验仪器: 安捷伦B1500&lt;/h3>
&lt;img src="./images/hot-carrier/仪器b1500a.jpg" width="400">
&lt;img src="./images/hot-carrier/仪器b1500a接口.jpg" width="500">
&lt;/section>
&lt;section>
&lt;h3>实验软件: EasyEXPERT&lt;/h3>
&lt;img src="./images/hot-carrier/EasyEXPERT界面.jpg">
&lt;/section>
&lt;section>
&lt;h3>探针台&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/探针台.jpg">
&lt;/div>
&lt;div>
&lt;img src="./images/hot-carrier/压针.jpg" width="70%">
&lt;img src="./images/hot-carrier/压针后.jpg" width="70%">
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h3>实验进度&lt;/h3>
&lt;ul>
&lt;li>由于探针的问题，28nm裸片的测试暂停，要等采购的新探针到。&lt;/li>
&lt;li>本周测了另一个封装好的样品的转移、输出特性，并对数据进行了处理&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;img src="./images/hot-carrier/1115-数据处理2.jpg">
&lt;/section>
&lt;section>
&lt;img src="./images/hot-carrier/1115-数据处理1.jpg">
&lt;/section>
&lt;/section>
&lt;section>
&lt;h3>未来工作安排&lt;/h3>
&lt;ul>
&lt;li>熟悉探针台与B1500的使用&lt;/li>
&lt;li>进一步了解模型&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>论电子产品的购买</title><link>https://todd.scuteee.com/posts/2021/2021-11-10-electric-device/</link><pubDate>Wed, 10 Nov 2021 11:16:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-11-10-electric-device/</guid><description>&lt;blockquote>
&lt;p>11/11 修改部分语气词，以显得我没这么嗲。&lt;/p>
&lt;/blockquote>
&lt;p>作为电子科学的学生，我对电子产品比较感兴趣，平时也有看各种科技新闻，也有追求前沿的技术。其实，我小时候就想过，人生这么短好可惜，如果能提前体验到未来的科技的话，那不就相当于多活了，正是带着这种想法，我才这么努力加入学校的实验室学习各种技术😃&lt;/p>
&lt;p>但是体验电子产品也是要钱的……平时没这么多钱，只能看别人的测评，然后感叹一下科技是多么发达。也正是因为如此，每次买电子产品之前都要做非常细致的打算，要考虑买入之后如何发挥最大价值，卖出要花多少钱……&lt;/p>
&lt;p>我花在电子产品上的钱也不过分，好吧，可能比一般的学生多一点，但也没到沉迷的程度。而且我买的每个电子产品我都觉得挺值的，不仅是用得值，卖得也值，比如：&lt;/p>
&lt;ol>
&lt;li>高考完后买得 switch，玩了一个暑假后比原价低100卖了出去。相当于花了 100 元玩了世界上最棒的游戏：《塞尔达·荒野之息》&lt;/li>
&lt;li>卖 switch 的钱被我用来买 iPad，可以从大一一直用到研一或研二，用五六年&lt;/li>
&lt;li>大二 1000 买的显示器，打算一直用到研究生毕业，用六年&lt;/li>
&lt;li>大二买的相机，emm……，有了女朋友后就会用的😣，用到工作也没问题&lt;/li>
&lt;li>大二 500 买的显示器，放家里也能用很久&lt;/li>
&lt;li>大二买的第二台 switch，陪我度过了疫情，而且我玩喷射战士玩了个爽（喷射战士是我最喜欢的游戏，没有之一），玩了两年亏了 800 元卖出，还行。&lt;/li>
&lt;li>大二买的 NAS，存了好多有用的资料，估计可以一直用到工作&lt;/li>
&lt;li>大三买了 NUC，放宿舍里体验了一把苹果的 MacOS，好看但难用（看来苹果也不是啥都好）然后亏了 200 卖出。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>名词解释：switch 是任天堂公司出的游戏机；NAS，network attach storage，类似网盘；NUC，因特尔公司出的迷你电脑。&lt;/p>
&lt;/blockquote>
&lt;p>我上面说的“亏”指的是低于原价多少卖出，毕竟用了之后会贬值。我个人觉得体验还是值那个钱的。毕竟体验电子产品的过程和旅游没什么区别嘛，把买入卖出过程看作旅游，而且旅游一次还比买电子产品贵！四年总计下来，折腾了这么多电子产品，应该没有亏超过 2000 元，这也不过一次旅游的钱。&lt;/p>
&lt;p>我对电子产品也是有规划的。通常来说，电子产品无非就是“处理+储存+交互”。这其中最容易满足的是“储存”，我有专门用于存储的 NAS，容量是 4T+3T+2T（好奇怪的组合😂），可以存放几百部电影、动漫，以及各种照片、文档、资料。此外，还有移动硬盘用于出门在外使用。&lt;/p>
&lt;p>“交互”也很容易满足哦。显示的话，最大的显示屏，中等的平板和笔记本电脑，最小的手机。输入的话，鼠标、键盘也有，iPad的手写笔也有。&lt;/p>
&lt;p>最难的是“处理”，这也是我升级电子产品的主要原因。目前，手机的处理能力完全够用三四年；笔记本电脑的处理能力一般般，不太适合在上面使用大型软件，好在单位的电脑弥补了这一点；平板的处理能力则是完全落伍，但好在看视频和记笔记都不需要高算力，所以也可以用。&lt;/p>
&lt;p>但是，如果我要玩游戏的话，那么我就有个尴尬的情况：在手机上玩，屏幕太小，伤眼；在电脑上玩，太卡，玩不了。于是嘛，我把卖 NUC 的钱，换成了一个 Xbox Series S（简写为 XSS），理由如下：&lt;/p>
&lt;ol>
&lt;li>NUC 太多余。NUC 能做的事，笔记本也能做，甚至笔记本做得更好。我一般用 NUC 也只是简单写代码，看视频，直播啥的。&lt;/li>
&lt;li>XSS 价格与 NUC 相近。卖掉 NUC 后无需加钱即可购入 XSS（买游戏的钱不考虑在内，但预计买游戏的钱3年不超过300元）&lt;/li>
&lt;li>在价钱相同的情况下，XSS 无论是 CPU 还是 GPU 都比 NUC 好十几倍，存储容量均是 500G。从性能上来说真是值得不得了。&lt;/li>
&lt;li>XSS 不仅仅可以玩游戏，也可以正常上网、看剧，通过浏览器远程连接树莓派后可以打代码。即，从功能上来说，我在 NUC 上做的大部分事，在 XSS 上也可以做。&lt;/li>
&lt;/ol>
&lt;p>总之，XSS 是我今年最期待的电子产品了！倘若后续体验真如我所想的那么好，则它将是我所买的最值的电子产品。买完 XSS 后，“处理+储存+交互”的需求已大致满足（可能平板还可以稍微改善一下）。那么后续将不再添置大件的电子产品，除非现有的电子产品无法使用。&lt;/p>
&lt;p>除了上述所说的，还有一部分用于开发、研究的电子产品，比如树莓派、VIM3、R1plus、Maix Dock、Lichee Zero等。因为是用于学习，所以价格并不是考虑的重要因素，但我还是大概说一下价格：&lt;/p>
&lt;ul>
&lt;li>VIM3：1050&lt;/li>
&lt;li>&lt;del>树莓派4B：265&lt;/del> 卖了479&lt;/li>
&lt;li>树莓派3B+：228&lt;/li>
&lt;li>R1plus：199&lt;/li>
&lt;li>Maix Dock：约120&lt;/li>
&lt;li>Lichee Zero：81（实际只出了不到20）&lt;/li>
&lt;/ul>
&lt;p>零零散散加起来也接近 2000 元了，但知识是无价的，只要能从中学到东西，就值了。&lt;/p></description></item><item><title>(PPT)NBTI数据处理</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-11-01-nbti-data-process/</link><pubDate>Mon, 01 Nov 2021 13:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-11-01-nbti-data-process/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
table {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h3>11/01 工作汇报&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>了解主要的HCD物理模型&lt;/li>
&lt;li>熟悉实验仪器&lt;/li>
&lt;li>实验数据处理：NBTI寿命的提取&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 物理模型 -->
&lt;section>
&lt;h3>HCD物理模型&lt;/h3>
&lt;ol>
&lt;li>&lt;strong>Hess Model&lt;/strong>：introduce single- and multiple-carrier processes; HCD is controlled by the distribution function(DF)&lt;/li>
&lt;li>&lt;strong>Energy Driven Paradigm by Rauch and LaRosa&lt;/strong>：The fundamental driving force of HCD changes from the maximum electric field to the energy deposited by carriers.&lt;/li>
&lt;li>&lt;strong>Bravaix Model&lt;/strong>：inherits the main features of both the Hess and the Rauch/LaRosa approaches: the interplay between SP- and MP-mechanisms and the idea that HCD is defined by the carrier DF.&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;p>
\[
\text{HCD}
\leftrightarrow
\text{Si-H}
\begin{cases}
\text{SP}
\begin{cases}
\text{碰撞电离}\\
\text{俄歇复合}\\
\text{电子-声子散射}\\
\text{电子-电子散射}
\end{cases}\\
\updownarrow \text{energy distribution function}\\
\text{MP}
\end{cases}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>Hess Model&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;p>
\[
\begin{cases}
R_{SP} \sim \int_{E_{th}}^\infty F(E)P(E)\sigma(E)\;\mathrm{d} E\\
R_{MP} = \left(\frac{E_B}{\hbar \omega}+1\right)\left[P_d+\exp(\frac{-\hbar \omega}{k_BT_L})\right]\left[\frac{P_u+\omega_e}{P_d+\exp(-\hbar \omega/k_BT_L)}\right]^{-E_B/\hbar \omega}
\end{cases}
\]
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>
\[
R = \sum_{i=0}^{N_l} \left[ \frac{I_df_v + \omega_e \exp (-\hbar\omega/k_BT_L)}{I_d f_v + \omega_e} \right]^i A^i I_d f_d
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>
Hess模型因为提出了很多开创性概念而出名，但它也有很多缺点。首先，界面陷阱是在微观层面上考虑的，没有与器件层面相联。在Hess模型中，器件的寿命定义为缺陷浓度$N_{it}$达到阈值，这会导致对寿命的错误估计，因为HCD是一种强烈不均匀的现象，在相同应力时间下，会在器件的不同区域产生不同的浓度$N_{it}$。
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>参考文献：&lt;/p>
&lt;ul>
&lt;li>
W. McMahon, K. Matsuda, J. Lee, K. Hess, J. Lyding, The effects of a multiple carrier model of interface states generation of lifetime extraction for MOSFETs, in Proceedings of the International Conference on Modelling and Simulation Micro, vol. 1, 2002, pp. 576–579
&lt;/li>
&lt;li>
W. McMahon, A. Haggag, K. Hess, Reliability scaling issues for nanoscale devices. IEEE Trans. Nanotechnol. 2(1), 33–38 (2003)
&lt;/li>
&lt;/ul>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>Bravaix Model&lt;/h3>
&lt;p>
总的器件寿命时间为：&lt;br>
\[
1/\tau_d = K_\text{SP}/\tau_\text{SP}+K_\text{EES}/\tau_\text{EES}+K_\text{MP}/\tau_\text{MP}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>
平均载流子能量高的应力电压所对应的HCD机制是SP，可以用幸运电子模型描述，器件寿命可以描述为：&lt;br>
\[
1/\tau_\text{SP} \sim (I_d/W)(I_{sub}/I_d)^m
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>
平均载流子能量低但载流子密度高的则对应于MP，器件寿命可以描述为：&lt;br>
\[
\begin{aligned}
1/\tau_\text{MP} \sim&amp; [(qV_{ds}-\hbar \omega)^{1/2}(I_{sub}/W)]^{E_B/\hbar \omega} \exp (-E_\text{emi}/k_B T_L)\\
&amp;\approx [V_{ds}^{1/2}(I_d/W)]^{E_B/\hbar \omega}
\end{aligned}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>
平均载流子能量中等、载流子密度中等时，则对应EES，相应寿命为：&lt;br>
\[
1/\tau_\text{EES} \sim (I_d/W)^2(I_\text{sub}/I_d)^m
\]&lt;br>
式中的平方是由“碰撞电离”引入的，虽然碰撞电离只会产生冷载流子，但它们可以通过EES转化为高能粒子，然后通过SP引发键断裂。
&lt;/p>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>熟悉实验仪器: 安捷伦B1500A&lt;/h3>
&lt;img src="./images/hot-carrier/仪器b1500a.jpg" width="400">
&lt;img src="./images/hot-carrier/仪器b1500a接口.jpg" width="500">
&lt;/section>
&lt;section>
&lt;h3>熟悉实验软件: EasyEXPERT&lt;/h3>
&lt;img src="./images/hot-carrier/EasyEXPERT界面.jpg">
&lt;/section>
&lt;section>
&lt;h3>探针台&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/探针台.jpg">
&lt;/div>
&lt;div>
&lt;img src="./images/hot-carrier/压针.jpg" width="70%">
&lt;img src="./images/hot-carrier/压针后.jpg" width="70%">
&lt;/div>
&lt;/div>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>NBTI实验数据处理&lt;/h3>
&lt;p>
实验条件：&lt;br>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>应力电压&lt;/th>
&lt;th>温度&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-1.7V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.9V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>100℃&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>150℃&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/p>
&lt;p>
公式：$\Delta V_T = {\color{red} A (1/W)^n \times (1/L)^m} \exp(-{\color{red} C}/V_{GS}) \times \exp(-{\color{red} E_a}/kT)\times t^{\color{red} p}$&lt;br>
红色部分为需要拟合的参数。
&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>应力作用时间影响因子$p$的提取&lt;/h3>
&lt;p>
\[
\begin{aligned}
\ln(\Delta V_t) =&amp; \ln \left[ A (1/W)^n \times (1/L)^m \exp(-C/V_{GS}) \times \exp(-E_a/kT) \right] \\
&amp;+ {\color{red}p}\ln t
\end{aligned}
\]
&lt;/p>
&lt;img src="./images/hot-carrier/应力作用时间影响因子.jpg">
&lt;/section>
&lt;section>
&lt;h3>激活能$Ea$的提取&lt;/h3>
&lt;p>
\[
\begin{aligned}
-p\ln t =&amp; \ln \left[ A(1/W)^n\times(1/L)^m \exp(-C/V_{GS}/\Delta V_T) \right] \\
&amp;-\frac{ {\color{red}E_a} }{k}\times \frac{1}{T}
\end{aligned}
\]
&lt;/p>
&lt;img src="./images/hot-carrier/激活能的提取.jpg">
&lt;/section>
&lt;section>
&lt;h3>电场加速因子$C$的提取&lt;/h3>
&lt;p>
\[
\begin{aligned}
-p\ln t =&amp; \ln\left[ A(1/W)^n \times (1/L)^m \times \exp(-E_a/kT)/\Delta V_T \right] \\
&amp;- {\color{red}C}\times\frac{1}{V_{GS}}
\end{aligned}
\]
&lt;/p>
&lt;img src="./images/hot-carrier/电场加速因子的提取.jpg">
&lt;/section>
&lt;section>
&lt;h3>系数的提取&lt;/h3>
&lt;p>
\[
\begin{aligned}
\ln \Delta V_{th} =&amp; \ln \left[ {\color{red} A\times f(W,L)} \times \exp(-C/V_{gs}) \times \exp(-E_a/kT) \right]\\
&amp;+p \ln t
\end{aligned}
\]
&lt;/p>
&lt;img src="./images/hot-carrier/应力作用时间影响因子.jpg">
&lt;/section>
&lt;/section>
&lt;section>
&lt;h3>未来工作安排&lt;/h3>
&lt;ul>
&lt;li>对28nm样品进行测试&lt;/li>
&lt;li>进一步了解模型&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>作息合同书</title><link>https://todd.scuteee.com/posts/2021/2021-10-31-sleep-time-contract/</link><pubDate>Sun, 31 Oct 2021 16:36:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-31-sleep-time-contract/</guid><description>&lt;center>&lt;img src="../images/other/banner.png" width="100%"/>&lt;/center>
&lt;center>&lt;h1>作息合同书&lt;/h1>&lt;/center>
&lt;p>{:toc}&lt;/p>
&lt;p>本合同于 &lt;strong>2021&lt;/strong> 年 &lt;strong>11&lt;/strong> 月 &lt;strong>2&lt;/strong> 日由以下双方签订：&lt;/p>
&lt;p>&lt;strong>周美琳&lt;/strong>，身份证号：&lt;u>（出于保密原则在此不公布）&lt;/u>（以下简称“甲方”）&lt;/p>
&lt;p>&lt;strong>周镇峰&lt;/strong>，身份证号：&lt;u>（出于保密原则在此不公布）&lt;/u>（以下简称“乙方”）&lt;/p>
&lt;p>甲乙双方以下单独称为“一方”，合称为“双方”。&lt;/p>
&lt;h2 id="preliminary-statement-前言">PRELIMINARY STATEMENT 前言&lt;/h2>
&lt;p>双方本着平等互利的原则，经友好协商，依照《中华人民共和国合同法》、《中华人民共和国民法通则》以及其他有关法律，同意按照本合同的条款，对双方作息进行规范。&lt;/p>
&lt;h2 id="definitions-定义">DEFINITIONS 定义&lt;/h2>
&lt;p>本合同中的部分术语定义如下：&lt;/p>
&lt;ol>
&lt;li>作息、作息时间：指开展工作、学习、休息等各项日常活动的时间，此处以及本合同其他处中所指以及所出现的时间均指北京时间。
‌听歌：指利用网易云音乐或其他音乐软件，使得双方同时听同一首歌的行为。&lt;/li>
&lt;li>‌上床：指身体的躯干部分位于床上&lt;/li>
&lt;li>‌睡眠：指人类生命周期中出现的一种自发的和可逆的静息状态，表现为机体对外界刺激的反应性降低和意识的暂时中断&lt;/li>
&lt;li>‌入睡：指进入睡眠状态&lt;/li>
&lt;li>语音聊天：指利用电话、微信、QQ、腾讯会议等工具，通过语音进行交流&lt;/li>
&lt;li>‌文字聊天：指利用短信、微信、QQ等工具，通过文字进行交流&lt;/li>
&lt;/ol>
&lt;h2 id="operative-clauses-具体操作条款">OPERATIVE CLAUSES 具体操作条款&lt;/h2>
&lt;h3 id="作息条款">作息条款&lt;/h3>
&lt;p>双方的作息应遵循如下条款：&lt;/p>
&lt;ol>
&lt;li>‌双方每晚至少要有6小时的睡眠时长，每天至少要有7个小时的睡眠时长。睡眠时长从入睡开始算起，至清醒时结束。时间短于20分钟的睡眠活动不计入睡眠时长。&lt;/li>
&lt;li>‌双方入睡时间不得晚于晚上12时（00:00）&lt;/li>
&lt;li>双方上床时间不得晚于晚上11时30分（23:30）&lt;/li>
&lt;li>双方语音聊天结束时间不得晚于晚上11时（23:00）&lt;/li>
&lt;li>双方文字聊天结束时间与听歌结束时间不得晚于晚上11时30分（23:30）&lt;/li>
&lt;/ol>
&lt;h3 id="判定条款">判定条款&lt;/h3>
&lt;p>若双方语言聊天，或文字聊天，或听歌 的结束时间超出作息条款中的限定时间，在超出时间的5分钟内，先指出的一方视为未违反作息条款，另一方视为违反作息条款。若在超出时间的3分钟内双方均未指出，则双方均视为违反作息条款。&lt;/p>
&lt;h3 id="惩罚条款">惩罚条款&lt;/h3>
&lt;p>当一方（违反者）违反作息条款之一时，违反者应于违反后三天内执行以下任一惩罚：&lt;/p>
&lt;ol>
&lt;li>俯卧撑10次或仰卧起坐20次（有效次数），执行时需通过实时视频软件展示给另一方，且由另一方评判动作是否标准，非标准动作不计入有效次数。每次执行时，两个动作的总次数（有效次数与无效次数之和）不超过30次。&lt;/li>
&lt;li>自费向双方共同拥有的支付宝小荷包中转入5元，该5元中的5元在名义上由另一方存入。&lt;/li>
&lt;/ol>
&lt;h2 id="representations-and-warranties-保证">REPRESENTATIONS AND WARRANTIES 保证&lt;/h2>
&lt;p>该方有全权订立本合同以及履行本合同项下义务：&lt;/p>
&lt;ul>
&lt;li>该方已授予其授权代表签署合同的权力，从生效日开始，本合同的条款对其具有法律约束力。&lt;/li>
&lt;li>‌该方签订本合同以及履行本合同项下义务：
&lt;ul>
&lt;li>（Ⅰ）不会违反其校规、章程或类似组织文件的任何规定&lt;/li>
&lt;li>（Ⅱ）不会违反有关法律或任何政府的授权或批准；并且&lt;/li>
&lt;li>（Ⅲ）不会违反其作为当事人一方（或受之约束）的其他任何合同，也不会导致其被认定在该合同项下未履约。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>不存在将影响该方履行本合同项下义务的能力的、已经发生且尚未了结的诉讼、仲裁申请或其他司法或行政程序，亦不存在将有的上述诉讼或程序。并且&lt;/p>
&lt;p>该方已经向对方提供可能对其全面履行其在本合同项下义务的能力造成重大不利影响的相关政府机构和事业单位颁发的所有文件，并且该方此前提供给对方的文件中没有对任何重要事实的不实陈述或者漏述。&lt;/p>
&lt;p>如果在本合同签订日，一方的上述陈述和担保的任何一项与实际情况有实质性不符，则构成该方违约。&lt;/p>
&lt;h2 id="term-合同期限">TERM 合同期限&lt;/h2>
&lt;h3 id="合同期限">合同期限&lt;/h3>
&lt;p>本合同期限为 &lt;strong>2&lt;/strong> 月，于 &lt;strong>2021&lt;/strong> 年 &lt;strong>11&lt;/strong> 月 &lt;strong>2&lt;/strong> 日（合同生效日）开始，并于 &lt;strong>2022&lt;/strong> 年 &lt;strong>1&lt;/strong> 月 &lt;strong>1&lt;/strong> 日（合同到期日）届满。&lt;/p>
&lt;h3 id="合同期限的续展">合同期限的续展&lt;/h3>
&lt;p>本合同于到期日自动终止，除非在到期日之前双方至少三（3）天签署协议，续展本合同期限。&lt;/p>
&lt;h2 id="termination-合同终止">TERMINATION 合同终止&lt;/h2>
&lt;p>本合同于合同到期日终止，除非双方按照 &lt;em>合同期限的续展&lt;/em> 的规定续约。&lt;/p>
&lt;p>本合同其限届满之前，双方可通过书面协议随时终止本合同。&lt;/p>
&lt;p>本合同期限届满之前，如果发生以下情形之一，一方（“通知方”）可随时向对方发出书面通知后终止本合同。&lt;/p>
&lt;ol>
&lt;li>不可抗力（如下文定义）事件或其影响持续超过七（7）天，且双方无法按照 &lt;em>不可抗力的后果&lt;/em> 的条款达成一项公正的解决方案&lt;/li>
&lt;/ol>
&lt;h2 id="breach-of-contract-违约">BREACH OF CONTRACT 违约&lt;/h2>
&lt;h3 id="违约补偿">违约补偿&lt;/h3>
&lt;p>除本合同其他条款另有规定外，如果一方（“违约方”）未履行其在本可通项下某项主要义务，则对方（“受损害方”）除享有有关法律赋予的权利外，还可选择采取以下补偿措施：&lt;/p>
&lt;p>(a) 向违约方发出通知，说明违约的性质以及范围，并且要求违约方在通知中规定的合理期限内自费予以补救。并且&lt;/p>
&lt;p>(b) 如果违约方未在该书面通知中规定的补救期内予以补救，则受损害方可就违约引起的可以预见的直接损失提出索赔。&lt;/p>
&lt;h3 id="责任限制">责任限制&lt;/h3>
&lt;p>无论本合同其他条款有何规定，任何一方均不向对方承担因本合同的履行或不履行而造成的收入或利润损失、信誉丧失或任何间接或附带性损失的赔偿责任。在任何情况下，一方因本合同的履行或不履行而造成的损失、损害或补偿索赔所承担的责任累计总额不得超过壹佰（100）元人民币。&lt;/p>
&lt;h2 id="force-majeure-不可抗力">FORCE MAJEURE 不可抗力&lt;/h2>
&lt;h3 id="不可抗力的定义">不可抗力的定义&lt;/h3>
&lt;p>“不可抗力”指超出本合同双方控制范围的，无法预见并且无法克服的事件，该事件是的本合同一方部分或完全不能履行本合同。这类事件包括但不限于地震、台风、洪水、火灾、战争、流行病、政府行为、法律规定或者其适用发生变化，或者其他任何无法预见、避免或者控制的事件。&lt;/p>
&lt;h3 id="不可抗力的后果">不可抗力的后果&lt;/h3>
&lt;p>如果发生不可抗力事件，一方在本合同项下受不可抗力影响的义务在不可抗力造成的延误期间自动中止，并且其履行期限自动延长，延长期间为中止的期间，该方无须为此承担违约责任。&lt;/p>
&lt;p>发生不可抗力后，双方应立即进行磋商，寻求一项公正的解决方案，并且要尽一切合理的努力将不可抗力的影响降至最小。&lt;/p>
&lt;h2 id="applicable-law-适用法律">Applicable Law 适用法律&lt;/h2>
&lt;p>本合同的效力、解释以及执行适用《中华人民共和国合同法》、《中华人民共和国民法通则》。&lt;/p>
&lt;h2 id="miscellaneous-provisions-其他规定">MISCELLANEOUS PROVISIONS 其他规定&lt;/h2>
&lt;h3 id="修改">修改&lt;/h3>
&lt;p>本合同不得以口头方式修改，而须以双方签署书面或电子文件的方式修改。&lt;/p>
&lt;h3 id="合同内容保密">合同内容保密&lt;/h3>
&lt;p>双方应对本合同的存在及其内容保密，只有在双方均同意的情况下（或者根据有关法律规定须披露的情况下）方可向有关方披露。未经对方事先书面同意，任何一方均不得就本合同或双方的关系发表公开声明或发布宣传或新闻稿。&lt;/p>
&lt;h3 id="不放弃权利">不放弃权利&lt;/h3>
&lt;p>如果一方未行使或延迟行使其在本合同项下的某项权利，不构成该方对此项权利的放弃，如果该方行使过某项权利或者部分行使某项权利，并不妨碍其在将来再次行使此项权利。&lt;/p>
&lt;h3 id="可转让性">可转让性&lt;/h3>
&lt;p>未经对方事先书面同意，任何一方不得部分或全部转让本合同。&lt;/p>
&lt;h3 id="可分割性">可分割性&lt;/h3>
&lt;p>本合同某一条款的无效不影响本合同其他条款的效力。&lt;/p>
&lt;h3 id="文本">文本&lt;/h3>
&lt;p>本合同中文正本 2 份。&lt;/p>
&lt;hr>
&lt;p>双方已于本合同首页所载日期签订本合同，以资证明。&lt;/p>
&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
text-align: left;
}
&lt;/style>
&lt;div class="twocolumn">
&lt;div>
甲方签名：&lt;br>&lt;br>
&lt;img src="../images/other/周美琳.jpg" width="80%">
&lt;/div>
&lt;div>
乙方签名：&lt;br>&lt;br>
&lt;img src="../images/other/周镇峰.png" width="80%">
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h2 id="补充条约">补充条约&lt;/h2>
&lt;p>2021/11/15&lt;/p>
&lt;ol>
&lt;li>若第二天早上无需早起（如平日的周五、周六，或节假日前一天），则可以适当推迟限定时间，但推迟时间不得长于半小时。&lt;/li>
&lt;li>经双方同意后，可将惩罚的执行时间后延&lt;/li>
&lt;li>若第二天有特殊事务（如考试等），在告知另一方后可以适当推迟限定时间，但推迟时间最好不要长于两小时，且在随后几天应该增加睡眠时间以缓解疲劳。&lt;/li>
&lt;/ol></description></item><item><title>git教程</title><link>https://todd.scuteee.com/posts/2021/2021-10-30-git-tutorial/</link><pubDate>Sat, 30 Oct 2021 13:01:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-30-git-tutorial/</guid><description>&lt;p>  说来惭愧，虽然从大一开始用github，但我从没搞清楚git的用法😑，是时候解决这个问题了。&lt;/p>
&lt;h2 id="背景知识">背景知识&lt;/h2>
&lt;p>  根据百度百科：&lt;/p>
&lt;blockquote>
&lt;p>Git（读音为/gɪt/）是一个开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。&lt;/p>
&lt;/blockquote>
&lt;p>  那么什么是版本控制呢？版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。&lt;/p>
&lt;p>  最简单的版本控制就是复制整个项目，或许还会改名加上备份时间以示区别。这么做唯一的好处就是简单，但是特别容易犯错，而且特别占空间。&lt;/p>
&lt;p>  于是人们开发了本地版本控制系统，这些系统只记录文件的历次更新差异，很好地避免了出错，节省了空间。&lt;/p>
&lt;p>  但本地版本控制系统只能一个人用，不方便协作，于是人们又开发了分布式版本控制系统，比如 git. 有一个总的服务器负责存储（我们称之为仓库）；而其他客户端从服务器中克隆所有文件，包括历史记录。&lt;/p>
&lt;p>  当然，分布式版本控制系统还有其他好处，可在学习的过程中体会。&lt;/p>
&lt;h2 id="三个区域三种状态">三个区域、三种状态&lt;/h2>
&lt;p>  Git 中存在三个区域：&lt;/p>
&lt;ol>
&lt;li>工作区：我们编辑文件的地方。&lt;/li>
&lt;li>暂存区：保存了下次将要提交的文件列表信息。&lt;/li>
&lt;li>仓库：保存项目的元数据和对象数据库的地方。&lt;/li>
&lt;/ol>
&lt;p>  相应的，Git 中的文件也有三种状态：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>已修改（modified）&lt;/strong>：修改了文件，但还没保存到数据库中。&lt;/li>
&lt;li>&lt;strong>已暂存（staged）&lt;/strong>：对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。&lt;/li>
&lt;li>&lt;strong>已提交（committed&lt;/strong>）：表示数据已经安全地保存在本地数据库中。&lt;/li>
&lt;/ol>
&lt;p>  基本的 Git 工作流程如下：&lt;/p>
&lt;ol>
&lt;li>在工作区中修改文件；&lt;/li>
&lt;li>将你想要下次提交的更改选择性地暂存，这样只会将更改的部分添加到暂存区&lt;/li>
&lt;li>提交更新，找到暂存区的文件，将快照永久性存储到 Git 目录&lt;/li>
&lt;/ol>
&lt;h2 id="安装">安装&lt;/h2>
&lt;p>  下面让我们开始实践。请去 &lt;a class="link" href="https://git-scm.com/downloads" target="_blank" rel="noopener"
>Git 官网&lt;/a> 下载安装包并安装。（在我的 Windows 中约占用 250M）&lt;/p>
&lt;p>  或者如果你也可以直接去安装 &lt;a class="link" href="https://desktop.github.com/" target="_blank" rel="noopener"
>github 桌面端&lt;/a>&lt;/p>
&lt;h2 id="基础设置">基础设置&lt;/h2>
&lt;p>  打开命令行（Mac的Terminal，Windows的Powershell，Linux的Bash），后面所有的命令都是在命令行中输入。&lt;/p>
&lt;p>  在使用 Git 前，需要设置用户名和邮箱地址，它们会写入到你的每一次提交中，从而区分不同人的修改。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git config --global user.name &lt;span class="s2">&amp;#34;John Doe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.email johndoe@example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  如果想要检查你的配置，可以使用 &lt;code>git config --list&lt;/code> 命令来列出所有 Git 当时能找到的配置。&lt;/p>
&lt;h2 id="基础">基础&lt;/h2>
&lt;p>  本节主要讲如何增删改文件。&lt;/p>
&lt;h3 id="初始化仓库">初始化仓库&lt;/h3>
&lt;p>  我们可以通过两种方式初始化仓库：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>将尚未进行版本控制的本地目录转换为 Git 仓库；&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> 目录路径
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>从其它服务器克隆一个已存在的 Git 仓库。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone 仓库链接 &lt;span class="o">[&lt;/span>别名&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="跟踪新文件">跟踪新文件&lt;/h3>
&lt;p>  下面我们开始往git中添加文件。假设我们在文件夹中新建了一个 &lt;code>README&lt;/code> 文件，要跟踪它，运行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git add README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  这时，git 就会跟踪 &lt;code>README&lt;/code> 文件的变化。我们可以运行 &lt;code>git status -s&lt;/code> 命令来查看仓库的状态。该命令会输出如下信息：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">A README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  在此我们需要详细解释一下 &lt;code>git status -s&lt;/code>，它会以如下形式输出每个文件的状态：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">XY PATH
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  其中，&lt;code>X&lt;/code>是在暂存区或仓库中的状态，&lt;code>Y&lt;/code>是在工作区中的状态。状态由下面的符号表示：&lt;/p>
&lt;ul>
&lt;li>&lt;code>?&lt;/code> = untracked 未跟踪&lt;/li>
&lt;li>&lt;code>!&lt;/code> = ignored 忽略&lt;/li>
&lt;li>`` = unmodified 未修改&lt;/li>
&lt;li>&lt;code>M&lt;/code> = modified 已修改，未添加到暂存区&lt;/li>
&lt;li>&lt;code>A&lt;/code> = added 已添加到暂存区&lt;/li>
&lt;li>&lt;code>D&lt;/code> = deleted 已删除&lt;/li>
&lt;li>&lt;code>R&lt;/code> = renamed 重命名&lt;/li>
&lt;li>&lt;code>C&lt;/code> = copied 复制&lt;/li>
&lt;li>&lt;code>U&lt;/code> = updated but unmerged 未合并&lt;/li>
&lt;/ul>
&lt;p>  我们可以修改 &lt;code>README&lt;/code> 里的内容，然后再运行 &lt;code>git status -s&lt;/code>，输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AM README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  第一个字母 &lt;code>A&lt;/code> 表示之前已添加到暂存区，第二个字母 &lt;code>M&lt;/code> 表示后来文件有更改。&lt;/p>
&lt;h3 id="忽略文件">忽略文件&lt;/h3>
&lt;p>  有一些文件无需纳入 Git 的管理，我们可以创建一个名为 &lt;code>.gitignore&lt;/code> 的文件，列出要忽略的文件。&lt;/p>
&lt;p>  文件 &lt;code>.gitignore&lt;/code> 的格式规范如下：&lt;/p>
&lt;ul>
&lt;li>所有空行或者以 # 开头的行都会被 Git 忽略。&lt;/li>
&lt;li>可以使用标准的 glob 模式匹配，它会递归地应用在整个工作区中。&lt;/li>
&lt;li>匹配模式可以以（/）开头防止递归。&lt;/li>
&lt;li>匹配模式可以以（/）结尾指定目录。&lt;/li>
&lt;li>要忽略指定模式以外的文件或目录，可以在模式前加上叹号（!）取反。&lt;/li>
&lt;/ul>
&lt;p>  举例如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 忽略所有的 .a 文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">!lib.a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/TODO
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 忽略任何目录下名为 build 的文件夹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">build/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">doc/*.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 忽略 doc/ 目录及其所有子目录下的 .pdf 文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">doc/**/*.pdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  当然，我们不必自己写这个文件，GitHub 有一个十分详细的针对数十种项目及语言的 .gitignore 文件列表， 你可以在 &lt;a class="link" href="https://github.com/github/gitignore" target="_blank" rel="noopener"
>https://github.com/github/gitignore&lt;/a> 找到它。&lt;/p>
&lt;h3 id="提交更新">提交更新&lt;/h3>
&lt;p>  暂存区就绪后，就可以提交了。运行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git commit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  这时，会启动文本编辑器来输入提交说明。编辑器会显示类似下面的文本信息：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Please enter the commit message for your changes. Lines starting&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># with &amp;#39;#&amp;#39; will be ignored, and an empty message aborts the commit.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># On branch master&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Initial commit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Changes to be committed:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># new file: README&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Changes not staged for commit:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># modified: README&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  &lt;code>#&lt;/code> 开头的是注释。我们可以在注释下面写说明（写啥都行，主要是方便以后回想），退出编辑器时，Git 会丢弃注释行，用你输入的提交说明生成一次提交。&lt;/p>
&lt;p>  我们也可以在 &lt;code>commit&lt;/code> 命令后添加 &lt;code>-m&lt;/code> 选项，将提交信息与命令放在同一行，如下所示：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git commit -m &lt;span class="s2">&amp;#34;说明&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  提交完后，会有如下信息：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>master &lt;span class="o">(&lt;/span>root-commit&lt;span class="o">)&lt;/span> 7bb7d10&lt;span class="o">]&lt;/span> first commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">1&lt;/span> file changed, &lt;span class="m">0&lt;/span> insertions&lt;span class="o">(&lt;/span>+&lt;span class="o">)&lt;/span>, &lt;span class="m">0&lt;/span> deletions&lt;span class="o">(&lt;/span>-&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> create mode &lt;span class="m">100644&lt;/span> README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="跳过暂存区">跳过暂存区&lt;/h3>
&lt;p>  如果你觉得使用暂存区很繁琐，我们可以直接将已跟踪过的文件暂存起来一并提交，只需在 &lt;code>git commit&lt;/code> 后面加上 &lt;code>-a&lt;/code> 选项：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git commit -a -m &lt;span class="s2">&amp;#34;说明&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="删除文件">删除文件&lt;/h3>
&lt;p>  我们可以用 &lt;code>git rm 文件&lt;/code> 来从暂存区域移除，且从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。&lt;/p>
&lt;p>  那么为什么不能直接从目录中删除文件呢？因为 Git 设计的时候就考虑了误删除的情况，具体如下：&lt;/p>
&lt;ol>
&lt;li>如果添加到暂存区，那么删除后可以从暂存区恢复&lt;/li>
&lt;li>如果没添加到暂存区，但之前有提交到仓库，那么可以从仓库恢复&lt;/li>
&lt;/ol>
&lt;p>  我们来演习一下。假设我们有这么一个文件，已修改但还没添加到暂存区：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> M README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  我们误删了它：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ rm README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> D README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  这时可以通过下面命令从仓库中恢复：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git checkout README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Updated &lt;span class="m">1&lt;/span> path from the index
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  但由于是从仓库中恢复的，所以如果用 &lt;code>git status -s&lt;/code> 检查，并不会提示该文件已更改。也就是说，修改的部分无法恢复。&lt;/p>
&lt;p>  如果添加到了暂存区，比如（注意M的位置和之前不同）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">M README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rm README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">MD README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  本地删除文件后，同样是用 &lt;code>git checkout 文件&lt;/code> 命令来从暂存区中恢复：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git checkout README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Updated &lt;span class="m">1&lt;/span> path from the index
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">M README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>  那假如我们不是用 &lt;code>rm&lt;/code>，而是用 &lt;code>git rm&lt;/code> 来删除文件，会怎么样呢？我们同样来实践一下。&lt;/p>
&lt;p>  现在我们有一个在暂存区中的文件，如果直接用 &lt;code>git rm&lt;/code>，会出错：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">M README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git rm README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">error: the following file has changes staged in the index:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>use --cached to keep the file, or -f to force removal&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  根据提示，我们可以选择添加 &lt;code>--cached&lt;/code> 参数来删除暂存区中的记录，停止跟踪，但保留本地文件，如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git rm --cached README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm &lt;span class="s1">&amp;#39;README&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">D README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">?? README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  或者添加 &lt;code>-f&lt;/code> 来同时删除本地文件，如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git rm -f README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm &lt;span class="s1">&amp;#39;README&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">D README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  那么我们如何恢复呢？我们可以通过 &lt;code>git reset HEAD 12.md&lt;/code> 可以撤销“删除暂存区中的记录”的操作，然后再通过 &lt;code>git checkout README&lt;/code> 来恢复本地文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git reset HEAD README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Unstaged changes after reset:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">D README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git checkout README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Updated &lt;span class="m">1&lt;/span> path from the index
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">README
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>  从上面实践中可以看出，&lt;code>rm&lt;/code> 只是单纯地删除本地文件，但我们依然可以利用暂存库和仓库来恢复；而 &lt;code>git rm&lt;/code> 则是从版本控制中移除了文件。&lt;/p>
&lt;p>  如果你还不能理解这两者的区别，那么你可以把 &lt;code>git rm&lt;/code> 看作 &lt;code>git add&lt;/code>，而 &lt;code>rm&lt;/code> 看作本地修改，再好好想一下。我相信你会懂的。&lt;/p>
&lt;h3 id="移动文件重命名">移动文件（重命名）&lt;/h3>
&lt;p>  我们可以用 &lt;code>git mv&lt;/code> 来移动/重命名文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git mv README README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git status -s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">R README -&amp;gt; README.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  这实际上相当于下面三条命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mv README README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git rm README
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add README.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="撤销操作">撤销操作&lt;/h3>
&lt;p>&lt;strong>撤销 commit&lt;/strong>&lt;/p>
&lt;p>有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。此时，可以运行带有 &lt;code>--amend&lt;/code> 选项的提交命令来重新提交：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git commit -m &lt;span class="s1">&amp;#39;initial commit&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add forgotten_file
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit --amend
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>文本编辑器启动后，可以看到之前的提交信息。编辑后保存会覆盖原来的提交信息。&lt;/p>
&lt;hr>
&lt;p>&lt;strong>撤销暂存&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git reset HEAD 文件
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="进阶">进阶&lt;/h2>
&lt;h3 id="添加远程仓库">添加远程仓库&lt;/h3>
&lt;p>  我们可以直接使用 github、gitlab、gitee 等网站提供的远程仓库，或在自己服务器上搭建。这里我就用最常用的 github.&lt;/p>
&lt;p>  由于 Github Desktop 已经帮我连接上 github 了，所以我无需再配置 github 账号。如果你没有，可以参考这个教程：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/114068278" target="_blank" rel="noopener"
>Git安装教程(Windows) 以及连接Github&lt;/a>&lt;/p>
&lt;p>  首先我们先从远程仓库克隆已有的文件。此处我用自己的仓库，请自行用你自己的仓库替代。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/ToddZZF/Go-Note.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cloning into &lt;span class="s1">&amp;#39;Go-Note&amp;#39;&lt;/span>...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Enumerating objects: 66, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Counting objects: 100% &lt;span class="o">(&lt;/span>66/66&lt;span class="o">)&lt;/span>, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Compressing objects: 100% &lt;span class="o">(&lt;/span>51/51&lt;span class="o">)&lt;/span>, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Total &lt;span class="m">66&lt;/span> &lt;span class="o">(&lt;/span>delta 16&lt;span class="o">)&lt;/span>, reused &lt;span class="m">57&lt;/span> &lt;span class="o">(&lt;/span>delta 7&lt;span class="o">)&lt;/span>, pack-reused &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Receiving objects: 100% &lt;span class="o">(&lt;/span>66/66&lt;span class="o">)&lt;/span>, 70.83 KiB &lt;span class="p">|&lt;/span> 1.31 MiB/s, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Resolving deltas: 100% &lt;span class="o">(&lt;/span>16/16&lt;span class="o">)&lt;/span>, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">cd&lt;/span> Go-Note
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们可以用 &lt;code>git remote -v&lt;/code> 来查看远程服务器和对应 url，Git 会给默认的服务器起名为 &lt;code>origin&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git remote -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">origin https://github.com/ToddZZF/Go-Note.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们也可以自己指定服务器的名字。运行 &lt;code>git remote add &amp;lt;shortname&amp;gt; &amp;lt;url&amp;gt;&lt;/code> 添加一个新的远程 Git 仓库，同时指定一个方便使用的简写：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git remote
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">origin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git remote add pb https://github.com/paulboone/ticgit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git remote -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">origin https://github.com/schacon/ticgit &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">origin https://github.com/schacon/ticgit &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pb https://github.com/paulboone/ticgit &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pb https://github.com/paulboone/ticgit &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果远程仓库不止一个（毕竟我们可以存在多个服务器上，或与多人进行协作），该命令会全部列出，大概是这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">cd&lt;/span> grit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git remote -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bakkdoor https://github.com/bakkdoor/grit &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bakkdoor https://github.com/bakkdoor/grit &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cho45 https://github.com/cho45/grit &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cho45 https://github.com/cho45/grit &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">defunkt https://github.com/defunkt/grit &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">defunkt https://github.com/defunkt/grit &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">koke git://github.com/koke/grit.git &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">koke git://github.com/koke/grit.git &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">origin git@github.com:mojombo/grit.git &lt;span class="o">(&lt;/span>fetch&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">origin git@github.com:mojombo/grit.git &lt;span class="o">(&lt;/span>push&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="参考">参考&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://git-scm.com/" target="_blank" rel="noopener"
>Git&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener"
>Pro Git&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://learngitbranching.js.org/?locale=zh_CN" target="_blank" rel="noopener"
>https://learngitbranching.js.org&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>重玩树莓派</title><link>https://todd.scuteee.com/posts/2021/2021-10-26-play-raspi/</link><pubDate>Tue, 26 Oct 2021 16:54:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-26-play-raspi/</guid><description>&lt;h2 id="回顾">回顾&lt;/h2>
&lt;p>  树莓派可以算是我的编程启蒙了，我的第一块树莓派3是高三时母亲买给我的，我在上面学习了Python，并编了一个安排班级座位表的程序。随后到了大一，我用树莓派在宿舍开WiFi，之后有一段时间用来折腾人工智能算法。可以说，树莓派是我最喜欢的玩具之一。&lt;/p>
&lt;p>  为了不让它吃灰，我决定重新开始折腾树莓派，这次会偏重于Web端，我希望所有的东西都可以通过浏览器来设置，方便未来用平板进行访问。&lt;/p>
&lt;p>  下面记录一下我的操作过程，方便未来查错。&lt;/p>
&lt;h2 id="极值性能">极值性能&lt;/h2>
&lt;p>  为了追求性能最大化，我采用SSD启动（参见：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/336932291" target="_blank" rel="noopener"
>树莓派4 SSD 启动&lt;/a>），使用的系统是 &lt;a class="link" href="https://github.com/openfans-community-offical/Debian-Pi-Aarch64/blob/master/README_zh.md" target="_blank" rel="noopener"
>Debian-Pi-Aarch64&lt;/a>&lt;/p>
&lt;p>  但在试错阶段，依然采用 micro-SD 卡启动。&lt;/p>
&lt;h2 id="服务">服务&lt;/h2>
&lt;p>  账号大部分是：&lt;code>pi&lt;/code>，密码一律是 &lt;code>toddraspi&lt;/code>（which is short for todd&amp;rsquo;s rasberry pi）&lt;/p>
&lt;h3 id="端口概览">端口概览&lt;/h3>
&lt;p>下面列出网页服务和对应的端口号。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>端口&lt;/th>
&lt;th>服务&lt;/th>
&lt;th>账号&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>3000&lt;/td>
&lt;td>wikijs&lt;/td>
&lt;td>&lt;a class="link" href="mailto:toddzzf@outlook.com" >toddzzf@outlook.com&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4200&lt;/td>
&lt;td>WEB SSH&lt;/td>
&lt;td>pi&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8443&lt;/td>
&lt;td>CecOS容器平台&lt;/td>
&lt;td>admin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8096&lt;/td>
&lt;td>jellyfin&lt;/td>
&lt;td>pi&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>9090&lt;/td>
&lt;td>Cockpit管理界面&lt;/td>
&lt;td>pi&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="服务安装过程">服务安装过程&lt;/h3>
&lt;h4 id="jellyfin">Jellyfin&lt;/h4>
&lt;p>  直接根据官网的教程：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install apt-transport-https
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget -O - https://repo.jellyfin.org/jellyfin_team.gpg.key &lt;span class="p">|&lt;/span> sudo apt-key add -
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;deb [arch=&lt;/span>&lt;span class="k">$(&lt;/span> dpkg --print-architecture &lt;span class="k">)&lt;/span>&lt;span class="s2">] https://repo.jellyfin.org/&lt;/span>&lt;span class="k">$(&lt;/span> awk -F&lt;span class="s1">&amp;#39;=&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;/^ID=/{ print $NF }&amp;#39;&lt;/span> /etc/os-release &lt;span class="k">)&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="k">$(&lt;/span> awk -F&lt;span class="s1">&amp;#39;=&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;/^VERSION_CODENAME=/{ print $NF }&amp;#39;&lt;/span> /etc/os-release &lt;span class="k">)&lt;/span>&lt;span class="s2"> main&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> sudo tee /etc/apt/sources.list.d/jellyfin.list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install jellyfin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  安装完提示找不到 jellyfin-web，需要创建软链接：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ln -s /usr/share/jellyfin/web/ /usr/lib/jellyfin/bin/jellyfin-web
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  但在树莓派上，硬件解码是不可能的，所以这个只能当作一乐。&lt;/p>
&lt;h4 id="wikijs">Wikijs&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name&lt;span class="o">=&lt;/span>wikijs &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PUID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PGID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">TZ&lt;/span>&lt;span class="o">=&lt;/span>Asia/Shanghai &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 3000:3000 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v ~/Docker/wikijs/config:/config &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v ~/Docker/wikijs/data:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --restart unless-stopped &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> lscr.io/linuxserver/wikijs &lt;span class="c1">#or linuxserver/wikijs&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  然后访问 ip:3000，根据指引注册管理员账号。&lt;/p>
&lt;h4 id="code-server">code-server&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name&lt;span class="o">=&lt;/span>code-server &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PUID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PGID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">TZ&lt;/span>&lt;span class="o">=&lt;/span>Asia/Shanghai &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>toddraspi &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SUDO_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>toddraspi &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 8888:8443 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v ~/Docker/code-server/config:/config &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --restart unless-stopped &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> lscr.io/linuxserver/code-server &lt;span class="c1">#or linuxserver/code-server&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>  然后访问 ip:8888，开始安装一些编程语言。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install wget
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="go">go&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget https://studygolang.com/dl/golang/go1.17.2.linux-arm64.tar.gz -O go.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>大概率会提示 &lt;code>wget: unable to resolve host address ‘dl.google.com’&lt;/code>。可以多试两次。实在不行，就通过 ssh 上传到宿主机的 &lt;code>~/Docker/code-server/config/workspace&lt;/code> 目录&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 解压golang到 /usr/local 下&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo rm -rf /usr/local/go &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo tar -C /usr/local -xzf go.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 将golang添加到PATH环境变量&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 添加下面这几行到 $HOME/.profile 或 /etc/profile (for a system-wide installation)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$PATH&lt;/span>:/usr/local/go/bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GO111MODULE&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GOPROXY&lt;/span>&lt;span class="o">=&lt;/span>https://goproxy.cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># souce 一下环境变量&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 验证安装成功与否&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go env
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相应地，需要在 vscode 中安装 golang 官方的插件 &lt;code>Go&lt;/code>，但是在安装完后，根据插件提示安装一系列时 go tools 出现安装失败的问题：上面设置的 &lt;code>GOPROXY&lt;/code> 不起作用，怀疑是 docker 内的 bash 运行时不会读取 &lt;code>/etc/profile&lt;/code>。于是尝试在创建 docker 就将该环境变量用 &lt;code>-e&lt;/code> 的方式传入，发现安装成功。&lt;/p>
&lt;h5 id="cc">c/c++&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install cpp gcc cmake make
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="python">python&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install python3.8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>在线图片浏览器的开发</title><link>https://todd.scuteee.com/posts/2021/2021-10-22-web-image-browser/</link><pubDate>Fri, 22 Oct 2021 15:20:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-22-web-image-browser/</guid><description>&lt;h2 id="需求">需求&lt;/h2>
&lt;p>  我的NAS上有影音服务、文件服务，但缺少一个图片服务。目前已有的图片管理程序存在着诸如安装复杂、使用不方便等问题，所以我决定自己动手写一个。&lt;/p>
&lt;p>  目前我有两类图片：照片（单张图）和漫画（一组图）。这两类图片需要分开处理。&lt;/p>
&lt;h3 id="照片">照片&lt;/h3>
&lt;p>  虽说照片只是单张图，但依然与其他照片有一丝联系。如何组织这种联系是关键。&lt;/p>
&lt;p>  我的构思是，图片一般按来源存储的，即手机拍摄的照片存在一个文件夹、截图存在另一个文件夹等等。那么初始时，我们不妨就按文件夹展示。&lt;/p>
&lt;p>  然后通过给图片贴上多种标签，来对图片进行描述。我们可以统一查看具有同一个标签的图片。&lt;/p>
&lt;p>  有时候我们想直接放到同一个相册里，尽管这个可以通过标签来实现，但我认为命名上，标签应该尽可能简单，而相册则可以复杂一点，两者分开更好。&lt;/p>
&lt;p>  还可以直接给图片添加一段描述性文字，这样方便记录图片所蕴含的故事。&lt;/p>
&lt;p>  总结一下图片具有如下几个字段：&lt;/p>
&lt;ul>
&lt;li>图片
&lt;ul>
&lt;li>标签&lt;/li>
&lt;li>相册&lt;/li>
&lt;li>描述&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>  未来，可能还会加入诸如人脸，地点等功能，这些功能和标签很类似，所以一旦将标签开发好，就能衍生出这些功能。&lt;/p>
&lt;h3 id="漫画">漫画&lt;/h3>
&lt;p>  一般来说，一本漫画存放在一个文件夹或一个压缩包内。现在我们假设我们有《电锯人》的几本单行本，存在几个文件夹内。首先我希望只展示一个《电锯人》的封面，然后点进去后，有多个单行本。即：&lt;/p>
&lt;ul>
&lt;li>《电锯人》
&lt;ul>
&lt;li>单行本1&lt;/li>
&lt;li>单行本2&lt;/li>
&lt;li>……&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>  漫画就像书一样有一些基本信息，如作者、出版社（杂志）、出版日期等，另外也有标签。&lt;/p>
&lt;p>  由于看完一本后可能会想看下一本，或者是作者的其他作品，所以应该有一些诸如“推荐”的功能。&lt;/p>
&lt;h2 id="界面操作构想">界面&amp;amp;操作构想&lt;/h2>
&lt;p>  界面倾向于 Cloudreve，而操作则倾向于 Jellyfin&lt;/p>
&lt;h2 id="数据库构想">数据库构想&lt;/h2>
&lt;h2 id="实现">实现&lt;/h2>
&lt;h3 id="20211022">2021/10/22&lt;/h3>
&lt;p>  我将从漫画开始实现，因为我的漫画还挺多了，再不整理就要挤爆我的手机了。&lt;/p>
&lt;p>  第一步是读取图片并显示到网页上👉&lt;a class="link" href="https://github.com/ToddZZF/Go-Note/tree/main/Projects/photoweb" target="_blank" rel="noopener"
>Photoweb&lt;/a>&lt;/p></description></item><item><title>实验用的matlab脚本</title><link>https://todd.scuteee.com/posts/2021/2021-10-20-matlab-script-for-test-data/</link><pubDate>Wed, 20 Oct 2021 22:20:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-20-matlab-script-for-test-data/</guid><description>&lt;p>处理数据中常用的函数和脚本&lt;/p>
&lt;h2 id="清场">清场&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">close&lt;/span> &lt;span class="n">all&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">clear&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">clc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="读取数据">读取数据&lt;/h2>
&lt;h3 id="xlsx">xlsx&lt;/h3>
&lt;p>需要依赖 Microsoft Excel（无法用 WPS 替代）。可以默认读取整张表格，也可以读取特定数据。下面三个参数分别是：文件名、第几个sheet、范围。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">txt&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">raw&lt;/span>&lt;span class="p">]=&lt;/span>&lt;span class="n">xlsread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;NBTI to华工.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">txt&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">raw&lt;/span>&lt;span class="p">]=&lt;/span>&lt;span class="n">xlsread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;NBTI to华工.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;D8:D23&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="csv">csv&lt;/h3>
&lt;p>csv 开头一般会有一些文字信息，而 csvread 只能读取数字，所以需要指定行号：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">M&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">csvread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;filename&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">row&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">col&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">M&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">csvread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;filename&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">row&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">col&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% row, col：开始读取的行列，相当于下面的 R1, C1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% range = [R1 C1 R2 C2]: 读取区域的左上与右下坐标&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但注意的是，行号和列号都是从 0 开始的（这也太割裂了……）&lt;/p>
&lt;h2 id="数据拟合">数据拟合&lt;/h2>
&lt;p>MATLAB自带的拟合函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="c">%多项式拟合&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">polyfit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% 参数：x,y 数据；n 多项式次数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% 返回：多项式系数（高次到低次）&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一般我们需要同时画出拟合曲线，所以我们可以将这个与画图结合，封装为一个新的函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="w"> &lt;/span>p &lt;span class="p">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">fit_plot&lt;/span>&lt;span class="p">(&lt;/span>x,y,n&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">polyfit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x1&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nb">linspace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y1&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">polyval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;*&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">disp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;系数（高到低）&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">disp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>事实上，如果是一元线性拟合，我更推荐直接上线性回归分析：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="p">=[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span>&lt;span class="p">=[&lt;/span>&lt;span class="mf">1.01&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">2.02&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">3.03&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">5.05&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span>&lt;span class="p">=[&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">)),&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">bint&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">rint&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="p">]=&lt;/span>&lt;span class="n">regress&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.05&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c">%一元回归分析&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% b: 回归方程中的参数估计值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% bint: b 的置信区间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% r 和 rint: 分别表示残差及残差对应的置信区间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% stats: 包含相关系数r^2, F 统计量及 F 对应的概率 p 值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rcoplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">rint&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c">%在置信区间下误差分析&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里同样会给出系数，但注意 b 是从低次到高次。&lt;/p></description></item><item><title>NBTI寿命测试</title><link>https://todd.scuteee.com/posts/2021/2021-10-20-nbti-test/</link><pubDate>Wed, 20 Oct 2021 10:12:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-20-nbti-test/</guid><description>&lt;p>在此不对NBTI机理进行解释，仅展示实验数据的处理过程。&lt;/p>
&lt;p>NBTI效应的典型评价模型可以写成如下形式，其中激活能的变化量一般在0.2eV至0.6eV之间，应经过试验提取。&lt;/p>
&lt;p>$$
\Delta V_T = A (1/W)^n \times (1/L)^m \exp(-C/V_{GS}) \times \exp(-E_a/kT)\times t^p
$$&lt;/p>
&lt;p>其中，&lt;/p>
&lt;ul>
&lt;li>$\Delta V_T$ 阈值电压的变化量（mV）&lt;/li>
&lt;li>$A$ 比例常数&lt;/li>
&lt;li>$W$ 器件的宽度，μm；&lt;/li>
&lt;li>$n$ 与器件宽度有关的模型参数；&lt;/li>
&lt;li>$L$ 器件的长度，μm；&lt;/li>
&lt;li>$m$ 与器件长度有关的模型参数；&lt;/li>
&lt;li>$C$ 电场加速系数；&lt;/li>
&lt;li>$V_{GS}$ 栅极电压，V；&lt;/li>
&lt;li>$E_a$ 激活能，eV；&lt;/li>
&lt;li>$k$ 玻尔兹曼常数，8.6174E-5eV/K；&lt;/li>
&lt;li>$T$ 绝对温度，K；&lt;/li>
&lt;li>$t$ 应力作用时间，s；&lt;/li>
&lt;li>$p$ 应力作用时间的幂指数&lt;/li>
&lt;/ul>
&lt;p>为进行模型参数的提取，65nm CMOS工艺pMOSFET的负偏置温度不稳定性（NBTI）效应的评价需要在三个不同的温度应力、三个不同的电场应力条件下进行，共六个条件：&lt;/p>
&lt;ul>
&lt;li>125℃
&lt;ul>
&lt;li>-1.7V&lt;/li>
&lt;li>-1.9V&lt;/li>
&lt;li>-2.1V&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>-2.1V
&lt;ul>
&lt;li>100℃&lt;/li>
&lt;li>125℃&lt;/li>
&lt;li>150℃&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>（具体测试数据由于保密原则在此不列出）&lt;/p>
&lt;p>65nm CMOS工艺NBTI效应模型参数的提取如下：&lt;/p>
&lt;h2 id="应力作用时间影响因子的提取">应力作用时间影响因子的提取&lt;/h2>
&lt;p>恒定高温环境和恒定栅极应力条件下，pMOSFET的阈值电压的退化量随着应力时间的增加而不断增大。在恒定温度、栅压下，通过公式（1）可得出计算得出$\Delta V_T$与$t$、$p$的关系式：&lt;/p>
&lt;p>$$
\ln(\Delta V_t) = \ln \left[ A (1/W)^n \times (1/L)^m \exp(-C/V_{GS}) \times \exp(-E_a/kT) \right] + p\ln t
$$&lt;/p>
&lt;p>可见，在双对数坐标中（时间为横轴，阈值电压漂移量为纵轴），则斜率就是 $p$。&lt;/p>
&lt;p>拟合得到的p值如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>应力电压&lt;/th>
&lt;th>温度&lt;/th>
&lt;th>影响因子p&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-1.7V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>0.3102&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.9V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>0.2682&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>0.2708&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>100℃&lt;/td>
&lt;td>0.2407&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>0.2708&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>150℃&lt;/td>
&lt;td>0.2648&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>平均&lt;/td>
&lt;td>&lt;/td>
&lt;td>0.27094&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="激活能的提取">激活能的提取&lt;/h2>
&lt;p>通过公式（1）可得出计算激活能的关系式：&lt;/p>
&lt;p>$$
-p\ln t = \ln \left[ A(1/W)^n\times(1/L)^m \exp(-C/V_{GS}/\Delta V_T) \right] -\frac{E_a}{k}\times \frac{1}{T}
$$&lt;/p>
&lt;p>上式又可写成如下形式：&lt;/p>
&lt;p>$$
\ln t = D + \frac{E_a}{kp}\times \frac{1}{T}
$$&lt;/p>
&lt;p>可见 $\ln t$ 与 $1/T$ 成线性关系。在恒定电场条件下，分别在三个不同的温度点（85℃、105℃、125℃）各测量一批pMOSFET的NBTI效应的寿命时间，在对数正态坐标上分别提取中位失效时间 $\tau_{11}$、$\tau_{21}$ 和 $\tau_{22}$，在半对数坐标上画出中位失效时间 $1/T_1$、$1/T_2$ 和 $1/T_3$ 与温度的倒数 $1/T_1$、$1/T_2$ 和 $1/T_3$ 的对应关系，对测量点进行线性拟合，该拟合曲线的斜率 $E_a/kp$，据此可计算出激活能。&lt;/p>
&lt;p>（此处不确定中位失效时间怎么计算，感觉给的样品不够，故取双对数坐标下拟合得到的 100mV 漂移所对应的时间作为失效时间）&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>温度&lt;/th>
&lt;th>$\ln t$&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>100+273.15&lt;/td>
&lt;td>15.062&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>125+273.15&lt;/td>
&lt;td>13.1633&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>150+273.15&lt;/td>
&lt;td>12.2419&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>提取得到的斜率为 8958.6，计算得激活能为 8958.6*8.6174E-5*0.27094=0.209&lt;/p>
&lt;h2 id="电场加速因子的提取">电场加速因子的提取&lt;/h2>
&lt;p>在恒定温度、恒定阈值电压漂移值下，通过公式（1）可得出计算电场加速因子的关系式：&lt;/p>
&lt;p>$$
-p\ln t = \ln\left[ A(1/W)^n \times (1/L)^m \times \exp(-E_a/kT)/\Delta V_T \right] - C\times\frac{1}{V_{GS}}
$$&lt;/p>
&lt;p>上式又可写成如下形式：&lt;/p>
&lt;p>$$
\ln t = D+C/p\times (1/V_{GS})
$$&lt;/p>
&lt;p>可见 $\ln t$ 与 $1/V_{GS}$ 成线性关系。在恒定高温（125℃）环境条件下，分别在三个不同的栅极电压应力下（-1.8V、-1.9V、-2.0V）各测量一批薄栅氧化层的寿命时间，在对数正态坐标上分别提取中位失效时间 $\tau_{12}$、$\tau_{22}$ 和 $\tau_{32}$，在半对数坐标上画出中位失效时间 $\tau_{12}$、$\tau_{22}$ 和 $\tau_{32}$ 与栅极应力电压 $V_{GS1}$、$V_{GS2}$ 和 $V_{GS3}$ 倒数的对应关系，该对应关系拟合曲线的斜率就是电场加速因子.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>电压&lt;/th>
&lt;th>$\ln t$&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-1.7&lt;/td>
&lt;td>15.3912&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.9&lt;/td>
&lt;td>14.6401&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1&lt;/td>
&lt;td>13.1633&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>算得 $C/p = 19.5844$，从而电场加速因子 $C=5.3062$&lt;/p>
&lt;p>总结65nm CMOS工艺NBTI效应的可靠性评价试验所得的各种关系，得到器件阈值电压漂移量的表达式：&lt;/p>
&lt;p>$$
\Delta V_{th} = A \times f(W,L) \exp(-5.3062/V_{gs}) \times \exp(-0.209/kT)\times t^{0.27094}
$$&lt;/p>
&lt;h2 id="系数的提取">系数的提取&lt;/h2>
&lt;p>由于缺少不同宽长比的器件，所以将 $A\times f(W,L)$ 视作一个常数参数 $B$（仅适用于单个宽长比），可以通过对 $t$ 取对数来得到：&lt;/p>
&lt;p>$$
\ln \Delta V_{th} = \ln \left[ A\times f(W,L) \times \exp(-5.3062/V_{gs}) \times \exp(-0.209/kT) \right]+0.27094 \ln t
$$&lt;/p>
&lt;p>上式又可写成如下形式：&lt;/p>
&lt;p>$$
\ln \Delta V_{th} = \ln \left[ B \times D \right]+0.27094 \ln t
$$&lt;/p>
&lt;p>我们取 -2.1V 125℃ 条件下得到的数据，计算得 $D=0.0283$&lt;/p>
&lt;p>而拟合得到得截距为：$\ln(B\times D)=1.0403$，从而解出 $B=99.9812$&lt;/p>
&lt;p>采用类似的方法可以算出其他应力条件下的 B：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>应力电压&lt;/th>
&lt;th>温度&lt;/th>
&lt;th>B&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-1.7V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>0.3102&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-1.9V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>0.2682&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>99.9812&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>100℃&lt;/td>
&lt;td>0.2407&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>125℃&lt;/td>
&lt;td>99.9812&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-2.1V&lt;/td>
&lt;td>150℃&lt;/td>
&lt;td>96.4212&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>最终我们可得在该长宽比下的阈值电压漂移量的表达式：&lt;/p>
&lt;p>$$
\Delta V_{th} = 100.0023 \times \exp(-5.3062/V_{gs}) \times \exp(-0.209/kT)\times t^{0.27094}
$$&lt;/p></description></item><item><title>(PPT)阈值电压的提取</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-10-18-threshold-voltage-extraion/</link><pubDate>Mon, 18 Oct 2021 15:47:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-10-18-threshold-voltage-extraion/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
text-align: left;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h2>热载流子损伤(HCD)建模&lt;/h2>
&lt;h3>10/18 工作报告&lt;/h3>
&lt;h4>周镇峰&lt;/h4>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>了解主要的HCD物理模型&lt;/li>
&lt;li>熟悉实验仪器&lt;/li>
&lt;li>实验数据处理：提取阈值电压&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 物理模型 -->
&lt;section>
&lt;section>
&lt;h3>HCD物理模型&lt;/h3>
&lt;ol>
&lt;li>&lt;strong>Hess Model&lt;/strong>：introduce single- and multiple-carrier processes; HCD is controlled by the distribution function(DF)&lt;/li>
&lt;li>&lt;strong>Energy Driven Paradigm by Rauch and LaRosa&lt;/strong>：The fundamental driving force of HCD changes from the maximum electric field to the energy deposited by carriers.&lt;/li>
&lt;li>&lt;strong>Bravaix Model&lt;/strong>：inherits the main features of both the Hess and the Rauch/LaRosa approaches: the interplay between SP- and MP-mechanisms and the idea that HCD is defined by the carrier DF.&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;p>
\[
\text{HCD}
\leftrightarrow
\text{Si-H}
\begin{cases}
\text{SP}
\begin{cases}
\text{碰撞电离}\\
\text{俄歇复合}\\
\text{电子-声子散射}\\
\text{电子-电子散射}
\end{cases}\\
\updownarrow \text{energy distribution function}\\
\text{MP}
\end{cases}
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>Hess Model&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;p>
\[
\begin{cases}
R_{SP} \sim \int_{E_{th}}^\infty F(E)P(E)\sigma(E)\;\mathrm{d} E\\
R_{MP} = \left(\frac{E_B}{\hbar \omega}+1\right)\left[P_d+\exp(\frac{-\hbar \omega}{k_BT_L})\right]\left[\frac{P_u+\omega_e}{P_d+\exp(-\hbar \omega/k_BT_L)}\right]^{-E_B/\hbar \omega}
\end{cases}
\]
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>
\[
R = \sum_{i=0}^{N_l} \left[ \frac{I_df_v + \omega_e \exp (-\hbar\omega/k_BT_L)}{I_d f_v + \omega_e} \right]^i A^i I_d f_d
\]
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>
Hess模型因为提出了很多开创性概念而出名，但它也有很多缺点。首先，界面陷阱是在微观层面上考虑的，没有与器件层面相联。在Hess模型中，器件的寿命定义为缺陷浓度$N_{it}$达到阈值，这会导致对寿命的错误估计，因为HCD是一种强烈不均匀的现象，在相同应力时间下，会在器件的不同区域产生不同的浓度$N_{it}$。
&lt;/p>
&lt;/section>
&lt;section>
&lt;p>参考文献：&lt;/p>
&lt;ul>
&lt;li>
W. McMahon, K. Matsuda, J. Lee, K. Hess, J. Lyding, The effects of a multiple carrier model of interface states generation of lifetime extraction for MOSFETs, in Proceedings of the International Conference on Modelling and Simulation Micro, vol. 1, 2002, pp. 576–579
&lt;/li>
&lt;li>
W. McMahon, A. Haggag, K. Hess, Reliability scaling issues for nanoscale devices. IEEE Trans. Nanotechnol. 2(1), 33–38 (2003)
&lt;/li>
&lt;/ul>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>熟悉实验仪器: 安捷伦B1500A&lt;/h3>
&lt;img src="./images/hot-carrier/仪器b1500a.jpg" width="400">
&lt;img src="./images/hot-carrier/仪器b1500a接口.jpg" width="500">
&lt;/section>
&lt;section>
&lt;h3>熟悉实验软件: EasyEXPERT&lt;/h3>
&lt;img src="./images/hot-carrier/EasyEXPERT界面.jpg">
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>阈值电压的提取&lt;/h3>
&lt;p>有多种方法提取阈值电压，但采用不同方法得到的 $V_\tx{th}$ 不同。这些方法主要依赖静态转移特性曲线 $I_d-V_{gs}$。在提取过程中会受到源漏寄生串联电阻和沟道载流子迁移率降低效应的影响，故如何消除这些影响是准确提取 $V_\tx{th}$ 关键。&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>常数电流法(CC)&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/测阈值电压：常数电流法.jpg">
&lt;/div>
&lt;div>
&lt;p>与规定的 $I_d$ 对应的 $V_g$ 即为 $V_\tx{th}$. $I_\tx{th}$ 一般取 $10^{-6}-10^{-9}\tx{A}$&lt;/p>
&lt;ul>
&lt;li>优点：直接、快速&lt;/li>
&lt;li>缺点：当 $I_\tx{th}$ 取不同值时，得到的 $V_\tx{th}$ 不同；存在短沟道效应；&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h3>线性外推法(ELR)&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/测阈值电压：线性外推法.jpg">
&lt;/div>
&lt;div>
&lt;p>
通过对 $I_d-V_{gs}$ 特性曲线的最大斜率点展开线性外推，并将外推曲线与 $I_d=0$ 时的 $V_g$ 作为 $V_\tx{th}$
&lt;/p>
&lt;p>
\[I_d = \mu C_\tx{ox} \left(\frac{W}{L}\right)\left[V_{gs}-V_\tx{th}-\frac{1}{2}\alpha V_{ds}\right] V_{ds}\]
&lt;/p>
&lt;p>
该方程说明，$I_d$ 与 $V_{gs}$ 之间是线性相关，并且与 $V_{gs}$ 轴交于 $V_\tx{th}+\frac{1}{2}\alpha V_{ds}$. 参数 $\alpha$ 与背偏置电压有关，一般取 $1.1-1.5$，由于通常 $V_{ds}\leq 0.1\tx{V}$，一般情况下可以假设 $\alpha=1$，这一假设引起的误差小于 2%。这样一来，在计算 $V_\tx{th}$ 时，必须从外推得到的结果中再减去 $V_\tx{ds}$ 的一半。
&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h3>跨导线性外推法&lt;/h3>
&lt;p>
在低漏压时，跨导的微分 $\dif g_m / \dif V_{gs}$ 取最大值时所对应的栅压即为阈值电压。此方法得到的阈值电压与下式定义的阈值电压非常接近：
&lt;/p>
&lt;p>
\[\phi_{st} = 2\phi_f+V_\tx{th}\]
&lt;/p>
&lt;p>由于在该方法中，需要考虑漏电流的二级效应，故其很容易受噪声影响。&lt;/p>
&lt;/section>
&lt;section>
&lt;p>主要参考文献&lt;/p>
&lt;ol>
&lt;li> 薛峰. 65nm工艺下MOSFET阈值电压提取方法研究[J]. 赤峰学院学报（自然科学版）,2015(7):46-48. DOI:10.3969/j.issn.1673-260X.2015.07.017.&lt;/li>
&lt;li>A. Bazigos, M. Bucher, J. Assenmacher, S. Decker, W. Grabinski and Y. Papananos, "An Adjusted Constant-Current Method to Determine Saturated and Linear Mode Threshold Voltage of MOSFETs," in IEEE Transactions on Electron Devices, vol. 58, no. 11, pp. 3751-3758, Nov. 2011, doi: 10.1109/TED.2011.2164080.&lt;/li>
&lt;li> O. F. Siebel, M. C. Schneider, and C. Galup-Montoro, “MOSFET threshold voltage: Definition, extraction, and some applications,” Microelectronics Journal, vol. 43, no. 5, pp. 329–336, May 2012, doi: 10.1016/j.mejo.2012.01.004.&lt;/li>
&lt;/ol>
&lt;/section>
&lt;/section>
&lt;section>
&lt;h3>未来工作安排&lt;/h3>
&lt;ul>
&lt;li>熟悉实验仪器的使用、实验数据处理&lt;/li>
&lt;li>进一步了解模型&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>MOSFET阈值电压的提取</title><link>https://todd.scuteee.com/posts/2021/2021-10-18-extract-mosfet-theshold-voltage/</link><pubDate>Mon, 18 Oct 2021 10:12:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-18-extract-mosfet-theshold-voltage/</guid><description>&lt;p>一些提取阈值电压的实验方法。&lt;/p>
&lt;p>$$
\newcommand{\tx}{\text}
$$&lt;/p>
&lt;p>MOSFET的阈值电压 $V_\tx{th}$ 是衡量 MOSFET 的一个重要参数，当 $V_g$ 达到阈值电压时，形成反型层，MOS开启。$V_\tx{th}$ 在器件设计、工艺监测、可靠性分析中均起到重要作用。&lt;/p>
&lt;p>有多种方法提取阈值电压，但采用不同方法得到的 $V_\tx{th}$ 不同。这些方法主要依赖静态转移特性曲线 $I_d-V_{gs}$&lt;/p>
&lt;p>在提取过程中会受到源漏寄生串联电阻和沟道载流子迁移率降低效应的影响，故如何消除这些影响是准确提取 $V_\tx{th}$ 关键。&lt;/p>
&lt;p>下面简要列举几种方法。&lt;/p>
&lt;h2 id="常数电流法cc">常数电流法(CC)&lt;/h2>
&lt;p>这种方法定义当 $V_d&amp;lt;0.1\tx{V}$ 时，与规定的 $I_d$ 对应的 $V_g$ 即为 $V_\tx{th}$。即：&lt;/p>
&lt;p>$$
I_d = I_\tx{th} \frac{W_m}{L_m}
$$&lt;/p>
&lt;p>其中，$I_\tx{th}$ 为阈值电流，$W_m,L_m$ 为掩模版上的沟道宽度和长度。&lt;/p>
&lt;p>该方法的优点是：仅需进行一次测量操作即可得到 $V_\tx{th}$，测量速度很快。&lt;/p>
&lt;p>缺点是：$I_\tx{th}$ 的取值有一定任意性，其典型值在 $10^{-6}-10^{-9}\tx{A}$ 之间，当取不同值时，得到的 $V_\tx{th}$ 不同。&lt;/p>
&lt;h2 id="线性外推法最大gm法">线性外推法/最大gm法&lt;/h2>
&lt;p>这种方法通过对 $I_d-V_{gs}$ 特性曲线的最大斜率点展开线性外推，并将外推曲线与 $I_d=0$ 时的 $V_g$ 作为 $V_\tx{th}$。最大斜率点对应跨导最大的点。&lt;/p>
&lt;p>$$
g_m =\frac{\p I_d}{\p V_{gs}}
$$&lt;/p>
&lt;p>该阈值电压为外推阈值电压，该方法是工业区确定阈值电压的常用标准。&lt;/p>
&lt;p>为保证MOSFET保持在线性区，一般固定漏极电压 $V_{ds}\leq 0.1\tx{V}$，在低 $V_{ds}$ 时，漏电流 $I_d$ 由下面方程给出：&lt;/p>
&lt;p>$$
I_d = \mu C_\tx{ox} \left(\frac{W}{L}\right)\left[V_{gs}-V_\tx{th}-\frac{1}{2}\alpha V_{ds}\right] V_{ds}
$$&lt;/p>
&lt;p>该方程说明，$I_d$ 与 $V_{gs}$ 之间是线性相关，并且与 $V_{gs}$ 轴交于 $V_\tx{th}+\frac{1}{2}\alpha V_{ds}$. 参数 $\alpha$ 与背偏置电压有关，一般取 $1.1-1.5$，由于通常 $V_{ds}\leq 0.1\tx{V}$，一般情况下可以假设 $\alpha=1$，这一假设引起的误差小于 2%。这样一来，在计算 $V_\tx{th}$ 时，必须从外推得到的结果中再减去 $V_\tx{ds}$ 的一半。&lt;/p>
&lt;p>从最大斜率点外推的理由是：载流子的迁移率 $\mu$ 随 $V_{gs}$ 增加而降低，漏电流 $I_d$ 并不能准确地随着 $V_{gs}$ 而线性变化，但是从另一方面考虑，从曲线最大斜率处外推不会将迁移率降低而引起的额外误差涵盖在 $V_\tx{th}$ 之内。&lt;/p>
&lt;h2 id="平方外推法">平方外推法&lt;/h2>
&lt;p>该方法通过利用饱和区 $\sqrt{I_d}$ 与 $V_{gs}$ 的关系曲线外推到 $I_{d}=0$ 得到阈值电压。&lt;/p>
&lt;p>其中，确保MOSFET工作在饱和区的最简便的方法就是将器件的栅极和漏极连接在一起，此时饱和区的漏电流方程为：&lt;/p>
&lt;p>$$
I_{d} = \frac{1}{2}\mu C_\tx{ox}\frac{W}{L_\alpha} (V_{gs}-V_\tx{th})^2
$$&lt;/p>
&lt;p>由上式可知，$\sqrt{I_d}$ 与 $V_{gs}$ 呈直线关系。对该直线外推，得到的与 $V_{gs}$ 轴的交点即为 $V_\tx{th}$&lt;/p>
&lt;p>但在短沟道器件中，由于漏致势垒降低效应使得 $V_\tx{th}$ 的取值随 $V_{ds}$ 的改变而改变，因此基于这种考虑，此方法通常不能应用于短沟道器件。&lt;/p>
&lt;h2 id="跨导线性外推法">跨导线性外推法&lt;/h2>
&lt;p>该方法的本质思想是：在低漏压时，跨导的微分 $\dif g_m / \dif V_{gs}$ 取最大值时所对应的栅压即为阈值电压。此方法得到的阈值电压与下式定义的阈值电压非常接近：&lt;/p>
&lt;p>$$
\phi_{st} = 2\phi_f+V_\tx{th}
$$&lt;/p>
&lt;p>并且它不受迁移率下降因子 $\theta$ 和串联电阻 $R_t$ 的影响。这种方法要求器件工作在线性区，且基于以下几点结论：&lt;/p>
&lt;ol>
&lt;li>在弱反型区，跨导和栅压呈指数关系&lt;/li>
&lt;li>在强反型区，当串联电阻和迁移率退化可以忽略时，跨导为一个常量&lt;/li>
&lt;li>由于串联电阻和迁移率退化的影响，跨导随栅压缓慢增大&lt;/li>
&lt;li>在弱反型和强反型的过渡区，跨导和栅压呈线性关系。&lt;/li>
&lt;/ol>
&lt;p>由于在该方法中，需要考虑漏电流的二级效应，故其很容易受噪声影响。&lt;/p>
&lt;h2 id="参考文献">参考文献&lt;/h2>
&lt;ol>
&lt;li>[薛峰. 65nm工艺下MOSFET阈值电压提取方法研究]&lt;a class="link" href="J" >http://dx.chinadoi.cn/10.3969/j.issn.1673-260X.2015.07.017&lt;/a>. 赤峰学院学报（自然科学版）,2015(7):46-48. DOI:10.3969/j.issn.1673-260X.2015.07.017.&lt;/li>
&lt;li>A. Bazigos, M. Bucher, J. Assenmacher, S. Decker, W. Grabinski and Y. Papananos, &amp;ldquo;&lt;a class="link" href="https://ieeexplore.ieee.org/document/6003772" target="_blank" rel="noopener"
>An Adjusted Constant-Current Method to Determine Saturated and Linear Mode Threshold Voltage of MOSFETs&lt;/a>,&amp;rdquo; in IEEE Transactions on Electron Devices, vol. 58, no. 11, pp. 3751-3758, Nov. 2011, doi: 10.1109/TED.2011.2164080.&lt;/li>
&lt;li>O. F. Siebel, M. C. Schneider, and C. Galup-Montoro, “&lt;a class="link" href="https://doi.org/10.1016/j.mejo.2012.01.004" target="_blank" rel="noopener"
>MOSFET threshold voltage: Definition, extraction, and some applications&lt;/a>,” Microelectronics Journal, vol. 43, no. 5, pp. 329–336, May 2012, doi: 10.1016/j.mejo.2012.01.004.&lt;/li>
&lt;/ol>
&lt;h2 id="matlab-处理脚本">Matlab 处理脚本&lt;/h2>
&lt;p>由于实验获取的数据是离散的，所以我们需要使用内插函数 &lt;code>interp1k&lt;/code> 获取特定 $I_d$ 对应的 $V_g$。另外由于实验数据可能会有缺陷，所以内插之前需要对数据进行预处理。我们将上述过程封装为如下函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="w"> &lt;/span>C &lt;span class="p">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">interp1k&lt;/span>&lt;span class="p">(&lt;/span>A,B,Id&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">%A：Id_test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">%B：Vg_test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">%获取非NAN元素&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">indx&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="nb">isnan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="nb">isnan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">B&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">B&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">%获取唯一元素&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nb">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">unique&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c">%返回列表y和下标i按元素大小升序排序&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A1&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">i&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c">%将下标恢复原来的顺序&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">B1&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">B&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">i&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">C&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">interp1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">B1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Id&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c">%线性内插，获取 Id 对应的值 Vg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>对于常数电流法，我们只需要通过内插得到与规定的 $I_d$ 对应的 $V_g$，即：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="w"> &lt;/span>Vth &lt;span class="p">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Vth_Extraction_CC&lt;/span>&lt;span class="p">(&lt;/span>Id_test, Vg_test, Id&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Vth&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">interp1k&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Id_test&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Vg_test&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">%画出转移特性曲线&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg_test&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Id_test&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="n">hold&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg_test&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg_test&lt;/span>&lt;span class="p">)],[&lt;/span>&lt;span class="n">Id&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Id&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="s">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;linestyle&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;--&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>而对于线性外推法，我们需要先求 $I_d$ 对 $V_g$ 的导数，由于数据是离散的，所以我们用差分近似求导：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="w"> &lt;/span>[Vgm, gm] &lt;span class="p">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">derivative_me_verilength&lt;/span>&lt;span class="p">(&lt;/span>Vg_test, Id_test&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">gm&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">gradient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Id_test&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">./&lt;/span>&lt;span class="n">gradient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg_test&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Vgm&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Vg_test&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后根据斜率，外推到 $I_d=0$ 对应的 $V_g$&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="w"> &lt;/span>Vth &lt;span class="p">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Vth_Extraction_Max_gm&lt;/span>&lt;span class="p">(&lt;/span>Id_test, Vg_test&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">Vgm&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">gm&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">derivative_me_verilength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max_gm&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gm&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">indx&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gm&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gm&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="n">indx&lt;/span> &lt;span class="p">=&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Vth&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Vg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">Id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gm&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">%画出转移特性曲线&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg_test&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Id_test&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Vg_test&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">gm&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="n">hold&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">Vth&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Vg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">)],[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indx&lt;/span>&lt;span class="p">)],&lt;/span>&lt;span class="s">&amp;#39;:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;linewidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vg&lt;/span>&lt;span class="p">)],[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="s">&amp;#39;:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vth&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;s&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;MarkerSize&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>论平板</title><link>https://todd.scuteee.com/posts/2021/2021-10-16-about-pad/</link><pubDate>Sat, 16 Oct 2021 22:20:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-16-about-pad/</guid><description>&lt;p>我的平板使用史，与下一部平板的选择。&lt;/p>
&lt;h2 id="我的平板使用史">我的平板使用史&lt;/h2>
&lt;h3 id="第一部平板-昂达v811">第一部平板 昂达V811&lt;/h3>
&lt;p>  当我上初中的时候，我舅舅说如果我背完道德经就给我一台平板，然后我整个初一到初二都在背“道可道”，最终在春节去吃饭时给我舅背了一遍（其实没全背完，只背了前半部分）。就这样，我得到了第一台平板：昂达V811😀&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/review/pad/onda_V811.jpg"
loading="lazy"
alt="onda V811"
>&lt;/p>
&lt;p>  虽然是寨板（显然是模仿iPad），但其实它的性能在当时还挺够用的，而且它还支持HDMI输出（尽管我从来没用过）。我当时主要用来听歌、看片、看漫画，还用来玩 Deemo（古树旋律）。&lt;/p>
&lt;p>  后来这平板由于电池鼓包，被我拆掉了，在拆的过程中屏幕也弄坏了。但我还留着主板，或许接个外部电源、接个HDMI、接个键鼠，还可以用。&lt;/p>
&lt;h3 id="第二部平板-华为m2-801">第二部平板 华为m2-801&lt;/h3>
&lt;p>  中考考得不错，我让老爸给我换了一部新平板：华为m2-801，虽然屏幕不如上一部平板大，但音质很棒（哈曼卡顿调音的双扬声器），而且屏幕小也方便我藏在被窝里玩。用途也和上一部平板差不多，不过因为这时我已经上高中了，所以就不看动漫，改看美剧了。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/review/pad/huawei_m2_801.jpg"
loading="lazy"
alt="huawei m2-801"
>&lt;/p>
&lt;p>  后来这平板有一天突然充不了电、开不了机，我尝试修但没成功，就放到抽屉里了。&lt;/p>
&lt;h3 id="第三部平板-ipad2018">第三部平板 iPad2018&lt;/h3>
&lt;p>  这部平板是18年春发布的，当年正值我高考，考前几个月我就一直想要了，上大学之后，我把switch卖了买了一部 iPad2018。&lt;/p>
&lt;p>  主要是在当时，这是唯一一个手写笔好用，而且价格还便宜的平板，平板+笔花了共 3099.&lt;/p>
&lt;p>  说实话，如果考虑影音的话，它反而没有上一部华为平板好（单扬声器、非全贴合4:3屏幕真的不适合看片），但我主要是用来记笔记、看书，所以还是挺好用的。&lt;/p>
&lt;p>  我大一、大二所有的笔记都在上面。我主要的笔记软件是 Notability，因为它可以录音（但我几乎不会回放录音，录音只是一个心里安慰😂）。在平板上写字不如在纸上写字，写起来容易打滑，而且字迹大小也不好控制，我写了大概一个月才适应。写完之后可以同步到 icloud 上，也可以同步到自己的 NAS 上。当时我是课堂上唯一一个用平板记笔记的学生，现在几乎1/3的人都有平板。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/review/pad/iPad_2018.png"
loading="lazy"
alt="iPad 2018"
>&lt;/p>
&lt;p>  但现在我觉得没什么必要用它记笔记了，自从我大二时开设了网站后，我的笔记都写成 Markdown 并传到网站上，打字比手写快，比手写美观（我的字不咋地），而且还能随时随地看，还能分享给别人。&lt;/p>
&lt;h2 id="下一部平板">下一部平板&lt;/h2>
&lt;p>  随着软件不断升级，iPad 2018 已经开始出现闪退的迹象。而且我的 iPad 只有 32GB 的容量，这让我根本不敢下很多软件，也不敢存太多文件。所以我开始物色下一部平板。&lt;/p>
&lt;p>  我对下一部平板如下一些要求。&lt;/p>
&lt;p>  首先，我希望它能够连接磁吸键盘，这样就带到课堂上写 Markdown 笔记，也可以写写代码。在此我要吐槽一下苹果的磁吸键盘，最便宜的也要一千多，抢钱啊！但我有点纠结的是，平板+键盘也要 850g，而我的笔记本电脑也才 1330g，多 500g 好像也不是很重……&lt;/p>
&lt;p>  至于笔的话，我倒是无所谓。当然有笔就更好的，这样平时可以画画重点，可以带到实验室拿来记数据（不过貌似大部分实验数据可以导出为csv文件），也可以在电子文档上签名（省去打印-签名-扫描的时间）。&lt;/p>
&lt;p>  然后我希望最好是 LPDDR5+UFS3.1，省电而且读写速度更快。如果是 LPDDR4x，则必须要有USB3.x，这样方便拷文件。&lt;/p>
&lt;p>  另外最好有HDMI输出的功能吧，这样的话就可以彻底告别笔记本电脑了，到时候宿舍里放一个服务器，然后平板连服务器，平板再HDMI直出到显示器，顺便接个键鼠，想想就觉得很不错。但感觉各个厂商的系统或多或少都有点问题，比如不能填满显示屏、锁30帧、不能扩展、不能息屏等等。所以我只是觉得“最好有”，而不是“必须有”。&lt;/p>
&lt;p>  最后，一个无奈的选择是我的预算是 3k 以下，考虑上笔的话 4k 以内。所以，iPad pro 就别想了……&lt;/p>
&lt;p>  那么，市面上就只有如下这些选择（越靠前越好），顺便列一下缺点：&lt;/p>
&lt;ol>
&lt;li>华为matepad11：略贵&lt;/li>
&lt;li>小新pad pro2021：oled、系统、笔不行&lt;/li>
&lt;li>小米平板5 pro：usb2.0、系统、笔有点不行&lt;/li>
&lt;li>iPad 2021：略贵、屏幕不行、系统封闭&lt;/li>
&lt;li>小新pad plus：屏幕不行、系统、性能差、笔不行&lt;/li>
&lt;/ol>
&lt;p>  这些平板的优劣网上都有，我简单说一下我的选择：&lt;/p>
&lt;ul>
&lt;li>如果是学生党拿来做笔记，那么除了小新外都可买，推荐买华为或iPad；&lt;/li>
&lt;li>如果只是单纯看PPT、网课，那么小新pad plus性价比最高；&lt;/li>
&lt;li>如果想拿来轻办公，小米和华为是不错的选择；&lt;/li>
&lt;li>如果希望有极致影音，那么华为、小米、小新pad pro都可以；&lt;/li>
&lt;li>如果是玩游戏，那么选择小米和小米pad pro&lt;/li>
&lt;/ul>
&lt;p>总结一下：&lt;/p>
&lt;ul>
&lt;li>性能：iPad 2021&amp;gt;小米平板5 pro≈小新pad pro&amp;gt;华为matepad 11&amp;raquo;小新pad plus&lt;/li>
&lt;li>屏幕：小米平板5 pro≈华为matepad 11&amp;gt;小新pad pro&amp;gt;iPad 2021≈小新pad plus&lt;/li>
&lt;li>手写笔：iPad 2021&amp;gt;华为matepad 11&amp;gt;小米平板5 pro&amp;gt;小新pad pro&amp;gt;小新pad plus&lt;/li>
&lt;li>价格：iPad 2021&amp;gt;华为matepad 11&amp;gt;小米平板5 pro&amp;gt;小新pad pro&amp;gt;小新pad plus&lt;/li>
&lt;li>手写笔价格：iPad 2021&amp;gt;华为matepad 11&amp;gt;小米平板5 pro≈小新pad pro=小新pad plus&lt;/li>
&lt;/ul>
&lt;p>  但说实在，这些都一般般。我建议要么用小新pad plus凑合一下（仅用于影音网课），然后等到明年出新品卖掉换个好的；要么就加钱上更好的。加钱的话，可以考虑：三星Tab S7，3799（包括笔），虽说是去年（2020）出的，但配置放到今年（2021）也不过时：三星的笔是最好的（个人觉得值六七百元）、三星的屏幕也是最好的（比上面列出的都好）。如果你没钱又急需今年买，那么最推荐的，还是华为matepad 11.&lt;/p>
&lt;p>  啊，对了，3000~4000 价位还有 iPad Air4 可以选择。但是嘛，Air4 的处理器是A14，而比它低价的 iPad mini6 却是A15，而比它高一千多的 iPad Pro 是 M1，夹在中间的 Air 反而是最差的……总感觉有点小亏（虽然A14也很好）&lt;/p>
&lt;p>  最后说一下存储规格，我个人觉得，对于平板，6+64是最低限度，6+128可以用得比较舒服，有条件的话上6+256/8+256。至于8+128就没什么必要了。但注意一定要 UFS3.1+LPDDR4X 或 UFS3.1+LPDDR5.&lt;/p>
&lt;h2 id="后续">后续&lt;/h2>
&lt;p>2021/12/02&lt;/p>
&lt;p>看了一下自己的钱包，奖学金+旧iPad已经有四千元了，那为什么不整台 iPad Pro 呢！现在唯一的问题就是直接买2021还是等2022。考虑到现在不急着用，还是安心等2022吧。&lt;/p>
&lt;p>根据小道消息，iPad Pro 2022 会在明年上半年发布，可能会有新的外观设计（logo横置、后壳换玻璃）、M2 处理器以及 11 寸会上 mini led，甚至会有新的 Apple pencil（希望不要有）。&lt;/p></description></item><item><title>(PPT)HCD建模</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-10-08-hci-model/</link><pubDate>Fri, 08 Oct 2021 14:00:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-10-08-hci-model/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h2>热载流子损伤(HCD)建模&lt;/h2>
&lt;h3>10/08 工作报告&lt;/h3>
&lt;p>周镇峰&lt;/p>
&lt;/section>
&lt;section>
&lt;h3>目录&lt;/h3>
&lt;ol>
&lt;li>了解主要的HCD物理模型&lt;/li>
&lt;li>了解可靠性模拟器BERT的工作原理&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!-- 物理模型 -->
&lt;section>
&lt;h3>HCD物理模型&lt;/h3>
&lt;ol>
&lt;li>&lt;strong>Hess Model&lt;/strong>：introduce single- and multiple-carrier processes; HCD is controlled by the distribution function(DF)&lt;/li>
&lt;li>&lt;strong>Energy Driven Paradigm by Rauch and LaRosa&lt;/strong>：The fundamental driving force of HCD changes from the maximum electric field to the energy deposited by carriers.&lt;/li>
&lt;li>&lt;strong>Bravaix Model&lt;/strong>：inherits the main features of both the Hess and the Rauch/LaRosa approaches: the interplay between SP- and MP-mechanisms and the idea that HCD is defined by the carrier DF.&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>BERT&lt;/h3>
&lt;img src="./images/hot-carrier/BERT结构.jpg">
&lt;/section>
&lt;section>
&lt;p>首先计算器件退化特征参数AGE&lt;/p>
&lt;div class="twocolumn">
&lt;div>
&lt;p>NMOSFET&lt;/p>
&lt;p>
\[
\int_0^\tau \frac{I_{ds}}{W\cdot H_S} \left[\frac{I_{sub}}{I_{ds}}\right]^{m_s}\dif t
\]
&lt;/p>
&lt;p>$W$ 宽度；$H_s,m_s$ 工艺相关的常数；$I_{sub}$ 衬底电流；$I_{ds}$ 漏电流；$t$ 应力时间&lt;/p>
&lt;/div>
&lt;div>
&lt;p>PMOSFET&lt;/p>
&lt;p>
\[
\int_0^\tau \frac{1}{H}\left[\frac{I_g}{W}\right]^{m_g} \dif t
\]
&lt;/p>
&lt;p>$H_g,m_g$ 常数；$I_g$ 栅电流&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;p>再利用器件退化特征参数AGE计算器件电学退化量（两种方法）&lt;/p>
&lt;ul>
&lt;li>
&lt;p>参数建模法：建立器件参数与AGE的关系&lt;/p>
&lt;p>
\[
\Delta P_i=f(AGE)
\]
&lt;/p>
&lt;p>$P_i$ 可以为 $V_t$,$V_{dsat}$,$R_d$ 等参数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$\Delta I_D$建模法：直接采用AGE来反映$\Delta I_D$的变化&lt;/p>
&lt;p>
\[
\Delta I_D = g(AGE)
\]
&lt;/p>
&lt;p>实验拟合确定&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;p>两种方法比较：&lt;/p>
&lt;table>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>优点&lt;/td>
&lt;td>缺点&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>参数建模法&lt;/td>
&lt;td>物理意义直观&lt;/td>
&lt;td>参数很难提取、通用性差&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>$\Delta I_D$建模法&lt;/td>
&lt;td>方便、和实验吻合好&lt;/td>
&lt;td>物理含义不直观&lt;/td>
&lt;/tr>
&lt;/table>
&lt;p>目前多采用$\Delta I_D$建模法&lt;/p>
&lt;/section>
&lt;section>
&lt;p>BERT模拟过程&lt;/p>
&lt;img src="./images/hot-carrier/BERT计算AGE参数.jpg">
&lt;ul>
&lt;li>器件电压状态决定下一时间的老化参数&lt;/li>
&lt;li>老化参数会改变下一时间的器件工作电压&lt;/li>
&lt;li>间隔时间 $\Delta t \geq 0$，与实际情况相符合&lt;/li>
&lt;/ul>
&lt;/section>
&lt;/section>
&lt;section>
&lt;p>主要参考文献&lt;/p>
&lt;ol>
&lt;li>S. Tyaginov and T. Grasser, “Modeling of hot-carrier degradation: Physics and controversial issues”&lt;/li>
&lt;li>R. H. Tu et al., “Berkeley reliability tools-BERT”&lt;/li>
&lt;li>H. Yonezawa et al., “Ratio based hot-carrier degradation modeling for aged timing simulation of millions of transistors digital circuits”&lt;/li>
&lt;li>&lt;a href="https://www.iue.tuwien.ac.at/phd/starkov/starkov.html">Ivan Starkov, "Comprehensive Physical Modeling of Hot-Carrier Induced Degradation"&lt;/a>&lt;/li>
&lt;/ol>
&lt;/section>
&lt;section>
&lt;p>谢谢聆听&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>旅行物品清单</title><link>https://todd.scuteee.com/posts/2021/2021-10-01-travel-package/</link><pubDate>Fri, 01 Oct 2021 23:26:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-10-01-travel-package/</guid><description>&lt;h2 id="行李清单广州trip">行李清单（广州trip）&lt;/h2>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 文件类
&lt;ul>
&lt;li>身份证&lt;/li>
&lt;li>学生证&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 洗护用品
&lt;ul>
&lt;li>毛巾&lt;/li>
&lt;li>牙刷、牙膏&lt;/li>
&lt;li>梳子&lt;/li>
&lt;li>防晒霜&lt;/li>
&lt;li>化妆用品&lt;/li>
&lt;li>女性卫生用品（卫生巾等）&lt;/li>
&lt;li>男性卫生用品（剃须刀等）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 衣物（针对10月的广州）
&lt;ul>
&lt;li>头饰：发带、帽子(可选)&lt;/li>
&lt;li>上衣：短袖2~3件、薄外套&lt;/li>
&lt;li>下装：短裤、薄长裤、裙子(可选)&lt;/li>
&lt;li>内衣、袜子、冰袖(可选)&lt;/li>
&lt;li>睡衣(可选)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 电子设备
&lt;ul>
&lt;li>手机&lt;/li>
&lt;li>充电宝、充电器、充电线&lt;/li>
&lt;li>相机、SD卡、支架&lt;/li>
&lt;li>耳机&lt;/li>
&lt;li>电脑&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 其他
&lt;ul>
&lt;li>钥匙&lt;/li>
&lt;li>口罩&lt;/li>
&lt;li>纸巾&lt;/li>
&lt;li>晴雨伞&lt;/li>
&lt;li>水杯&lt;/li>
&lt;li>花露水&lt;/li>
&lt;li>一点点现金&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="另一个更详细的清单">另一个更详细的清单&lt;/h2>
&lt;h3 id="证件">证件&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 身份证&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 学生证&lt;/li>
&lt;/ul>
&lt;h3 id="电子产品">电子产品&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 手机、自拍杆&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 耳机&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 相机、脚架&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 储存卡&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 充电宝&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 充电器、线&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 电脑&lt;/li>
&lt;/ul>
&lt;h3 id="生活服务">生活服务&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 钥匙&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 伞&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 水杯&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 口罩&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 纸巾&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 眼罩&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 耳塞&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 保鲜袋&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 零钱&lt;/li>
&lt;/ul>
&lt;h3 id="洗护用品">洗护用品&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 毛巾、浴巾&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 牙刷&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 牙膏&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 漱口水&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 沐浴露&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 洗发水&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 洗面奶&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 梳子&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 剃须刀&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 女性卫生用品&lt;/li>
&lt;/ul>
&lt;h3 id="衣物">衣物&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 衣服&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 裤子&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 鞋、拖鞋&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 睡衣&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 袜子&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 内衣&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 内裤&lt;/li>
&lt;/ul>
&lt;h3 id="化妆品">化妆品&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 化妆水&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 日霜&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 晚霜&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 防晒霜&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 妆前&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 粉底&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 眉笔&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 散粉&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 高光&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 腮红&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 修容&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 眼影&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 睫毛膏&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 口红&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 刷子&lt;/li>
&lt;/ul>
&lt;h3 id="药物">药物&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 花露水&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 风油精&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 晕车药&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 创可贴&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 感冒药&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 止泻药&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 个人疾病常备药&lt;/li>
&lt;/ul>
&lt;h3 id="heading">？？？&lt;/h3>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> condom（If you travel with your girlfriend and she agrees😀）&lt;/li>
&lt;/ul>
&lt;p>Well, as a straight guy, I do lust for my girlfriend&amp;rsquo;s body, but I also understand that girls are conservative on sex. Therefore I won&amp;rsquo;t push it (even though I really wanna try)&lt;/p>
&lt;h2 id="祝旅途愉快">祝旅途愉快&lt;/h2></description></item><item><title>广州旅游指南（多图预警）</title><link>https://todd.scuteee.com/posts/2021/2021-09-15-guangzhou-trip/</link><pubDate>Thu, 16 Sep 2021 11:36:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-09-15-guangzhou-trip/</guid><description>&lt;p>国庆出游计划&lt;/p>
&lt;!-- 说来惭愧，在广州读了快四年的大学，从来没有好好游历广州，我总觉得广州和佛山差不多，无非就是多了点大城市的喧嚣，那么我为什么要此文呢？说来话长，简单来说就是我要带女友玩，为了给她一个好印象，因此我要做好功课✍。也因为要带女友玩，所以安排行程时有一些东西需要注意：
1. 广州不是山区，别像上次爬黄山那样舍不得坐车，地铁、公交、APM、共享单车、打车，总之能少走就少走！
2. 人家第一次来，能多陪就多陪，别嫌麻烦，另外有咩事都同人地讲清楚（有什么事都和人家说清楚），这样别人才会信你
3. 广州的天气晒得很，注意别把人家女孩子晒黑了，提醒她涂防晒霜，你也要帮她打遮阳伞 -->
&lt;h2 id="广州概况">广州概况&lt;/h2>
&lt;p>百度百科：&lt;/p>
&lt;blockquote>
&lt;p>广州，位于广东珠江三角洲北部，濒临南海，为西江、北江、东江三江汇合处。相传古代有五位仙人，骑五色羊，各携带一串谷穗降临此处，仙人把谷穗赠给居民，祝福此地五谷丰登、永无饥荒。后仙人飘然而去，留下五羊化为石头。因此，后人又称广州为“羊城”、“五羊城”、“仙城”、“穗城”。广州是国家历史文化名城，从秦朝开始一直是郡治、州治、府治的行政中心；广州从3世纪30年代起成为海上丝绸之路的主港，唐宋时期成为中国第一大港，是世界著名的东方港市；明清两代成为中国唯一的对外贸易大港，是世界上唯一的2000多年长盛不衰的大港。&lt;/p>
&lt;/blockquote>
&lt;p>冷知识：广州最好吃的雪糕是“五羊牌”雪糕。&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/trip/guangzhou/%e5%b9%bf%e5%b7%9e%e5%b8%82%e5%8c%ba.jpg"
loading="lazy"
alt="广州市区"
>&lt;/p>
&lt;h3 id="行政划分">行政划分&lt;/h3>
&lt;p>根据 2014年4月5日 &lt;a class="link" href="http://www.gz.gov.cn/zwgk/fggw/szfwj/content/post_4757482.html" target="_blank" rel="noopener"
>《广州市人民政府关于我市部分行政区划调整的通知》&lt;/a>，广州市分为 11 区：&lt;strong>越秀区&lt;/strong>、&lt;strong>海珠区&lt;/strong>、&lt;strong>荔湾区&lt;/strong>、&lt;strong>天河区&lt;/strong>、白云区、黄埔区、花都区、番禺区、 南沙区、从化区、增城区（见下图），加粗的是市中心周围的区，也是我们主要游历的地方。另外，毗邻广州西南边的佛山也值得一去哦！&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/trip/guangzhou/%e5%b9%bf%e5%b7%9e%e8%a1%8c%e6%94%bf%e5%9c%b0%e5%9b%be.jpg"
loading="lazy"
alt="广州行政地图"
>&lt;/p>
&lt;h3 id="交通">交通&lt;/h3>
&lt;p>广州有非常完善的地铁网络（点击下图查看大图），其中尤为要注意的是 3 号线，它纵穿广州市中心，是广州最拥挤的线路，被称为“死亡3号线”。为了缓解 3 号线的压力，又在市中心建了 APM 线，APM 线只有两节车厢，没有车头车尾，是无人驾驶的哦。除此之外，广州有一路延珠江行驶的有轨电车，也可以去坐一下。&lt;/p>
&lt;a data-fancybox="广州地铁" data-src="../images/trip/guangzhou/广州地铁.gif">
&lt;img src="../images/trip/guangzhou/广州地铁.gif" />
&lt;/a>
&lt;p>广州地铁、广州公交均支持全国交通一卡通，如果你的交通卡上有“交通互联”的字样，就能在广州使用。另外，广州也支持微信扫码乘车，需要在小程序“广州地铁乘车码”、“羊城通乘车码”领取地铁、公交的交通卡，领完后，在微信-卡包-交通卡中就可以使用啦！另外，如果要去佛山的话，建议再领一张广佛通（好像在微信乘车中）。&lt;/p>
&lt;h3 id="气候">气候&lt;/h3>
&lt;p>全年中，4至6月为雨季，7至9月天气炎热，多台风，10月、11月、和3月气温适中，12至2月为阴凉的冬季。这么看来，国庆很适合来玩，主要还是穿短袖，怕空调冷的话可以带件衬衫。&lt;/p>
&lt;h3 id="更多">更多&lt;/h3>
&lt;p>想要了解更多关于广州的故事，可以看看这些资料：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/52681728" target="_blank" rel="noopener"
>知乎：有什么关于广州的冷知识？&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/288241922" target="_blank" rel="noopener"
>知乎：什么是你去了广州才知道的事情？&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="广州景点">广州景点&lt;/h2>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://travels.wenzhixin.net.cn/#/" target="_blank" rel="noopener"
>游遍广州&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="广州塔">广州塔&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/广州塔.jpg">
&lt;img src="../images/trip/guangzhou/广州塔.jpg" />
&lt;/a>
&lt;blockquote>
&lt;p>广州塔（英语：Canton Tower）又称广州新电视塔，昵称小蛮腰。位于广州市海珠区（艺洲岛）赤岗塔附近，距离珠江南岸 125 米，与珠江新城、花城广场、海心沙岛隔江相望。广州塔塔身主体高 454 米，天线桅杆高 146 米，总高度 600 米 。是中国第一高塔，世界第二高塔，仅次于东京晴空塔，是国家 AAAA 级旅游景区。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>官方网站：&lt;a class="link" href="http://www.cantontower.com/" target="_blank" rel="noopener"
>http://www.cantontower.com/&lt;/a>&lt;/li>
&lt;li>地址：广东省广州市海珠区阅江西路 222 号&lt;/li>
&lt;li>交通：可搭乘地铁 3 号线、APM 线、有轨电车，在广州塔站下车&lt;/li>
&lt;li>门票：成人票150元/人；儿童票/优惠票75元/人（详情见官方网站）&lt;/li>
&lt;li>开放时间：分时段观光游览，门票以2小时为一个时段（第一个时段为2.5小时），全天共六个时段，具体为：
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>序号&lt;/th>
&lt;th>入塔时段&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>9:30 - 12:00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>12:00 - 14:00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>14:00 - 16:00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>16:00 - 18:00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>18:00 - 20:00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>20:00 - 22:00&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;li>评价：
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/281711161/answer/443775109" target="_blank" rel="noopener"
>广州塔上去要钱吗？上面有什么好玩的吗？ - Bronze的回答 - 知乎&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1zv41167G5" target="_blank" rel="noopener"
>广州塔一日游VLOG/400块一张门票值不值？&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1HJ411C7TQ" target="_blank" rel="noopener"
>陈子豪随拍系列：带大家参观小蛮腰&amp;quot;广州塔&amp;quot;！&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div style="position: relative; padding: 30% 45%;">
&lt;iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?aid=245132173&amp;bvid=BV1zv41167G5&amp;cid=254694331&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">&lt;/iframe>
&lt;/div>
&lt;h3 id="沙面">沙面&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/沙面.jpg">
&lt;img src="../images/trip/guangzhou/沙面.jpg" />
&lt;/a>
&lt;blockquote>
&lt;p>沙面，曾称拾翠洲，因为是珠江冲积而成的沙洲，故名沙面。 沙面位于广东省广州市市区西南部，南濒珠江白鹅潭，北隔沙基涌，与六二三路相望的一个小岛，有大小街巷八条，面积 0.3 平方公里。 沙面在宋、元、明、清时期为中国国内外通商要津和游览地。鸦片战争后，在清咸丰十一年（1861 年）后沦为英、法租界。 沙面是广州重要商埠，历经百年，曾有十多个国家在沙面设立领事馆，九家外国银行、四十多家洋行在沙面经营，粤海关会所、广州俱乐部等在沙面相继成立。沙面见证了广州近代史的变迁，留下了孙中山先生、周恩来总理等伟人的足迹，沙面已成为我国近代史与租界史的缩影，沙面岛上欧陆风情建筑形成了独特的露天建筑“博物馆”。已被开发成国家 5A 级景区，是广州著名的旅游区、风景区和休闲胜地。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>门票：免费&lt;/li>
&lt;li>开放时间: 全天&lt;/li>
&lt;li>交通：羊城地铁 6 号线或 2 号线【黄沙站】下车，走 F 出口，再过天桥，就到了沙面的西端。6 号线【文化公园】站下车，就是沙面的东端&lt;/li>
&lt;li>评价：
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/337571679/answer/801341035" target="_blank" rel="noopener"
>去广州「沙面」有哪些实用攻略和好的建议？ - Anna Christina的回答 - 知乎&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div style="position: relative; padding: 30% 45%;">
&lt;iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?aid=63195472&amp;bvid=BV1b4411D7YJ&amp;cid=109751929&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">&lt;/iframe>
&lt;/div>
&lt;h3 id="越秀公园">越秀公园&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/越秀公园.jpg">
&lt;img src="../images/trip/guangzhou/越秀公园.jpg" />
&lt;/a>
&lt;blockquote>
&lt;p>越秀公园是广州城市中心公园，是新世纪羊城八景之一，它与白云山联成广州城北的屏障。海拨70余米。历史上又称粤秀山、越王山。明朝永乐年间，山上曾建观音阁，所以又称观音山。越秀山早在西汉时期便是登临胜地。到了近代，孙中山先生曾提出，要把越秀山建成一座大公园。解放后，人民政府把设想变成了现实。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>官网：&lt;a class="link" href="http://www.yuexiupark-gz.com/" target="_blank" rel="noopener"
>http://www.yuexiupark-gz.com/&lt;/a>&lt;/li>
&lt;li>门票：免费，中山纪念堂是10元门票&lt;/li>
&lt;li>交通：地铁二号线【越秀公园站】&lt;/li>
&lt;li>评价：
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/39455711" target="_blank" rel="noopener"
>越秀公园+中山纪念馆 - 鱼书房的文章 - 知乎&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="石室圣心大教堂">石室圣心大教堂&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/石室圣心大教堂.jpg">
&lt;img src="../images/trip/guangzhou/石室圣心大教堂.jpg" />
&lt;/a>
&lt;blockquote>
&lt;p>圣心大教堂于1863年6月18日圣心瞻礼日正式举行奠基典礼，故命名圣心大教堂。历时25年始建成，是天主教广州教区最宏伟、最具有特色的一间大教堂。石室圣心大教堂由法国设计师设计，中国工匠建造而成。 教堂建筑总面积为2754平方米，东西宽35米，南北长78.69米，由地面到塔尖高58.5米，石室圣心大教堂1861年耗资40万法郎建立，可与闻名世界的法国巴黎圣母院相媲美。是天主教广州教区最大教堂，国内现存最宏伟的双尖塔哥特式建筑之一，东南亚最大的石结构天主教建筑，也是全球四座全石结构哥特式教堂建筑之一（另外三座是巴黎圣母院、威斯敏斯特教堂、科隆大教堂），由于教堂的全部墙壁和柱子都是用花岗岩石砌造，所以又称之为“石室”或“石室耶稣圣心堂”、“石室天主教堂”。1996年被公布为全国重点文物保护单位。是广东省重点文物保护单位。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>门票: 免费&lt;/li>
&lt;li>开放时间：（存疑）
&lt;ul>
&lt;li>疫情期间：室内暂停开发，只能在外围游览&lt;/li>
&lt;li>原开放时间：周二到周五8:30-11:30，14:30-17:00；周六、周日8:30-17:00，周一不开放&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>交通：地铁 6 号线到【一德路站】A 出口步行 470 米即到；地铁 2 号线到【海珠广场站】B2 出口步行590米即到。哥特式建筑十分显眼。&lt;/li>
&lt;/ul>
&lt;div style="position: relative; padding: 30% 45%;">
&lt;iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?aid=375136830&amp;bvid=BV1Yo4y1f7xA&amp;cid=326822455&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">&lt;/iframe>
&lt;/div>
&lt;h3 id="陈家祠">陈家祠&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/陈家祠.jpg">
&lt;img src="../images/trip/guangzhou/陈家祠.jpg" />
&lt;/a>
&lt;blockquote>
&lt;p>陈氏书院，俗称陈家祠，位于广州市中山七路。陈氏书院筹建于清光绪十四年（1888），二十年（1894）落成，是广东省各地陈氏宗族共同捐资兴建的“合族祠”。其建立主要为参与捐资的陈氏宗族子弟赴省城备考科举、候任、交纳赋税、诉讼等事务提供临时居所。作为捐资的回报，这些陈氏宗族可以将其祖先牌位放到陈氏书院的神龛内供奉。 陈氏书院是广东规模最大、装饰华丽、保存完好的传统岭南祠堂式建筑，占地面积15000平方米，主体建筑面积为6400平方米，由大小十九座单体建筑组成。 陈氏书院集中了广东民间建筑装饰艺术之大成，巧妙运用木雕、砖雕、石雕、灰塑、陶塑、铜铁铸和彩绘等装饰艺术。其题材广泛、造型生动、色彩丰富、技艺精湛，是一座民间装饰艺术的璀璨殿堂。 21世纪以来，陈氏书院以“古祠流芳”之名两度入选“新世纪羊城八景”，被誉为“广州文化名片”，成为岭南地区最具文化艺术特色的博物馆和著名的旅游景点。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>官网：&lt;a class="link" href="https://www.gzchenjiaci.com/" target="_blank" rel="noopener"
>https://www.gzchenjiaci.com/&lt;/a>&lt;/li>
&lt;li>门票：￥10元（未成年人、60以上长者免费，学生半价）
&lt;ul>
&lt;li>所有国内外观众（包括按相关规定享受优惠政策的观众）均需通过微信“广东民间工艺博物馆服务号” 网络实名制预约购票。我馆不再提供现场购票服务。&lt;/li>
&lt;li>预订了优惠票的观众，在进馆时除了身份证以外还需出示学生证、老人证、军官证、残疾人证等相应优惠证件供检票人员查验后进馆。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>开放时间：9：00——17：30（17：00停止售票，17：00停止入馆，17：15清场，17：30闭馆）。除每月最后一周的周一为闭馆检修日外（如遇国家法定假日，则顺延），全年开放。&lt;/li>
&lt;li>交通：乘坐地铁 1 号线在【陈家祠站】下车。&lt;/li>
&lt;li>历史：&lt;a class="link" href="https://www.bilibili.com/video/BV1Kt4y167KH" target="_blank" rel="noopener"
>《陈家祠的故事》&lt;/a>&lt;/li>
&lt;/ul>
&lt;div style="position: relative; padding: 30% 45%;">
&lt;iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?aid=26005578&amp;bvid=BV1hs411G74H&amp;cid=90338879&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">&lt;/iframe>
&lt;/div>
&lt;h3 id="广东省博物馆">广东省博物馆&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/广东省博物馆.jpg">
&lt;img src="../images/trip/guangzhou/广东省博物馆.jpg" />
&lt;/a>
&lt;ul>
&lt;li>官网：&lt;a class="link" href="http://www.gdmuseum.com/" target="_blank" rel="noopener"
>http://www.gdmuseum.com/&lt;/a>&lt;/li>
&lt;li>门票：免费
&lt;ul>
&lt;li>所有观众均需预约（微信公众号“广东省博物馆”），预约成功后，请在预约时段内持预约实体证件至博物馆西门&lt;/li>
&lt;li>最多可预约七天内门票（含当天）&lt;/li>
&lt;li>每张有效身份证件每天限定预约一次，每个账号每天最多实名预约5人。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>开放时间：全年 周二至周日 09:00-17:00 周一 不开放；中国法定节假日 09:00-17:00&lt;/li>
&lt;li>交通：地铁3号线【珠江新城站】B1出口，向前行至广州歌剧院，再沿临江大道向东行200米；或地铁5号线【猎德站】D出口，向前行至冼村路，再向左沿冼村路南方向行约200米。APM【大剧院站】B出口，乘扶梯至花城广场，右行到博物馆西门。&lt;/li>
&lt;li>其他：
&lt;ul>
&lt;li>&lt;a class="link" href="http://www.gdmuseum.com/gdmuseum/_300882/_300886/371115/index.html" target="_blank" rel="noopener"
>参观线路推荐&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/333885951/answer/1569342398" target="_blank" rel="noopener"
>广东省博物馆怎么样？值得去吗？ - 韩德雨的回答 - 知乎&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div style="position: relative; padding: 30% 45%;">
&lt;iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?aid=416776290&amp;bvid=BV15V411q7JA&amp;cid=299809370&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">&lt;/iframe>
&lt;/div>
&lt;h3 id="广州海洋馆">广州海洋馆&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/广州海洋馆.jpg">
&lt;img src="../images/trip/guangzhou/广州海洋馆.jpg" />
&lt;/a>
&lt;ul>
&lt;li>官网：&lt;a class="link" href="https://www.gzzoo.com/" target="_blank" rel="noopener"
>https://www.gzzoo.com/&lt;/a>&lt;/li>
&lt;li>门票：120元&lt;/li>
&lt;li>地址：广东省广州市越秀区先烈中路120号广州动物园内&lt;/li>
&lt;li>开放时间：（目前貌似闭馆）08:00-16:00(北门) 08:00-15:30(南门)&lt;/li>
&lt;li>交通：广州地铁5号线【动物园站】、广州地铁6号线【黄花岗站】&lt;/li>
&lt;/ul>
&lt;h3 id="广州正佳极地海洋世界">广州正佳极地海洋世界&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/广州正佳海洋馆.jpg">
&lt;img src="../images/trip/guangzhou/广州正佳海洋馆.jpg" />
&lt;/a>
&lt;ul>
&lt;li>门票：成人票220元/人（学生票有优惠）&lt;/li>
&lt;li>地址：天河区天河路228号正佳购物广场4层&lt;/li>
&lt;li>开放时间：全年 10:00-22:00(最晚入园21:30)；营业时间日场10：00-18：00，夜场18：00-22：00，21：30停止检票入园。&lt;/li>
&lt;li>交通： 乘坐地铁1号线，在【体育中心站】下车，从D3口出站&lt;/li>
&lt;li>其他：
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1L5411t7bL?share_source=copy_web" target="_blank" rel="noopener"
>广州正佳海洋馆美人鱼表演完整版&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.mafengwo.cn/gonglve/ziyouxing/242698.html" target="_blank" rel="noopener"
>广州正佳极地海洋世界游玩攻略&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div style="position: relative; padding: 30% 45%;">
&lt;iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?aid=89913504&amp;bvid=BV1S74117713&amp;cid=153564366&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">&lt;/iframe>
&lt;/div>
&lt;h3 id="北京路商业步行街">北京路商业步行街&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/北京路.jpg">
&lt;img src="../images/trip/guangzhou/北京路.jpg" />
&lt;/a>
&lt;ul>
&lt;li>交通：6号线到【北京路站】B口或2号线、1号线【公园前站】C出口、D出口&lt;/li>
&lt;li>小吃：
&lt;ul>
&lt;li>陈添记鱼皮&lt;/li>
&lt;li>北京路一直往下走，右转有条惠福东路，整条路都是小吃街。&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/36786922" target="_blank" rel="noopener"
>广州北京路，老字号和人气网红美食都扎堆于此！&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/35563988" target="_blank" rel="noopener"
>广州游玩必去的北京路，本地人会带你吃哪些馆子？ - 半岛便利店的文章 - 知乎&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="上下九步行街">上下九步行街&lt;/h3>
&lt;a data-fancybox="景点" data-src="../images/trip/guangzhou/上下九步行街.jpg">
&lt;img src="../images/trip/guangzhou/上下九步行街.jpg" />
&lt;/a>
&lt;blockquote>
&lt;p>上下九步行街地处广州市荔湾区（俗称西关）的上九路、下九路、第十甫路之间，是广州市三大传统繁荣商业中心之一。全长约1237米，共有各类商业店铺238间和数千商户。在漫长的历史长河中，逐步形成了当今商业步行街中西合璧的四大西关风情特色，并构筑成一副独特的、绚丽多姿的西关风情画，营造出亮丽的旅游风景线。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>交通：6号线到【文化公园站】E口&lt;/li>
&lt;li>小吃：
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/61573628" target="_blank" rel="noopener"
>2019.4.6 上下九步行街吃 - 家宏的文章 - 知乎&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="其他">其他&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/36252222" target="_blank" rel="noopener"
>广州本地人绝对不会去的十大景点 - 阿丽菜的文章 - 知乎&lt;/a> 广州塔、上下九、北京路、白云山、陈家祠、石室圣心大教堂、越秀公园、黄埔军校旧址、天河北商圈、珠江夜游&lt;/li>
&lt;/ul>
&lt;h2 id="广州饮食">广州饮食&lt;/h2>
&lt;p>我没怎么去外面下馆子，因此我也不清楚广州有哪些正宗的粤菜馆，下面这些都是从网上找的。为了方便旅途中查找，我这里按店铺位置分类（而非菜品），并且店铺名点进去就是美团。&lt;/p>
&lt;p>为了方便打卡，另外列出菜品：&lt;/p>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 云吞面、竹升面&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 肠粉&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 河粉&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 牛杂&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 烧腊（烧鸭、烧鹅、叉烧）&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 煲仔饭&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 鱼皮&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 艇仔粥&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 双皮奶&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 姜撞奶&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> （早茶）凤爪、虾饺、牛肚等&lt;/li>
&lt;/ul>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/19752381" target="_blank" rel="noopener"
>知乎：广州著名小食有哪些？地道的店在哪里？&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="荔湾区">荔湾区&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/6261787" target="_blank" rel="noopener"
>丽的面家&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：多宝路296-298号（地铁1号线长寿路D口）&lt;/li>
&lt;li>人均：44元&lt;/li>
&lt;li>推荐菜品：鲜虾云吞面&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/517311" target="_blank" rel="noopener"
>源记肠粉&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：华贵路93号&lt;/li>
&lt;li>人均：16元&lt;/li>
&lt;li>推荐菜品：肠粉、粥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/518656" target="_blank" rel="noopener"
>顺记冰室&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：宝华路83号&lt;/li>
&lt;li>人均：25元&lt;/li>
&lt;li>推荐菜品：雪糕（香芒、椰子、榴莲）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/518659" target="_blank" rel="noopener"
>陈添记&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：宝华路六福珠宝对面（巷子最里面）&lt;/li>
&lt;li>人均：25元&lt;/li>
&lt;li>推荐菜品：鱼皮+艇仔粥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/520070" target="_blank" rel="noopener"
>文记壹心鸡&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：宝华路旋源桥10号（顺记冰室斜对面小巷内）&lt;/li>
&lt;li>人均：82元&lt;/li>
&lt;li>推荐菜品：壹心鸡（即白切鸡）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/518986" target="_blank" rel="noopener"
>南信牛奶甜品专家&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：第十甫路47号&lt;/li>
&lt;li>人均：29元&lt;/li>
&lt;li>推荐菜品：双皮奶、姜撞奶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/519233" target="_blank" rel="noopener"
>银记肠粉&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：上九路79号（近光复路）&lt;/li>
&lt;li>人均：22元&lt;/li>
&lt;li>推荐菜品：肠粉、艇仔粥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/520942" target="_blank" rel="noopener"
>珍珍小食店&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：西华路183号&lt;/li>
&lt;li>人均：28元&lt;/li>
&lt;li>推荐菜品：啫啫珍珠粉煲&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/521462" target="_blank" rel="noopener"
>牛佬牛杂汤&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：金花直街135号&lt;/li>
&lt;li>人均：18元&lt;/li>
&lt;li>推荐菜品：牛三星、牛杂汤&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/521698" target="_blank" rel="noopener"
>沙湾甜品食馆&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：西华路第一津33号101铺（近南方幼儿园）&lt;/li>
&lt;li>人均：14元&lt;/li>
&lt;li>推荐菜品：糖水、杏仁炒奶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="越秀区">越秀区&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/517659" target="_blank" rel="noopener"
>富临食府&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：惠福东路417号（点都德对面）&lt;/li>
&lt;li>人均：79元&lt;/li>
&lt;li>推荐菜品：脆皮猪手（评论说易腻）、白灼牛肉&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/8837311" target="_blank" rel="noopener"
>美荣粉店&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：麦栏街16号&lt;/li>
&lt;li>人均：65元（只吃汤粉大概25）&lt;/li>
&lt;li>推荐菜品：汤粉&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/520451" target="_blank" rel="noopener"
>达杨原味炖品&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：文明路160-1号（近文德路）&lt;/li>
&lt;li>人均：22元&lt;/li>
&lt;li>推荐菜品：原只椰子炖鸡&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="海珠区">海珠区&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="http://www.dianping.com/shop/6185268" target="_blank" rel="noopener"
>光明清汤羊&lt;/a>
&lt;ul>
&lt;li>地址：南华中路293号后座108铺&lt;/li>
&lt;li>人均：113元&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="天河区">天河区&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/2885599" target="_blank" rel="noopener"
>潮埕汕头牛丸火锅(体育西横街一店)&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：体育系横街21号&lt;/li>
&lt;li>人均：74元&lt;/li>
&lt;li>推荐菜品：牛肉火锅&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.dianping.com/shop/5142673" target="_blank" rel="noopener"
>牛威达牛庄&lt;/a>&lt;/p>
&lt;ul>
&lt;li>地址：黄埔大道西499号&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="行程安排">行程安排&lt;/h2>
&lt;p>行程可以大致分为三个部分：&lt;/p>
&lt;ol>
&lt;li>广州的文化&lt;/li>
&lt;li>广州的商业&lt;/li>
&lt;li>广州的民风&lt;/li>
&lt;/ol>
&lt;p>由于整个行程中均以地铁为主要的出行方式，因此，我会将地铁站用方括号【】包住。&lt;/p>
&lt;h3 id="day-1-oct-3rd">Day 1 (Oct. 3rd)&lt;/h3>
&lt;p>  我8:30会从北滘打车到【广州南站】（约半个小时），然后搭乘地铁到【机场南】（约一个半小时），预计十点半到。&lt;/p>
&lt;p>  Molly 的航班为 HU7805，8点起飞，11:15到白云机场T1（1号航站楼），对应的地铁站为【机场南】。机场南有A、B两个登机区域，不论哪个区域，拿齐行李后，请前往中间的大厅（点击查看：&lt;a class="link" href="../images/trip/guangzhou/%e7%99%bd%e4%ba%91%e6%9c%ba%e5%9c%baT1.jpg" >航站楼平面图&lt;/a>）&lt;/p>
&lt;p>  我到时候看看能不能上三楼，如果不能（我会微信和你说一声），Molly 你就到负一楼的地铁站。我去到后会找个显眼的参照物作为见面的地点。&lt;/p>
&lt;p>  预计12点前能接到靓女，然后先坐30分钟地铁去吃个午饭。可选的饭店有：&lt;/p>
&lt;p>A. 【梅花园】D出口有“华辉拉肠”和“银记肠粉店”，这两间都是比较出名的肠粉连锁店，比较实惠，不用排队&lt;/p>
&lt;p>B. 【同和】D出口“禄运茶居”，可以去尝一下早茶，但可能需要排队，人均六十多。&lt;/p>
&lt;p>  大概吃完后继续坐地铁到【珠江新城】A2出口（约1h），民宿地址为：铂林国际公寓A座。放好行李后，可选：&lt;/p>
&lt;p>A. 在公寓休息一下，毕竟乘飞机也累了&lt;/p>
&lt;p>B. 去市中心走一下，走一公里就到花城汇了，那边有一大堆商场可以慢慢逛&lt;/p>
&lt;p>  注意，此时要考虑在美团上买第二天的正佳海洋馆的学生票。&lt;/p>
&lt;p>  到4点左右，出发去我学校看一下，大概要30分钟，进去我要回宿舍稍微收拾一下（很快的，就衣服+相机），然后在学校饭堂吃个饭（吃完约5:30），然后骑共享电动车逛一下学校，记得买叉烧菠萝包。&lt;/p>
&lt;p>  大概到7点左右原路返回，回到去约8点，我把行李放回民宿后，可以去海心沙走走（或骑共享单车），晚上的小蛮腰有灯光更好看。&lt;/p>
&lt;h3 id="day-2-oct-4th">Day 2 (Oct. 4th)&lt;/h3>
&lt;p>  7:00 早起去沙面（人少好拍照），然后去石室圣心大教堂，看完预计 10:00，然后去上下九或北京路逛，中午饭也一起解决（记得早点排队，避免餐馆太多人）。&lt;/p>
&lt;p>  然后去海洋馆，晚上回民宿休息（如果不累的话可以再去市中心逛一下，建议这次去走一下海心沙的那个桥）&lt;/p>
&lt;h3 id="day-3-oct-5th">Day 3 (Oct. 5th)&lt;/h3>
&lt;p>  早上去喝早茶，然后去越秀公园逛一下（估计没啥看），然后去南越王博物馆，下午休息，晚上早点睡觉。&lt;/p>
&lt;h3 id="day-4-oct-6th">Day 4 (Oct. 6th)&lt;/h3>
&lt;p>  早起，打车去机场（希望凌晨有车），我会陪同一起去。等上飞机后我再乘地铁回去。&lt;/p></description></item><item><title>(PPT)热载流子损伤效应</title><link>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-09-07-hot-carriers-introduction/</link><pubDate>Tue, 07 Sep 2021 09:32:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/%E4%BA%94%E6%89%80%E5%AE%9E%E4%B9%A0/2021-09-07-hot-carriers-introduction/</guid><description>&lt;style>
.twocolumn {
display: grid;
grid-template-columns: 1fr 1fr;
grid-gap: 10px;
text-align: center;
}
p {
font-size: 80%;
}
&lt;/style>
&lt;div class="reveal">
&lt;div class="slides">
&lt;!-- 标题 -->
&lt;section>
&lt;h2>热载流子损伤效应&lt;/h2>
&lt;h3>工作报告&lt;/h3>
&lt;p>周镇峰&lt;/p>
&lt;/section>
&lt;!-- 热载流子的定义 -->
&lt;section>
&lt;p>前几周的工作：根据MOS器件中HCI（PMOSFET）效应产生的机理，从电路的实际工作过程出发，研究电路中HCI（pMOSFET）效应产生的过程。&lt;/p>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>热载流子的定义&lt;/h3>
&lt;p>在半导体器件（尤其是MOS）中，载流子经过强电场的加速获得极高的动能，由于载流子的动能可以写成 $kT_e$ 来表示，$T_e$ 可高达 1000~10000K，远高于晶格温度，所以称为&lt;strong>热载流子&lt;/strong>&lt;/p>
&lt;/section>
&lt;section>
&lt;blockquote>
&lt;p>&lt;small>
参考：&lt;a href="https://eesemi.com/hotcarriers.htm">[1] Hot Carriers; Hot Electrons - www.EESemi.com&lt;/a>
&lt;/small>&lt;/p>
&lt;/blockquote>
&lt;/section>
&lt;/section>
&lt;!-- 热载流子退化的过程 -->
&lt;section>
&lt;section>
&lt;h3>热载流子退化的过程&lt;/h3>
&lt;img src="./images/hot-carrier/热载流子退化的过程.jpg" width="500">
&lt;/section>
&lt;section>
&lt;blockquote>
&lt;p>&lt;small>
参考：[2] A. Acovic, G. La Rosa, and Y.-C. Sun, “A review of hot-carrier degradation mechanisms in MOSFETs,” Microelectronics Reliability, vol. 36, no. 7–8, pp. 845–869, Jul. 1996, doi: 10.1016/0026-2714(96)00022-4.
&lt;/small>&lt;/p>
&lt;/blockquote>
&lt;/section>
&lt;/section>
&lt;!-- 热载流子的产生机理 -->
&lt;section>
&lt;section>
&lt;h3>四种热载流子的产生机理&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/热载流子的产生.jpg" width="500">
&lt;/div>
&lt;div>
&lt;ol style="text-align:left">
&lt;li>沟道热电子（CHE）&lt;/li>
&lt;li>漏极雪崩热载流子（DAHC）&lt;/li>
&lt;li>二次产生的热电子（SGHE）&lt;/li>
&lt;li>衬底热电子（SHE）&lt;/li>
&lt;/ol>
&lt;/div>
&lt;/div>
&lt;blockquote>&lt;p>&lt;small>
参考：[3] N. Arora, MOSFET Modeling for VLSI Simulation: Theory and Practice, vol. 0. WORLD SCIENTIFIC, 2007. doi: 10.1142/6157.
&lt;/small>&lt;/p>&lt;/blockquote>
&lt;/section>
&lt;section>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/热载流子的产生（a）.jpg">
&lt;/div>
&lt;div>
&lt;p style="text-align:left">&lt;strong>沟道热电子（CHE）&lt;/strong> 当 $V_{gs}=V_{ds}$ 时，漏端附近的沟道区中的电子被加热，形成幸运电子（“幸运”指满足注入条件的电子），幸运电子注入到栅氧化层形成了栅电流 $I_g$&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/热载流子的产生（b）.jpg">
&lt;/div>
&lt;div>
&lt;p style="text-align:left">&lt;strong>漏极雪崩热载流子（DAHC）&lt;/strong> 漏端强电场导致雪崩倍增效应，电子从沟道电场中获得足够高的能量，经碰撞电离后产生电子-空穴对，电子-空穴对也会碰撞电离产生更多的电子-空穴对，形成雪崩过程。由于电子和空穴同时注入到栅氧化层，DAHC 注入引起的器件退化更为严重。&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/热载流子的产生（c）.jpg">
&lt;/div>
&lt;div>
&lt;p style="text-align:left">&lt;strong>二次产生的热电子（SGHE）&lt;/strong> 由衬底电流的二次碰撞电离产生的二次少子。漏端附近的雪崩过程形成了衬底空穴电流，该空穴电流又通过碰撞电离形成了二次电子-空穴对。这些二次电子与 SHE 一样会被注入到栅氧层。在栅氧层较薄、背栅偏压较大的情况下，二次电子注入效应特别严重。&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/热载流子的产生（d）.jpg">
&lt;/div>
&lt;div>
&lt;p style="text-align:left">&lt;strong>衬底热电子（SHE）&lt;/strong> 当 $V_{ds}=0,V_{gs}>0$，并施加较大的背栅压 $V_{bs}$ 时（例如自举电路的上升过程中），耗尽层中产生的电子或从衬底中性区扩散过来的电子在向 Si-SiO2 界面漂移的过程中，部分电子从表面耗尽区的高电场中获得足够高的能量，越过势垒。&lt;/p>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;/section>
&lt;!-- 热载流子产生陷阱的过程 -->
&lt;section>
&lt;section>
&lt;h3>热载流子退化的机制&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>Negative oxide charge trapping&lt;/strong>&lt;/li>
&lt;ul>
&lt;li>
电子被漏区附近的氧化层陷阱捕获，导致有效沟道长度变短，p-MOSFET 驱动电流增加
&lt;/li>
&lt;/ul>
&lt;li>&lt;strong>Positive oxide charge trapping&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Generation of interface states by hot holes&lt;/strong>&lt;/li>
&lt;ul>
&lt;li>&lt;strong>single particle(SP)&lt;/strong> causes Si–H bond dissociation due to the interaction of carriers with high energy&lt;/li>
&lt;li>&lt;strong>multiple particle(MP)&lt;/strong> carriers with low energy that can excite the vibrational modes of the bonds followed by hydrogen release from the last bonded level to the transport state&lt;/li>
&lt;/ul>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;blockquote>
&lt;p>&lt;small>
参考：[4]J. Kim, K. Hong, H. Shim, H. Rhee, and H. Shin, “Comparative Analysis of Hot Carrier Degradation (HCD) in 10-nm Node nMOS/pMOS FinFET Devices,” IEEE Trans. Electron Devices, vol. 67, no. 12, pp. 5396–5402, Dec. 2020, doi: 10.1109/TED.2020.3031246.&lt;br>
[5]I. Polishchuk, Yee-Chia Yeo, Qiang Lu, Tsu-Jae King, and Chenming Hu, “Hot-carrier reliability of p-MOSFET with ultra-thin silicon nitride gate dielectric,” in 2001 IEEE International Reliability Physics Symposium Proceedings. 39th Annual (Cat. No.00CH37167), Orlando, FL, USA, 2001, pp. 425–430. doi: 10.1109/RELPHY.2001.922937.
&lt;/small>&lt;/p>
&lt;/blockquote>
&lt;/section>
&lt;/section>
&lt;!-- 热载流子对器件性能的影响 -->
&lt;section>
&lt;section>
&lt;h3>热载流子对器件性能的影响&lt;/h3>
&lt;p>导致器件参数偏移，如：&lt;/p>
&lt;ul>
&lt;li>threshold voltage ($\Delta V_T$)&lt;/li>
&lt;li>transconductance ($\Delta g_m$)&lt;/li>
&lt;li>subthreshold slope($\Delta S$)&lt;/li>
&lt;li>linear drain current ($\Delta I_\text{DLIN}$)&lt;/li>
&lt;li>saturation drain current ($\Delta I_\text{DSAT}$)&lt;/li>
&lt;li>gate-to-drain capacitance($\Delta C_{GD}$)&lt;/li>
&lt;/ul>
&lt;/section>
&lt;section>
&lt;p>实验结果&lt;sup>[5]&lt;/sup>：&lt;/p>
&lt;p style="text-align:left">不同 $V_G$ 对寿命的影响（寿命定义为 $\Delta I_\text{DSAT}$ 减少 10% 所需时间）&lt;/p>
&lt;img src="./images/hot-carrier/Idsat的退化.jpg">
&lt;blockquote>&lt;p>&lt;small>[5]E. Amat et al., “Channel hot-carrier degradation in pMOS and nMOS short channel transistors with high-k dielectric stack,” Microelectronic Engineering, vol. 87, no. 1, pp. 47–50, Jan. 2010, doi: 10.1016/j.mee.2009.05.013.
&lt;/small>&lt;/p>&lt;/blockquote>
&lt;/section>
&lt;section>
&lt;p>热载流子对 $I_{ds}$ 的影响&lt;sup>[6]&lt;/sup>&lt;/p>
&lt;img src="./images/hot-carrier/Ids的退化.gif">
&lt;blockquote>&lt;p>&lt;small>[6]M. Jin et al., “Hot carrier reliability characterization in consideration of self-heating in FinFET technology,” in 2016 IEEE International Reliability Physics Symposium (IRPS), Pasadena, CA, USA, Apr. 2016, pp. 2A-2-1-2A-2–5. doi: 10.1109/IRPS.2016.7574505.
&lt;/small>&lt;/p>&lt;/blockquote>
&lt;/section>
&lt;section>
&lt;p>热载流子对I-V特性的影响&lt;sup>[7]&lt;/sup>&lt;/p>
&lt;img src="./images/hot-carrier/IV特性的退化.jpg">
&lt;blockquote>&lt;p>&lt;small>[7]T. A. Karatsori, C. G. Theodorou, S. Haendler, N. Planes, G. Ghibaudo, and C. A. Dimitriadis, “Hot-carrier degradation model for nanoscale ultra-thin body ultra-thin box SOI MOSFETs suitable for circuit simulators,” Microelectronic Engineering, vol. 159, pp. 9–16, Jun. 2016, doi: 10.1016/j.mee.2016.01.035.
&lt;/small>&lt;/p>&lt;/blockquote>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>热载流子效应对电路的影响&lt;/h3>
&lt;ul>
&lt;li>数字电路：电流驱动能力下降导致传输延迟增加&lt;/li>
&lt;li>模拟电路：输出电阻、跨导退化导致增益、频率响应等性能下降&lt;/li>
&lt;/ul>
&lt;/section>
&lt;/section>
&lt;section>
&lt;h3>HCD建模&lt;/h3>
&lt;p style="text-align:left">用 &lt;em>age rate&lt;/em> $AR$ 来表征器件参数 $P$ 的退化（$P$ 可以是阈值电压、线性区电流等）&lt;/p>
&lt;p>
\[\begin{aligned}
AR =&amp; C_1 \cdot (\frac{I_{ds}}{W})^{a_1} \cdot (\frac{I_{bs}}{I_{ds}})^m + C_2 \cdot (\frac{I_{ds}}{W})^{a_2} \cdot (\frac{I_{bs}}{I_{ds}})^m\\
&amp;+C_3 \cdot (\frac{I_{ds}}{W})^{a_3}\\
P =&amp; P_0 \cdot \lfloor 1+D_p \cdot (AR \cdot t)^{n_p} \rfloor
\end{aligned} \]
&lt;/p>
&lt;blockquote>&lt;small>[8]F. Cacho et al., “Hot Carrier Injection degradation induced dispersion: Model and circuit-level measurement,” in 2011 IEEE International Integrated Reliability Workshop Final Report, South Lake Tahoe, CA, USA, Oct. 2011, pp. 137–141. doi: 10.1109/IIRW.2011.6142609.&lt;/small>&lt;/blockquote>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>长沟道/短沟道 HCD 不同&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/短沟道的热载流子退化.jpg">
&lt;/div>
&lt;div>
&lt;p style="text-align:left">长沟道，nMOS 的 HCD 比 pMOS 更严重&lt;/p>
&lt;ul style="text-align:left;font-size: 50%">
&lt;li>Holes have lower evergy than electrons because the mean free path of holes is shorter.&lt;/li>
&lt;li>The carrier evergy decreases as the temperature increases because phonon scattering becomes more active&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;h3>长沟道/短沟道 HCD 不同&lt;/h3>
&lt;div class="twocolumn">
&lt;div>
&lt;img src="./images/hot-carrier/长沟道的热载流子退化.jpg">
&lt;img src="./images/hot-carrier/NBTI在HCD中的占比.jpg">
&lt;/div>
&lt;div>
&lt;p style="text-align:left">短沟道，pMOS 的 HCD 比 nMOS 更严重&lt;/p>
&lt;ul style="text-align:left;font-size: 50%">
&lt;li>self-heating effect (SHE): Especially for pFinFETs, alloy scattering that occurs in SiGe reduces the thermal conductivity&lt;/li>
&lt;li>negative bias temperature instability (NBTI): due to the interface traps generated through reaction–diffusion (RD)&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/section>
&lt;section>
&lt;blockquote>
&lt;p>&lt;small>
参考：[4]J. Kim, K. Hong, H. Shim, H. Rhee, and H. Shin, “Comparative Analysis of Hot Carrier Degradation (HCD) in 10-nm Node nMOS/pMOS FinFET Devices,” IEEE Trans. Electron Devices, vol. 67, no. 12, pp. 5396–5402, Dec. 2020, doi: 10.1109/TED.2020.3031246.&lt;br>
&lt;/small>&lt;/p>
&lt;/blockquote>
&lt;/section>
&lt;/section>
&lt;section>
&lt;section>
&lt;h3>改善HCD的方法&lt;/h3>
&lt;p style="text-align:left">漏极工程：调节漏极的掺杂分布来降低漏附近的高电场&lt;/p>
&lt;ul>
&lt;li>DDD(Double Diffused Drain) 结构&lt;/li>
&lt;li>LDD(Lightly Doped Drain) 结构&lt;/li>
&lt;/ul>
&lt;img src="./images/hot-carrier/改善HCD的器件结构.jpg">
&lt;/section>
&lt;section>
&lt;h3>改善HCD的方法&lt;/h3>
&lt;p style="text-align:left">采用特殊的电路结构：随着 M1 退化，其 $\Delta I_{ds}/\Delta V_{ds}$ 增加，引起 M3 上的电压降增加，使得 M1 的有效源漏电压下降，从而抵消 M1 $\Delta I_{ds}/\Delta V_{ds}$ 的增加&lt;/p>
&lt;img src="./images/hot-carrier/改善HCD的电路结构.jpg">
&lt;/section>
&lt;/section>
&lt;section>
&lt;p>未来工作：建立HCI效应的老化模型&lt;/p>
&lt;/section>
&lt;section>
谢谢聆听
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>叉烧</title><link>https://todd.scuteee.com/posts/2021/2021-09-04-%E5%8F%89%E7%83%A7/</link><pubDate>Sat, 04 Sep 2021 09:15:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-09-04-%E5%8F%89%E7%83%A7/</guid><description>&lt;p>叉烧不就是猪肉烧烤嘛~&lt;/p>
&lt;h1 id="资料搜索">资料搜索&lt;/h1>
&lt;p>打开知乎、B站、油管等网站，搜索“叉烧”，发现如下几个教程可能会有用：&lt;/p>
&lt;ul>
&lt;li>Bing
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/61425840" target="_blank" rel="noopener"
>知乎：为什么说：“生块叉烧都比生你好&amp;hellip;”&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/39424451" target="_blank" rel="noopener"
>知乎：怎样做出味道和饭店里一样的广式叉烧？&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://m.meishij.net/html5/zuofa/chashaorou_25.html" target="_blank" rel="noopener"
>美食杰：叉烧肉 by 雅楠&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.xiachufang.com/recipe/103829690/" target="_blank" rel="noopener"
>下厨房：蜜汁叉烧肉（烤箱版）&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.xiachufang.com/recipe/106430398/" target="_blank" rel="noopener"
>下厨房：零失败叉烧（电饭煲）&lt;/a>&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Bilibili
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1K4411n7CV" target="_blank" rel="noopener"
>厨师长分享一道古法烤制叉烧，制作简单，色泽红亮甜香回味，盘它&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1gW411P7at" target="_blank" rel="noopener"
>蜜汁叉烧秘制做法，大厨轻易不外传的配方，学到就是赚到！&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1f5411A7BN" target="_blank" rel="noopener"
>终极懒人做法，5分钟就能出炉的叉烧！真香……&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1ci4y1j7Rz" target="_blank" rel="noopener"
>电饭煲版【蜜汁叉烧肉】来了，软嫩甜香，酱汁超浓郁，好吃到不想停&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>YouTube
&lt;ul>
&lt;li>&lt;a class="link" href="https://youtu.be/zkCoAKTbHpQ" target="_blank" rel="noopener"
>😋 Char Siu (叉燒) - My dad&amp;rsquo;s recipe for Chinese BBQ Pork!&lt;/a>
&lt;ul>
&lt;li>This video comes with a text recipt: &lt;a class="link" href="https://madewithlau.com/recipes/char-siu-chinese-bbq-pork" target="_blank" rel="noopener"
>Char Siu (叉燒) - Chinese BBQ Pork&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="https://youtu.be/nQU-kinfpGI" target="_blank" rel="noopener"
>大廚教你做 【叉烧炒飯】&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://youtu.be/b0Gwi5Ffyxg" target="_blank" rel="noopener"
>【麻煩哥】😍 蜜汁 叉燒 Barbecued Pork (Char Siu)！&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>纵览所有教程，我们可以将叉烧的制作过程分为：腌、烤两阶段。下面来详细介绍。&lt;/p>
&lt;h1 id="食材概览">食材概览&lt;/h1>
&lt;ol>
&lt;li>猪肉，可选择如下部位：&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>👍梅头肉、梅花肉（猪的肩膀）：此处的肉嫩，且肥瘦相间&lt;/li>
&lt;li>猪颈肉（猪的脖子）&lt;/li>
&lt;li>五花肉（猪的肚子）&lt;/li>
&lt;/ul>
&lt;p>拓展阅读：&lt;a class="link" href="https://zhuanlan.zhihu.com/p/105387916" target="_blank" rel="noopener"
>猪肉11部位分布及用途&lt;/a>，&lt;a class="link" href="https://new.qq.com/omn/20210516/20210516A06MSU00.html" target="_blank" rel="noopener"
>细说猪肉各部位的特点&lt;/a>&lt;/p>
&lt;h1 id="烹饪过程">烹饪过程&lt;/h1>
&lt;h2 id="腌">腌&lt;/h2>
&lt;p>对猪肉的处理&lt;/p>
&lt;ol>
&lt;li>将肉切成约2cm厚，宽度大概是6cm，长度大概是20cm
&lt;ul>
&lt;li>切的时候要顺着纹理切&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>用叉子戳肉，让肉腌得更充分&lt;/li>
&lt;/ol>
&lt;p>如果肉比较多血水，则可以把肉放在盐水里泡半个小时，再放入冰箱冻4个小时，拿出来后将肉上的水吸干。&lt;/p>
&lt;hr>
&lt;p>准备酱汁（一斤肉的量）&lt;/p>
&lt;ul>
&lt;li>1 汤匙 蒜盐（直接用蒜+盐也行，但蒜烤糊后会有苦味，要注意）&lt;/li>
&lt;li>4 汤匙 黑糖&lt;/li>
&lt;li>2 汤匙 耗油&lt;/li>
&lt;li>2 汤匙 生抽&lt;/li>
&lt;li>1 汤匙 海鲜酱&lt;/li>
&lt;li>2 汤匙 红酒&lt;/li>
&lt;li>1 汤匙 白酒&lt;/li>
&lt;li>2 汤匙 蜂蜜&lt;/li>
&lt;li>1 块 南乳&lt;/li>
&lt;li>1 茶匙 五香粉&lt;/li>
&lt;li>1 茶匙 红曲&lt;/li>
&lt;li>2 茶匙 水&lt;/li>
&lt;/ul>
&lt;p>另一种酱汁：&lt;/p>
&lt;ul>
&lt;li>1 汤匙 蒜盐&lt;/li>
&lt;li>2 汤匙 海鲜酱&lt;/li>
&lt;li>3 汤匙 生姜汁&lt;/li>
&lt;li>2 汤匙 耗油&lt;/li>
&lt;li>1 汤匙 芝麻酱&lt;/li>
&lt;li>1 汤匙 玫瑰露酒&lt;/li>
&lt;li>3/4 茶匙 生抽&lt;/li>
&lt;li>3/4 茶匙 老抽&lt;/li>
&lt;li>1 茶匙 五香粉&lt;/li>
&lt;/ul>
&lt;p>另另一种酱汁：&lt;/p>
&lt;ul>
&lt;li>蚝油15g&lt;/li>
&lt;li>蒜茸10g&lt;/li>
&lt;li>生抽30ml&lt;/li>
&lt;li>料酒15ml&lt;/li>
&lt;li>细砂糖45g&lt;/li>
&lt;li>五香粉1/2小勺（2.5ml）&lt;/li>
&lt;li>红曲粉1小勺（5ml）&lt;/li>
&lt;li>红腐乳1小块&lt;/li>
&lt;li>腐乳汁10ml&lt;/li>
&lt;/ul>
&lt;p>一些小贴士：&lt;/p>
&lt;ul>
&lt;li>如果嫌麻烦，可以直接用叉烧酱+蒜+料酒。&lt;/li>
&lt;li>要想叉烧红亮，用红曲粉和南乳来调色&lt;/li>
&lt;/ul>
&lt;p>混在一起，搅拌均匀即可。&lt;/p>
&lt;p>另外我们还要准备蜜糖水，两茶匙蜜糖+两汤匙水（糖:水=1:8）&lt;/p>
&lt;hr>
&lt;p>腌制&lt;/p>
&lt;ol>
&lt;li>将肉放入食品袋（保鲜袋）&lt;/li>
&lt;li>倒入酱汁&lt;/li>
&lt;li>轻揉猪肉，让猪肉吸收酱汁&lt;/li>
&lt;li>排出空气，封口&lt;/li>
&lt;li>腌制8小时（最多不超过24小时）
&lt;ul>
&lt;li>如果要过夜，则放入冰箱，但一定要记得提前拿出来解冻&lt;/li>
&lt;li>如果是早上弄，晚上吃，可以不放入冰箱&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="烤">烤&lt;/h2>
&lt;p>先介绍用烤箱的做法，后面再介绍用电饭锅的做法。&lt;/p>
&lt;ol>
&lt;li>在烤/煎之前，要将表面的酱汁清一下（用手捋一捋就行），避免烤糊；但如果用电饭锅，则无需这样做&lt;/li>
&lt;li>将猪肉放在烤架上，下方放烤盘用来接住油汁。烤盘用锡纸包住，并且放1~2汤匙水，避免掉落的油汁烤焦，同时也可以提供一定的蒸汽。&lt;/li>
&lt;li>将烤箱预热到 218℃&lt;/li>
&lt;li>将猪肉放进去（注：无论是几斤肉，烤的时间都是一样的）
&lt;ol>
&lt;li>218℃，烤15分钟，然后拿出来，两面涂酱汁，将猪肉翻面&lt;/li>
&lt;li>218℃，烤15分钟，然后拿出来，两面涂酱汁，将猪肉翻面&lt;/li>
&lt;li>218℃，烤10分钟，然后拿出来，两面涂蜜糖水&lt;/li>
&lt;li>230℃，烤5分钟，然后拿出来，两面涂蜜糖水&lt;/li>
&lt;li>结束&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>不要着急切，等猪肉冷却后再切&lt;/li>
&lt;/ol>
&lt;p>另一种烤法（比上面的做法焦一点）：&lt;/p>
&lt;ol>
&lt;li>230℃，烤6分钟&lt;/li>
&lt;li>100℃，烤8分钟，然后拿出来，两面涂蜜糖&lt;/li>
&lt;li>230℃，烤6分钟&lt;/li>
&lt;li>100℃，烤8分钟，然后拿出来，两面涂蜜糖&lt;/li>
&lt;li>180℃，烤5分钟&lt;/li>
&lt;/ol>
&lt;p>另另一种烤法（火力没那么猛，不容易焦，但可能会比较干）：&lt;/p>
&lt;ol>
&lt;li>175℃，15~20分钟，然后拿出来涂蜜糖，翻面&lt;/li>
&lt;li>175℃，15~20分钟，然后拿出来涂蜜糖&lt;/li>
&lt;/ol>
&lt;hr>
&lt;p>如果是用电饭锅：&lt;/p>
&lt;ol>
&lt;li>在电饭锅中加入适当油，避免粘锅。&lt;/li>
&lt;li>把腌好的肉平铺在锅内，酱汁也一起倒入&lt;/li>
&lt;li>按下煮饭按钮煮40~50分钟，中途要把肉翻面。&lt;/li>
&lt;/ol>
&lt;h1 id="实践">实践&lt;/h1>
&lt;h2 id="20210904">2021/09/04&lt;/h2>
&lt;p>去超市看了一下，没有梅花肉，要么是很肥的五花肉，要么是瘦肉。由于我比较喜欢吃瘦的，就将就买了块瘦肉，顺便也实验一下看看瘦肉到底可不可以代替梅花肉。那个卖肉的说前腿肉就是梅花肉，骗谁呢🤬！&lt;/p>
&lt;p>酱汁我用的是下面这种：&lt;/p>
&lt;ul>
&lt;li>2 汤匙 叉烧酱&lt;/li>
&lt;li>1 汤匙 生姜汁&lt;/li>
&lt;li>1 汤匙 料酒&lt;/li>
&lt;li>1 汤匙 耗油&lt;/li>
&lt;li>1 茶匙 芝麻酱&lt;/li>
&lt;li>半块 南乳&lt;/li>
&lt;li>少许 五香粉&lt;/li>
&lt;li>一瓣 蒜蓉&lt;/li>
&lt;/ul>
&lt;p>我从下午5点半开始腌制，因为想着晚上吃一块，所以打算腌了一个小时后就取了一小块出来，其余第二天再吃。为了让肉尽可能吸收酱汁，我捏了它半个小时。在我捏的时候，有个师兄把烤箱给借走了，所以晚上只能用锅煎。煎完后看起来也挺不错的（下图）😋&lt;/p>
&lt;center>&lt;p>&lt;img src="../images/food/2021-09-04-叉烧.jpeg" alt="煎叉烧" width="80%">&lt;/p>&lt;/center>
&lt;p>但煎的叉烧吃起来却有点柴。有三个原因：&lt;/p>
&lt;ol>
&lt;li>我用的不是梅头肉，而是一般的瘦肉；&lt;/li>
&lt;li>根据网上的教程，用烤箱会将外表皮烤焦，从而锁住内部的水分，而用锅煎则会持续使水分蒸发。&lt;/li>
&lt;li>我妈说腌肉的顺序是：盐、生粉、酱油、糖、油，但我是一股脑的全加进去。（也有可能是我没加生粉）&lt;/li>
&lt;/ol>
&lt;p>第二天我重新用烤箱把剩下的肉给烤了。因为切的比较薄，所以把时间缩短了，只烤了 10 分钟。下图是刚烤完的样子：&lt;/p>
&lt;center>&lt;p>&lt;img src="../images/food/2021-09-05-烤箱叉烧.jpeg" alt="烤叉烧" width="80%">&lt;/p>&lt;/center>
&lt;center>&lt;p>&lt;img src="../images/food/2021-09-05-叉烧.jpeg" alt="切开后" width="80%">&lt;/p>&lt;/center>
&lt;p>可以看出，相比腌了一个小时的肉，这次里面的肉更加红。切完后，试吃了一小块，感觉味道咸了点，稍微有点干，但没煎的那么柴。拿了一半和苦瓜一起炒，还是挺下饭的😋&lt;/p>
&lt;p>总结：&lt;/p>
&lt;ol>
&lt;li>用瘦肉也凑合，但最好还是用梅头肉&lt;/li>
&lt;li>不要切太薄（即肉不要太扁），太薄吃起来不爽（除非你想煎肉）。&lt;/li>
&lt;li>规划好时间，提前腌肉&lt;/li>
&lt;li>能用烤箱用烤箱&lt;/li>
&lt;/ol>
&lt;p>今晚走远一点看看其他店有没有梅头肉。&lt;/p>
&lt;h2 id="20210906">2021/09/06&lt;/h2>
&lt;p>买了点梅头肉回来，但还是偏瘦，没什么肥肉。这次先用盐水泡了一下，再涂了点生粉，然后再腌。酱料在上次的基础上加了蜂蜜，另外把南乳换成了南乳汁。这次烤箱的温度用的是第二种烤法的前四步（即230、100、230、100），最后的 180 没做。&lt;/p>
&lt;center>&lt;p>&lt;img src="../images/food/2021-09-09-梅花肉叉烧.jpeg" alt="切开后" width="80%">&lt;/p>&lt;/center>
&lt;p>烤完已经12点了，所以就放到冰箱里冻了起来。但后面两天没时间做饭，到了第三天周四才拿出来吃。简单地切片后炒了一下，味道还行，肉也不干不柴，就是有点韧。可能换成蒸会好一点。&lt;/p>
&lt;p>总结：&lt;/p>
&lt;ol>
&lt;li>梅花肉确实提升了口感&lt;/li>
&lt;li>如果肉够 2cm 厚，那么每一片肉可以切薄一点，这样熟得快，而且也好嚼。&lt;/li>
&lt;li>不要干炒，我感觉还是铺在青菜上面蒸会好一点。&lt;/li>
&lt;/ol>
&lt;h1 id="感想">感想&lt;/h1>
&lt;p>  我一直都很想尝试美国那种大块的 smoked brisket（原因请去看 &lt;a class="link" href="https://www.bilibili.com/video/BV1454y197qW/" target="_blank" rel="noopener"
>少年谢尔顿/论烟烤牛肉的魅力&lt;/a>），在切猪肉的过程中，看着刀切开焦红的表皮，露出里面香嫩的肉时，我突然有种梦想成真的感觉😭。我爱吃肉！&lt;/p></description></item><item><title>待办</title><link>https://todd.scuteee.com/posts/2021/2021-08-25-todo-list/</link><pubDate>Wed, 25 Aug 2021 16:28:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-08-25-todo-list/</guid><description>&lt;p>好记性不如烂笔头~&lt;/p>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 前端知识
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 将博客的评论系统改为 &lt;a class="link" href="https://gitlab.com/commento/commento" target="_blank" rel="noopener"
>Commento&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 引入 &lt;a class="link" href="https://josephernest.github.io/writing/" target="_blank" rel="noopener"
>Writing&lt;/a> 来预览投稿效果&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>测试PPT</title><link>https://todd.scuteee.com/ppt/2021-08-22-test-ppt/</link><pubDate>Sun, 22 Aug 2021 10:14:00 +0800</pubDate><guid>https://todd.scuteee.com/ppt/2021-08-22-test-ppt/</guid><description>&lt;div class="reveal">
&lt;div class="slides">
&lt;!--Title-->
&lt;section data-background-color="aquamarine">
&lt;h2>🐟revel.js🐳&lt;/h2>
&lt;h3>Test and Teach&lt;/h3>
&lt;p>Presented by Todd&lt;/p>&lt;br/>
&lt;p>Refence: &lt;a href="https://revealjs.com/">revealjs.com&lt;/a>
and &lt;a href="https://www.lfhacks.com/assets/revealjs.html">LFhacks.com&lt;/a>
&lt;/p>
&lt;/section>
&lt;!--Slide 2-->
&lt;section>
How to use?
&lt;ol>
&lt;li>Create a normal post with the code below
&lt;pre>&lt;code class="language-html" data-trim data-noescape>
&amp;lt;div class="reveal"&amp;gt;
&amp;lt;div class="slides"&amp;gt;
&amp;lt;!-- add your slide here--&amp;gt;
&amp;lt;/div>
&amp;lt;/div&amp;gt;
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>Visit the post, and you'll see it😉&lt;/li>
&lt;/ol>
&lt;/section>
&lt;!--Slide 3-->
&lt;section>
&lt;p>A frame of slide is defined with:&lt;/p>
&lt;pre>&lt;code class="language-html" data-trim data-noescape>
&amp;lt;section&amp;gt;
&amp;lt;!-- add your words here --&amp;gt;
&amp;lt;/section&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>common html like &amp;lt;h2&amp;gt;, &amp;lt;p&amp;gt;, &amp;lt;ul&amp;gt; is supported&lt;/p>
&lt;/section>
&lt;!--Slide 4-->
&lt;section>
&lt;section>
&lt;p>a section defined inside other section &lt;/p>
&lt;p>is a vertical slide&lt;/p>
&lt;p>like this one below&lt;/p>
&lt;/section>
&lt;section>
&lt;p>Hi! I'm a vertical slide.&lt;/p>
&lt;p>You can use me to organize your ppt.&lt;/p>
&lt;/section>
&lt;/section>
&lt;!--Slide 5-->
&lt;section>
&lt;section>
&lt;h2>fragment&lt;/h2>
&lt;p class="fragment">Sometimes we want to show the words&lt;/p>
&lt;span class="fragment">piece&lt;/span>
&lt;span class="fragment">by&lt;/span>
&lt;span class="fragment">piece&lt;/span>
&lt;p class="fragment">we can do this by adding&lt;/p>
&lt;p class="fragment">class="fragment"&lt;/p>
&lt;pre class="fragment">&lt;code class="language-html" data-trim data-noescape>
&amp;lt;p class=&amp;quot;fragment&amp;quot;&amp;gt;piece&amp;lt;/p&amp;gt;
&amp;lt;span class=&amp;quot;fragment&amp;quot;&amp;gt;by&amp;lt;/span&amp;gt;
&amp;lt;pre class=&amp;quot;fragment&amp;quot;&amp;gt;piece&amp;lt;/pre&amp;gt;&lt;/code>&lt;/pre>
&lt;p class="fragment">Press ↓ for more inform&lt;/p>
&lt;/section>
&lt;section>
&lt;h2>fragment style&lt;/h2>
&lt;span>simply add the style after class:&lt;/span>
&lt;p class="fragment grow">&amp;lt;p class=&amp;quot;fragment grow&amp;quot;&amp;gt;Grow&amp;lt;/p&amp;gt;&lt;/p>
&lt;p class="fragment shrink">&amp;lt;p class=&amp;quot;fragment shrink&amp;quot;&amp;gt;Shrink&amp;lt;/p&amp;gt;&lt;/p>
&lt;p class="fragment fade-out">&amp;lt;p class=&amp;quot;fragment fade-out&amp;quot;&amp;gt;fade out&amp;lt;/p&amp;gt;&lt;/p>
&lt;p class="fragment fade-up">&amp;lt;p class=&amp;quot;fragment fade-up&amp;quot;&amp;gt;fade up&amp;lt;/p&amp;gt;&lt;/p>
&lt;p class="fragment fade-right">&amp;lt;p class=&amp;quot;fragment fade-right&amp;quot;&amp;gt;fade right&amp;lt;/p&amp;gt;&lt;/p>
&lt;p class="fragment current-visible">&amp;lt;p class=&amp;quot;fragment current-visible&amp;quot;&amp;gt;visible now&amp;lt;/p&amp;gt;&lt;/p>
&lt;p class="fragment highlight-current-blue">&amp;lt;p class=&amp;quot;highlight-current-blue&amp;quot;&amp;gt;Highlight Blue&amp;lt;/p&amp;gt;&lt;/p>
&lt;/section>
&lt;section>
&lt;h2>frament style combined&lt;/h2>
&lt;p>&lt;span>combine the styles together, and they'll&lt;/span>&lt;/p>
&lt;span class="fragment fade-in">
&lt;span class="fragment fade-out">
fade in, out...
&lt;/span>
&lt;/span>
&lt;p>according to the order defined.&lt;/p>
&lt;/section>
&lt;section>
&lt;h2>the order of frame&lt;/h2>
&lt;p>use data-fragment-index property&lt;/p>
&lt;ol>
&lt;li class="fragment" data-fragment-index="3">&amp;lt;p class=&amp;quot;fragment&amp;quot; data-fragment-index=&amp;quot;3&amp;quot;&amp;gt;third&amp;lt;/p&amp;gt;&lt;/li>
&lt;li class="fragment" data-fragment-index="2">&amp;lt;p class=&amp;quot;fragment&amp;quot; data-fragment-index=&amp;quot;2&amp;quot;&amp;gt;second&amp;lt;/p&amp;gt;&lt;/li>
&lt;li class="fragment" data-fragment-index="1">&amp;lt;p class=&amp;quot;fragment&amp;quot; data-fragment-index=&amp;quot;1&amp;quot;&amp;gt;first&amp;lt;/p&amp;gt;&lt;/li>
&lt;/ol>
&lt;/section>
&lt;/section>
&lt;!--Slide 6-->
&lt;section>
&lt;section>
&lt;h2>transition between slides&lt;/h2>
&lt;p>use data-transition to define how the slide change&lt;/p>&lt;br>
&lt;p>use data-transition-speed to define how fast the slide change&lt;/p>
&lt;/section>
&lt;section data-transition="none" data-transition-speed="slow">
&lt;p>none none none 无 效 果 none none none none&lt;/p>
&lt;p>none none none none none none none none&lt;/p>
&lt;p>none none none 请继续按 ↓ none none none&lt;/p>
&lt;/section>
&lt;section data-transition="fade" data-transition-speed="slow">
&lt;p>fade fade fade 淡 入 效 果 fade fade fade&lt;/p>
&lt;p>fade fade fade fade fade fade fade fade&lt;/p>
&lt;p>fade fade fade 请继续按 ↓ fade fade fade&lt;/p>
&lt;/section>
&lt;section data-transition="concave" data-transition-speed="slow">
&lt;p>concave concave 凹 面 concave concave &lt;/p>
&lt;p>concave concave concave concave concave &lt;/p>
&lt;p>concave concave 请继续按 ↓ concave concave &lt;/p>
&lt;/section>
&lt;section data-transition="convex" data-transition-speed="slow">
&lt;p>convex convex convex 凸 面 convex convex&lt;/p>
&lt;p>convex convex convex convex convex convex&lt;/p>
&lt;p>convex convex convex 请继续按 ↓ convex convex&lt;/p>
&lt;/section>
&lt;section data-transition="slide" data-transition-speed="slow">
&lt;p>slide slide slide 滑 入 slide slide slide&lt;/p>
&lt;p>slide slide slide slide slide slide slide&lt;/p>
&lt;p>slide slide slide 请按 → slide slide slide&lt;/p>
&lt;/section>
&lt;/section>
&lt;!--Slide 7-->
&lt;section>
&lt;h2>Anchor(Absolute)&lt;/h2>
&lt;p>&amp;lt;a href="#/7/2"&amp;gt;&lt;a href="#/7/2">go to 2rd sub-page of 7th page&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;p>&amp;lt;a href="#/some"&amp;gt;&lt;a href="#/some">go to the &amp;lt;section&amp;gt; with id="some"&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;/section>
&lt;section>
&lt;h2>Anchor(Relevant)&lt;/h2>
&lt;p>&amp;lt;a href="#" class="navigate-left"&amp;gt;&lt;a href="#" class="navigate-left">go to left&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;p>&amp;lt;a href="#" class="navigate-right"&amp;gt;&lt;a href="#" class="navigate-right">go to right&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;p>&amp;lt;a href="#" class="navigate-up"&amp;gt;&lt;a href="#" class="navigate-up">go up&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;p>&amp;lt;a href="#" class="navigate-down"&amp;gt;&lt;a href="#" class="navigate-down">go down&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;p>&amp;lt;a href="#" class="navigate-prev"&amp;gt;&lt;a href="#" class="navigate-prev">go to previous&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;p>&amp;lt;a href="#" class="navigate-next"&amp;gt;&lt;a href="#" class="navigate-next">go to next&lt;/a>&amp;lt;a&amp;gt;&lt;/p>
&lt;/section>
&lt;!--Slide 8-->
&lt;section>
&lt;h2>Shortcuts&lt;/h2>
&lt;ul>
&lt;li>full screen &lt;span style='color:deeppink'>f&lt;/span> , quit &lt;span style='color:deeppink'>Esc&lt;/span>&lt;/li>
&lt;li>previous page &lt;span style='color:deeppink'>p&lt;/span>, next page &lt;span style='color:deeppink'>n/space&lt;/span>&lt;/li>
&lt;li>first page &lt;span style='color:deeppink'>Home&lt;/span>, last page &lt;span style='color:deeppink'>End&lt;/span>&lt;/li>
&lt;li>overview mode &lt;span style='color:deeppink'>Esc&lt;/span> or &lt;span style='color:deeppink'>o&lt;/span>&lt;/li>
&lt;li>black screen &lt;span style='color:deeppink'>b&lt;/span>&lt;/li>
&lt;li>speaker view &lt;span style='color:deeppink'>s&lt;/span>&lt;span class="fragment" style='color:yellow'>(Have a try!)&lt;/span>&lt;/li>
&lt;li>vi keys: &lt;span style='color:deeppink'>h, j, k, l&lt;/span>&lt;/li>
&lt;li>help page: &lt;span style='color:deeppink'>?&lt;/span>&lt;/li>
&lt;/ul>
&lt;aside class="notes">
presentation note: it's hidden by default. &lt;br>It's added inside &amp;lt;section&amp;gt;&amp;lt;/section&amp;gt; with &amp;lt;aside&amp;gt;&amp;lt;/aside&amp;gt;&lt;br>You can close this page&lt;br>or press ← → to continue
&lt;/aside>
&lt;/section>
&lt;!--Slide 9-->
&lt;section>
&lt;p>You can even use &lt;a href="https://www.mathjax.org/">Mathjax&lt;/a> to type math equation!&lt;/p>
&lt;h2>The Lorenz Equations&lt;/h2>
\[\begin{aligned}
\dot{x} &amp;amp; = \sigma(y-x) \\
\dot{y} &amp;amp; = \rho x - y - xz \\
\dot{z} &amp;amp; = -\beta z + xy
\end{aligned} \]
&lt;/section>
&lt;!--Slide 10-->
&lt;section>
&lt;section data-background-color="rgb(192, 72, 81)">
&lt;p>Feel bored with white backgrouds?&lt;/p>
&lt;p>use data-background-color to change a color!&lt;/p>
&lt;p>keywords/rgba/hsl of color is supported.&lt;/p>
&lt;/section>
&lt;section data-background-image="http://i.giphy.com/90F8aUepslB84.gif">
&lt;p>Wanna use image?&lt;/p>
&lt;p>use data-background-image!&lt;/p>
&lt;/section>
&lt;/section>
&lt;section>
&lt;p>For more advanced usage, go check out &lt;a href="https://revealjs.com/">reveal.js&lt;/a>&lt;/p>
&lt;p>Thanks for reading!&lt;/p>
&lt;/section>
&lt;/div>
&lt;/div></description></item><item><title>购物清单</title><link>https://todd.scuteee.com/posts/2021/2021-08-21-shopping-list/</link><pubDate>Sat, 21 Aug 2021 17:31:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-08-21-shopping-list/</guid><description>&lt;p>记录五所实习期间的大额支出&lt;/p>
&lt;h2 id="202108">2021/08&lt;/h2>
&lt;p>正式支出：&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 住宿费：￥383.34&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 办工作卡：￥100（貌似是押金？）&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 物业服务费+水电煤 ￥115.12&lt;/li>
&lt;/ul>
&lt;p>日用品：&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 耳塞 ￥29.9&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 空调被 ￥22.9&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 遮光床帘 ￥21.8&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 封口夹 ￥3.9&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 桌子 ￥156.75&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 简易衣柜 ￥59&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 砧板 ￥20&lt;/li>
&lt;/ul>
&lt;p>学习相关：&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> STC8G 开发板
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 元件 ￥146.18&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 服务器 ￥65.18&lt;/li>
&lt;/ul>
&lt;p>其他：&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 核酸检测 ￥65&lt;/li>
&lt;/ul>
&lt;h2 id="202109">2021/09&lt;/h2>
&lt;p>日用品：&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 组装储物柜 ￥59&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;/li>
&lt;/ul></description></item><item><title>测试文章</title><link>https://todd.scuteee.com/posts/2021/2021-08-19-test-article/</link><pubDate>Thu, 19 Aug 2021 20:16:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-08-19-test-article/</guid><description>&lt;p>本文旨在介绍我的 Blog 配置，同时测试对 Markdown 的支持和显示效果。&lt;/p>
&lt;h2 id="关于本博客">关于本博客&lt;/h2>
&lt;p>  说实话，这是我第三个博客，前两个博客是：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://toddzhoufeng.github.io" target="_blank" rel="noopener"
>toddzhoufeng.github.io&lt;/a>：我的第一个博客，大一建立的，大三荒废&lt;/li>
&lt;li>&lt;a class="link" href="https://scuteee.com" target="_blank" rel="noopener"
>scuteee.com&lt;/a>：我的第二个博客，准确来说是网站，大二建立，目前主要用于存放学习笔记&lt;/li>
&lt;/ul>
&lt;p>  其实第一个博客也不是不能用，但第一个博客里的文章也蛮有纪念价值的，但我怕乱搞弄没了，所以就又开了一个。这次我想利用 web 知识折腾一下，顺便记录一下我的研究生生活。&lt;/p>
&lt;h2 id="折腾进度">折腾进度&lt;/h2>
&lt;p>  有好多好多东西想弄，但受时间限制，只弄了这些：&lt;/p>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Markdown 扩展
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Mathjax 3.x 公式支持&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Mermaid 流程图支持&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Chart 图表支持&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> PPT 支持&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 特殊页面
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 追番&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 读书&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 旅游&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="如何写博文">如何写博文&lt;/h2>
&lt;h3 id="yaml">YAML&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">layout&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">post&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">A Test Post&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">date&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="ld">2021-08-19 20:16:00 +0800&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">category&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tutorial&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">thumbnail&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/style/image/thumbnail.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">icon&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">book&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">mathjax&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">mermaid&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中，icon 可以是 book, code, web, chat, note, game, link, design, image&lt;/p>
&lt;p>如果不是有需求，请将 mathjax, chart, mermaid 设为 false，避免网页加载速度下降。&lt;/p>
&lt;h3 id="目录与摘要">目录与摘要&lt;/h3>
&lt;p>要让左边的目录出现，文章开头需要写：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后写摘要，然后写：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--more--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="markdown-基础测试">Markdown 基础测试&lt;/h3>
&lt;ul>
&lt;li>无序列表&lt;/li>
&lt;li>无序列表
&lt;ul>
&lt;li>无序列表&lt;/li>
&lt;li>无序列表&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>无序列表&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>有序列表&lt;/li>
&lt;li>有序列表
&lt;ol>
&lt;li>有序列表&lt;/li>
&lt;li>有序列表&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Uncheck
&lt;ul>
&lt;li>无序列表&lt;/li>
&lt;li>无序列表&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Check
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Uncheck&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Check&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Check
&lt;ol>
&lt;li>有序列表&lt;/li>
&lt;li>有序列表&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;h3 id="图片瀑布">图片瀑布&lt;/h3>
&lt;p>在文中用 html 输入：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;masonry&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;../images/thumbnail/rainbow_dash.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;../images/thumbnail/apple_jack.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;../images/thumbnail/twilight_sparkle.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;../images/thumbnail/rarity.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;../images/thumbnail/fluttershy.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>效果如下：&lt;/p>
&lt;div class="masonry">
&lt;div class="item">&lt;img src="../images/thumbnail/rainbow_dash.png">&lt;/div>
&lt;div class="item">&lt;img src="../images/thumbnail/apple_jack.png">&lt;/div>
&lt;div class="item">&lt;img src="../images/thumbnail/twilight_sparkle.png">&lt;/div>
&lt;div class="item">&lt;img src="../images/thumbnail/rarity.png">&lt;/div>
&lt;div class="item">&lt;img src="../images/thumbnail/fluttershy.png">&lt;/div>
&lt;/div>
&lt;h3 id="音乐">音乐&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>/assets/audio/Bohemian%20Rhapsody.mp3&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>效果如下：&lt;/p>
&lt;p>/assets/audio/Bohemian%20Rhapsody.mp3&lt;/p>
&lt;h3 id="markdown-扩展">Markdown 扩展&lt;/h3>
&lt;h4 id="mathjax">Mathjax&lt;/h4>
&lt;p>When $a \ne 0$, there are two solutions to $ax^2 + bx + c = 0$ and they are&lt;/p>
&lt;p>$$
x_1 = {-b + \sqrt{b^2-4ac} \over 2a}
$$&lt;/p>
&lt;p>$$
x_2 = {-b - \sqrt{b^2-4ac} \over 2a} \notag
$$&lt;/p>
&lt;p>注意我设置了三个缩写：\dif, \p, \bold，效果如下：&lt;/p>
&lt;p>$$
\dif, \p, \bold{B}
$$&lt;/p>
&lt;h4 id="mermaid">Mermaid&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">graph TB;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A[Do you have a problem in your life?]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> B[Then don&amp;#39;t worry]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C[Can you do something about it?]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A--no--&amp;gt;B;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A--yes--&amp;gt;C;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C--no--&amp;gt;B;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C--yes--&amp;gt;B;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="chart">Chart&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;type&amp;#34;: &amp;#34;polarArea&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;data&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;datasets&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;data&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 11,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 16,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 7,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 3,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 14
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;backgroundColor&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;#FF6384&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;#4BC0C0&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;#FFCE56&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;#E7E9ED&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;#36A2EB&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;label&amp;#34;: &amp;#34;My dataset&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;labels&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Red&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Green&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Yellow&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Grey&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Blue&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;options&amp;#34;: {}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>木与桌子</title><link>https://todd.scuteee.com/posts/2021/2021-08-20-wood-desk/</link><pubDate>Thu, 19 Aug 2021 20:16:00 +0800</pubDate><guid>https://todd.scuteee.com/posts/2021/2021-08-20-wood-desk/</guid><description>&lt;p>做一张木制桌子需要了解的知识。&lt;/p>
&lt;h2 id="缘由">缘由&lt;/h2>
&lt;p>  2021/08/09 我开始了在增城的实习生活。由于这边的公寓没有桌子，所以我有两个选择：&lt;/p>
&lt;ol>
&lt;li>买成品桌子&lt;/li>
&lt;li>定制实木桌面&lt;/li>
&lt;/ol>
&lt;p>  在权衡这两个选择之前，先分析一下我的需求：我希望有一张桌子能放显示器、鼠标、键盘和 NUC，也就是能放一套电脑。这就要求桌子必须：&lt;/p>
&lt;ol>
&lt;li>够稳。显示器 4.86kg，键盘 1.07kg，电脑约 2kg，共 7.93kg，考虑冗余，则至少要 10kg。这应该很容易满足；&lt;/li>
&lt;li>够大。根据我对已有桌子的体验，长宽至少要 80x50，高约 75；&lt;/li>
&lt;li>拆卸方便。便于我在实习结束后拿会学校。&lt;/li>
&lt;/ol>
&lt;p>  “够稳”这一点就把折叠桌给排除了，我现在就在舍友的折叠桌上用笔记本，感觉稍微动一下桌子都晃得厉害。&lt;/p>
&lt;p>  那就找那种上螺丝的吧。因为我想要的桌子尺寸也不算大，所以也不需要上横梁。因此我想要的桌子的形状是：&lt;/p>
&lt;ul>
&lt;li>桌面：80x50&lt;/li>
&lt;li>四条桌腿：75，最好可以微调高度&lt;/li>
&lt;/ul>
&lt;p>  看了一下淘宝上的这类桌子，基本上都是密度板桌面+木或钢桌腿。密度板的缺点就是重，而且看评论貌似不太稳，不过确实便宜，只需要 59 元就能搞定。&lt;/p>
&lt;p>  宜家也有个完美满足我需求的产品：&lt;a class="link" href="https://www.ikea.cn/cn/zh/p/linnmon-li-meng-adils-e-di-si-shu-zhuo-fang-bai-se-xiang-mu-wen-hei-se-s19416339/" target="_blank" rel="noopener"
>LINNMON 利蒙 / ADILS 阿迪斯书桌&lt;/a>，长宽高 100x60x73，桌面的重量才 5.59kg，简直完美好吧！上淘宝看了一下，代购价 157 元，好像还挺不错的。但上网搜了一下发现这桌面中间居然是纸皮填充？难怪这么轻。&lt;/p>
&lt;center>&lt;iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=a0819irm3zp" allowFullScreen="true" id="video" frameborder="no" marginwidth="0" marginheight="0" width="80%">&lt;/iframe>&lt;/center>
&lt;script type="text/javascript">document.getElementById("video").style.height=document.getElementById("video").scrollWidth*0.7+"px"&lt;/script>
&lt;p>  不过这阿迪斯桌腿是真的不错，它桌腿与桌面之间有个铁制的垫片，拆卸的时候只需要将桌腿旋下来就行；另外桌腿下面还可以微调高度（具体请去看官方的 &lt;a class="link" href="https://www.ikea.cn/cn/zh/assembly_instructions/adils-leg__AA-844478-6_pub.pdf" target="_blank" rel="noopener"
>组装说明 ADILS 阿迪斯 支腿&lt;/a>）。官方价格是每个桌腿 20元，淘宝上是 25 元（也有 20 的，但不包邮）。&lt;/p>
&lt;p>&lt;img src="https://www.ikea.cn/cn/zh/images/products/adils-a-di-si-zhi-tui-bai-se__0849380_pe559901_s5.jpg?f=xs"
loading="lazy"
alt="宜家桌子"
>&lt;/p>
&lt;p>  那么总结一下，现在有三种方案：&lt;/p>
&lt;ol>
&lt;li>淘宝 59 元桌子 &lt;a class="link" href="https://detail.tmall.com/item.htm?spm=a1z0d.6639537.1997196601.38.1f4a74840Ievqb&amp;amp;id=633842873157" target="_blank" rel="noopener"
>链接&lt;/a>
&lt;ul>
&lt;li>优点：便宜、省事&lt;/li>
&lt;li>缺点：重、晃&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>宜家 157 元桌子 &lt;a class="link" href="https://www.ikea.cn/cn/zh/p/linnmon-li-meng-adils-a-di-si-zhuo-zi-bai-se-hei-se-s09241825/" target="_blank" rel="noopener"
>链接&lt;/a>
&lt;ul>
&lt;li>优点：轻、稳、省事&lt;/li>
&lt;li>缺点：不耐用&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>宜家 80 元桌腿+约 100 元木制桌面 &lt;a class="link" href="https://post.smzdm.com/p/a6lngl4n/" target="_blank" rel="noopener"
>链接&lt;/a>
&lt;ul>
&lt;li>优点：稳、耐用&lt;/li>
&lt;li>缺点：小贵、麻烦&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>  我个人比较倾向于宜家桌子，因为它家的桌面才 59 元，坏了的话再买一个或换成木制桌面可以接受。&lt;/p>
&lt;p>  &lt;strong>那行，下单！本文结束！&lt;/strong>&lt;/p>
&lt;p>  但是嘛，由于最近实习比较无聊，所以我又看了一下关于木头的文章，发现这木头好像也挺有学问的，于是在此记录一下，也方便以后购买木桌面。&lt;/p>
&lt;h2 id="一些基本的评价指标">一些基本的评价指标&lt;/h2>
&lt;p>  根据 &lt;a class="link" href="https://www.zhihu.com/question/49177655/answer/616672051" target="_blank" rel="noopener"
>请问现在实木家具的木材优劣排名和实木家具品牌排名是怎样的？ - 故人归的回答 - 知乎&lt;/a>，主要有以下指标：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>握钉力&lt;/strong>，木材握钉力是指钉子进入板材后，钉子是否容易固定钉孔，是否容易松动脱落。握钉力好的板材固定力强，钉子不易松动脱落，钉孔可反复利用，反之亦然。&lt;/li>
&lt;li>&lt;strong>螺丝固定&lt;/strong>，是指螺丝进入板材后，是否容易固定，是否容易松动。螺丝固定好的板材，螺丝不易松动，螺孔可以反复利用，反之亦然。&lt;/li>
&lt;li>&lt;strong>胶合能力&lt;/strong>，木材与木材或其他材料的表面胶接成为一体。比如拼版，贴面，都需要用到胶。例如一张餐桌采用白橡木制造，因为锯材的宽度通常是10-40cm之间，所以在制造大面板的时候通常会用到拼接。拼接面有承重需求，这时候木材的胶合能力就很重要了。胶合工艺不好就会容易从拼版处开裂，贴面工艺不好就容易出现贴面剥离。&lt;/li>
&lt;li>&lt;strong>比重&lt;/strong>，木材重量与同体积水重量之比值&lt;/li>
&lt;li>&lt;strong>平均重量&lt;/strong>，一个立方木材的平均重量&lt;/li>
&lt;li>&lt;strong>断裂模量&lt;/strong>，是指木材单位面积承受弯矩时的极限折断应力。又称抗弯强度、抗折强度，简单来说就是这个木头是不是很脆，是否容易折断。数值越大表示木材纤维强度越高，木头越不易折断。比如樱桃木虽然密度硬度都大于松木，但是两者的抗折强度相差不多。榉木的抗折强度就要高一些。&lt;/li>
&lt;li>&lt;strong>弹性模量&lt;/strong>，衡量木材产生弹性变形难易程度的指标，其值越大，使木材发生一定弹性变形的应力也越大，即木材刚度越大，亦即在一定应力作用下，发生弹性变形越小。&lt;/li>
&lt;li>&lt;strong>侧面硬度&lt;/strong>，通常采用BF或者N。1BF=4.4484N&lt;/li>
&lt;li>&lt;strong>耐久性&lt;/strong>：即抗腐蚀性、抗虫蛀的程度&lt;/li>
&lt;li>&lt;strong>稳定性&lt;/strong>：受温度影响而热障冷缩的程度&lt;/li>
&lt;/ul>
&lt;p>  个人理解，一个好的木头，弯折时不易断，形变需要的力大，表面坚硬不易刮花。&lt;/p>
&lt;h2 id="常见木材">常见木材&lt;/h2>
&lt;p>  参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://post.smzdm.com/p/aqn95np2/" target="_blank" rel="noopener"
>什么值得买 实木家具常见木材汇总排名&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://post.smzdm.com/p/aqn99m3p/" target="_blank" rel="noopener"
>什么值得买 呕心沥血万字长文：平民用户购买全屋实木家具总结，分享选购和避坑经验&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/36726702" target="_blank" rel="noopener"
>国际主流木材横向对比 - 在下小雨的文章 - 知乎&lt;/a>&lt;/li>
&lt;li>木工全书 （英国DK出版社编著，北京科学技术出版社引进）&lt;/li>
&lt;li>&lt;a class="link" href="https://www.wood-database.com/" target="_blank" rel="noopener"
>www.wood-database.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>  木材有多种分类，一般是根据植物学来分成 &lt;strong>软材&lt;/strong> 和 &lt;strong>硬材&lt;/strong>，这与硬度无关，两者的特点如下：&lt;/p>
&lt;ul>
&lt;li>软材：由裸子植物的树木产生
&lt;ul>
&lt;li>春材和夏材的明暗对比明显&lt;/li>
&lt;li>通常包含一些树脂导管&lt;/li>
&lt;li>有一定香气，抗腐蚀&lt;/li>
&lt;li>便宜，常用于建筑工业&lt;/li>
&lt;li>凡是名字中有松、杉、柏的都是软材&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>硬材：由被子植物的树木产生
&lt;ul>
&lt;li>更耐用，价格更贵&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>  另一种分类是根据生长时间，春天开始生长的叫 &lt;strong>春材&lt;/strong>，夏季形成的叫 &lt;strong>夏材&lt;/strong>。夏材的密度更大，颜色也较深。&lt;/p>
&lt;p>  另外即使是同一颗树的木材，边材和心材的特性也不同。边材软、易腐，心材则更耐用、防蛀。&lt;/p>
&lt;p>  常用的木材有：松木、橡胶木、桦木、榉木、红橡、白橡、白蜡、樱桃木、黑胡桃、柚木&lt;/p>
&lt;h3 id="松木橡胶木桦木">松木、橡胶木、桦木&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>松木（pine wood）&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>橡胶木（rubber wood）&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>桦木（birch wood）&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="红橡木白橡木">红橡木、白橡木&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>红橡木（red oak）&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>白橡木（white oak wood）&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="白蜡木樱桃木">白蜡木、樱桃木&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>白蜡木（white wax wood）&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>樱桃木（cherry wood）&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="黑胡桃柚木">黑胡桃、柚木&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>黑胡桃（black walnut）&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>柚木（teak）&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="木材加工">木材加工&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/21562137/answer/253200876" target="_blank" rel="noopener"
>为什么品牌衣柜的主材多是实木颗粒？ - 装小蜜监理王志峰的回答 - 知乎&lt;/a> 该文介绍了胶合板、大芯板、指接板、密度板、刨花板、欧松板（OSB板）的制作方法与优缺点&lt;/li>
&lt;/ul></description></item><item><title/><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E4%BD%9C%E4%B8%9A/%E7%AD%94%E6%A1%88/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E4%BD%9C%E4%B8%9A/%E7%AD%94%E6%A1%88/</guid><description>&lt;h2 id="answers">Answers&lt;/h2>
&lt;blockquote>
&lt;p>微电子学院 202221061221 周镇峰&lt;/p>
&lt;/blockquote>
&lt;h3 id="problem-1">Problem 1&lt;/h3>
&lt;p>&lt;img src="https://todd.scuteee.com/images/%e9%a2%98%e7%9b%ae%e4%b8%80.png"
loading="lazy"
alt="题目一"
>&lt;/p>
&lt;h4 id="1">1)&lt;/h4>
&lt;p>The output load is an inverter with size=120, so $C_L = 3\times 120=360$&lt;/p>
&lt;p>Using the formula: $D=t_{p0} \left(P + \frac{N(\sqrt[N]{FG})}{\gamma} \right)$, we can calculate the minimum delay of each circuit.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>For circuit (a),&lt;/p>
&lt;ul>
&lt;li>$P = 1+2+2+2+1 = 8$&lt;/li>
&lt;li>$F=C_L/C_{G1} = 360/3 = 120$&lt;/li>
&lt;li>$G = 1\times 4/3\times 5/3\times 4/3\times 1=80/27$&lt;/li>
&lt;li>$D=t_{p0}(8+\frac{5\times \sqrt[5]{120\times 80/27}}{\gamma})=t_{p0}(8+\frac{16.2}{\gamma})$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>For circuit (b),&lt;/p>
&lt;ul>
&lt;li>$P = 1+8+1 = 10$&lt;/li>
&lt;li>$F=C_L/C_{G1} = 360/3 = 120$&lt;/li>
&lt;li>$G = 1\times 10/3\times 1=10/3$&lt;/li>
&lt;li>$D=t_{p0}(10+\frac{3\times \sqrt[3]{120\times 10/3}}{\gamma})=t_{p0}(10+\frac{22.1}{\gamma})$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>For circuit (c),&lt;/p>
&lt;ul>
&lt;li>$P = 1+4+2 = 7$&lt;/li>
&lt;li>$F=C_L/C_{G1} = 360/3 = 120$&lt;/li>
&lt;li>$G = 1\times 2\times 5/3=10/3$&lt;/li>
&lt;li>$D=t_{p0}(7+\frac{3\times \sqrt[3]{120\times 10/3}}{\gamma})=t_{p0}(7+\frac{22.1}{\gamma})$&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>If $\gamma &amp;lt;5.9$, circuit (a) has the smallest delay, or else circuit (c) has the smallest delay.&lt;/p>
&lt;h4 id="2">2)&lt;/h4>
&lt;p>Circuit (b) has the smallest energy, because all of them have the same $f_{0\rightarrow 1}$ in the final output, but (a) and (c) have extra switching activity in the intermediate stage.&lt;/p>
&lt;h4 id="3">3)&lt;/h4>
&lt;p>With input slope considered, the delay of circuit (a) is re-calculated as follow:&lt;/p>
&lt;ul>
&lt;li>$P = 1.2\times (1+2+2+2)+1 = 9.4$&lt;/li>
&lt;li>$F=C_L/C_{G1} = 360/3 = 120$&lt;/li>
&lt;li>$G = (1.2\times 1) \times (1.2\times 4/3) \times (1.2\times5/3)\times (1.2\times4/3)\times 1=6.144$&lt;/li>
&lt;li>$H=FG=737.28$&lt;/li>
&lt;li>$h = \sqrt[5]{H}\approx 3.75$&lt;/li>
&lt;/ul>
&lt;p>The size of each stage should be:&lt;/p>
&lt;ul>
&lt;li>$f_1 = \frac{3.75}{1.2 \times 1} = 3.125$&lt;/li>
&lt;li>$f_2 = f_4 = \frac{3.75}{1.2 \times 4/3} = 2.344$&lt;/li>
&lt;li>$f_3 = \frac{3.75}{1.2 \times 5/3} = 1.875$&lt;/li>
&lt;li>$f_5= \frac{3.75}{1} = 3.75$&lt;/li>
&lt;/ul>
&lt;h4 id="4">4)&lt;/h4>
&lt;p>Dynamic logic reduces the logic effort of logic input, so it can reduce the propagation delay. However, the charge/discharge cycles of capacitors introduce additional delay. Therefore only with proper design, can it achieve better speed.&lt;/p>
&lt;h3 id="problem-2">Problem 2&lt;/h3>
&lt;h4 id="1-1">1)&lt;/h4>
&lt;p>&lt;img src="https://todd.scuteee.com/images/%e9%a2%98%e7%9b%ae%e4%ba%8c.png"
loading="lazy"
alt="题目二"
>&lt;/p>
&lt;h4 id="2-1">2)&lt;/h4>
&lt;p>For CMOS static logic, logic effort: $g_A=2, g_B=2, g_C=4/3$; intrinsic delay: $p = 10/3$&lt;/p>
&lt;p>For dynamic logic, logic effort: $g_{CLK}=4/3, g_{A}=1, g_{B}=1, g_C=1$, $g_{HL}=0$; intrinsic delay: $p_{LH}=7/3$, $p_{HL}=0$&lt;/p>
&lt;h4 id="3-1">3)&lt;/h4>
&lt;p>&lt;img src="https://todd.scuteee.com/images/%e9%a2%98%e7%9b%ae%e4%ba%8celmore%20delay.png"
loading="lazy"
alt="题目二 elmore delay"
>&lt;/p>
&lt;p>The worst $t_p$ happens when $(A, B, C)$ goes from $(1,1,0)$ to $(1,0,1)$&lt;/p>
&lt;p>The elmore delay of static logic can be calculated as $t_p=0.69 R_N(2 C_1+4C_2+4C_3)$. ($R_N$ is the resistor of NMOS with size=1)&lt;/p>
&lt;p>The elmore delay of static logic can be calculated as $t_p=0.69 R_N(3 C_4+6C_5+9C_6)$.&lt;/p></description></item><item><title/><link>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E4%BD%9C%E4%B8%9A/%E9%A2%98%E7%9B%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/6-%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/%E4%BD%9C%E4%B8%9A/%E9%A2%98%E7%9B%AE/</guid><description>&lt;h2 id="digital-integrated-circuit-design">Digital integrated circuit design&lt;/h2>
&lt;blockquote>
&lt;p>Deadline: 2023/05/14&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>Analysis of propagation delay of combination circuit&lt;/p>
&lt;p>&lt;img src="https://todd.scuteee.com/images/%e9%a2%98%e7%9b%ae%e4%b8%80.png"
loading="lazy"
alt="题目一"
>&lt;/p>
&lt;ul>
&lt;li>Assume each input is driven by an inverter with size=1, and the output load is an inverter with size=120, which one has the minimum delay? (from input of inverter to the output of AND8)&lt;/li>
&lt;li>Provided the probability that each input node is 1 is 0.25, which one has the smallest energy?&lt;/li>
&lt;li>Provided input slope should be considered and $t^i_p=t^i_{\rm step}+0.2t^{i-1}_{\rm step}$, determine the size of (a) to minimize propagation delay.&lt;/li>
&lt;li>Use cascading dynamic logic to implement this logic function. Can propagation delay can be reduced? Give your opinion.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Given a logic function $Y= \overline{((A+B)C)}$&lt;/p>
&lt;ul>
&lt;li>Design a circuit to realize above logic function with CMOS static logic and dynamic logic individually.&lt;/li>
&lt;li>Compute logical effort per signal input and intrinsic delay for circuits in 1). Pay attentions that $p_{LH}$, $p_{HL}$, $g_{HL}$ and $g_{LH}$ are not necessary the same.&lt;/li>
&lt;li>Calculate the worst tp with elmore delay formula.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item><item><title>Strip Return</title><link>https://todd.scuteee.com/strip_return/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/strip_return/</guid><description>
&lt;div class="text-white text-lg p-4">
&lt;p class="text-5xl">
RETURN👉WHITESPACE
&lt;/p>
&lt;br />
&lt;form class="flex flex-col">
&lt;div>
&lt;input type="checkbox" id="auto_clear" name="auto_clear" value="auto_clear" checked>
&lt;label for="auto_clear" title="clear the input when it ends with '.'"> Auto Clear Input&lt;/label>
&lt;input type="checkbox" id="auto_copy" name="auto_copy" value="auto_copy" checked>
&lt;label for="auto_copy" title="copy stripped text right after input"> Auto Copy&lt;/label>
&lt;/div>
&lt;textarea id="has_return" class="rounded-md p-4 my-2 text-black" name="text"
placeholder="Enter text that need to be stripped" oninput="strip()"
style="height:10em;resize:vertical;">&lt;/textarea>
&lt;br />
&lt;textarea id="no_return" class="rounded-md p-4 my-2 text-black" name="text" placeholder="get your stripped text"
style="height:10em;resize:vertical;">&lt;/textarea>
&lt;br />
&lt;div class="flex flex-row-reverse">
&lt;input type="button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full"
value="Copy" onclick="copy()">
&lt;input type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full mx-2"
value="Clear Input" onclick="clear_input()">
&lt;/div>
&lt;/form>
&lt;/div>
&lt;script>
var auto_clear = document.getElementById("auto_clear");
var auto_copy = document.getElementById("auto_copy");
var has_return = document.getElementById("has_return");
var no_return = document.getElementById("no_return");
function strip() {
no_return.value = has_return.value.replace(/[\r\n]/g, " ");
if (auto_copy.checked) {
copy();
}
if (auto_clear.checked) {
if (has_return.value.substr(-1) == '.') {
clear_input();
}
}
}
function copy() {
no_return.select();
document.execCommand("copy");
has_return.focus();
}
function clear_input() {
has_return.value = '';
}
&lt;/script></description></item><item><title>论文写作课程</title><link>https://todd.scuteee.com/posts/2022/2022-12-3-thesis-writing-course/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://todd.scuteee.com/posts/2022/2022-12-3-thesis-writing-course/</guid><description>&lt;h2 id="research-proposal-homework">Research Proposal Homework&lt;/h2>
&lt;h3 id="title">Title&lt;/h3>
&lt;p>Research on Hot Carrier Injection Model of nanoscale MOS Transistor for EDA tools&lt;/p>
&lt;h3 id="abstract">Abstract&lt;/h3>
&lt;p>Hot carrier injection (HCI) is one of the main mechanisms of transistor performance degradation. In order to better evaluate the degradation effect caused by HCI in the circuit design stage, it is necessary to carry out HCI effect modeling research suitable for EDA tool simulation. In this research, we will performance hot carrier test on nanoscale MOS devices, analyse the mechanism of HCI, and derive HCI model from the experiment data.&lt;/p>
&lt;h3 id="introduction">Introduction&lt;/h3>
&lt;p>Hot carriers refer to carriers whose energy is several kT or more higher than the Fermi level. These carriers are not in thermal equilibrium with the lattice, and when the energy reaches or exceeds the Si/SiO2 interface barrier, they will Injected into the oxide layer to generate interface states in the oxide layer or be trapped, making the charge of the oxide layer increase or fluctuate unstable. This is the hot carrier injection (HCI) effect. [1] The hot carrier injection effect will affect the parameters of the MOS device, causing the flat band voltage (VFB), threshold voltage (Vth) to drift, and the transconductance (gm) to decrease. The degradation of device parameters further affects the performance of integrated circuits, and when the degradation reaches a certain level, it will lead to circuit failure.&lt;/p>
&lt;p>In order to make the integrated circuit achieve the expected life, it is necessary to simulate the reliability of the circuit in the design stage. Currently the most commonly used hot carrier degradation model is the lucky electron model (LEM) proposed by Hu et al. [2], which is also the guiding principle for most industry standard hot carrier models and prediction methods. However, with the continuous reduction of device size and the decrease of operating voltage, the lucky electron model can no longer express the hot carrier effect of nanoscale field effect transistors well. Therefore, new mechanisms need to be considered in the model.&lt;/p>
&lt;p>This research will deliver a HCI model that is based on HCI experiment on nanoscale MOS. It provides better prediction device degradation, and consumes small computational resource, so it is suitable for EDA simulation.&lt;/p>
&lt;h3 id="literature-review摘自论文">Literature Review(摘自论文)&lt;/h3>
&lt;p>As the size of devices shrinks to the nanoscale, researchers have proposed some new mechanisms to describe the generation of hot carrier effects, such as electron-electron scattering (Electron-Electron Scattering, EES), multiple vibration excitation (Multiple Vibration Excitation, MVE ), etc. These mechanisms are related to the energy distribution function of carriers, so this type of model is called the energy-driven paradigm model [3,4]. The key to this model is to solve the carrier energy distribution function (Energy Distribution Function, EDF), so as to find out the contribution of different mechanisms to the hot carrier effect. The carrier energy distribution function can be obtained by solving the Boltzmann Transport Equation (BTE). There are two methods used to obtain the solution of BTE: Monte-Carlo method and method based on Spherial Harmonics Expansion. Both methods require a lot of calculations, so they are not suitable for integration into EDA simulation tools. Therefore, it is necessary to simplify these physical models to obtain a compact model suitable for EDA, which can fully reflect the hot carrier effect of nanoscale devices and improve its computational efficiency.&lt;/p>
&lt;h3 id="research-approach">Research Approach&lt;/h3>
&lt;p>Commonly used device models in circuit simulators include analytical model, look-up table model, and empirical model [5]:&lt;/p>
&lt;ul>
&lt;li>Analytic models: Model equations are derived directly from the device physics, and these models accurately describe the device to a first-order approximation.&lt;/li>
&lt;li>Look-up table model: Store the IV characteristics of devices with different degrees of degradation in the form of a table, and the basic data comes from the results obtained from experiments or simulators. The advantage of the look-up table model is that it is not dependent on process technology and can be built in a shorter time than the physical model. Its disadvantage is that this model cannot give the physical meaning of device characteristics.&lt;/li>
&lt;li>Empirical model: not based on device physics, but purely obtained by fitting experimental curves. The advantage of this type of model is that it requires less data storage than the look-up table model, and it takes less time to build the model than other approximate models.&lt;/li>
&lt;/ul>
&lt;p>Considering that the HCI experiment takes a long time, and the damage to the device is irreversible, and the cost of testing the device is too high to carry out a large number of tests, it is not suitable to establish a look-up table model. Therefore, this research will model the hot carrier degradation on the basis of analytical model and empirical model.&lt;/p>
&lt;h3 id="research-deliverables">Research Deliverables&lt;/h3>
&lt;p>In this work, we are going to deliver:&lt;/p>
&lt;ol>
&lt;li>a paper&lt;/li>
&lt;li>a model that can be used in EDA simulation&lt;/li>
&lt;/ol>
&lt;h3 id="timetable">Timetable&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Stage&lt;/th>
&lt;th>Details&lt;/th>
&lt;th>Time&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Experiment&lt;/td>
&lt;td>Conduct hot carrier test on PMOS device&lt;/td>
&lt;td>1 month&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Data Processing&lt;/td>
&lt;td>Extract device parameters from experiment data&lt;/td>
&lt;td>1 week&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Modeling&lt;/td>
&lt;td>Modeling with experimental data&lt;/td>
&lt;td>2 weeks&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Paper writing&lt;/td>
&lt;td>Draft our paper&lt;/td>
&lt;td>2 weeks&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="reference">Reference&lt;/h3>
&lt;p>[1] Xiaowen Zhang, Yunfei en. Reliability and Evaluation Method of Semiconductor Integrated Circuit[M]. Beijing: Publishing House of Electronics Industry, 2015. 142.&lt;/p>
&lt;p>[2] Tam S, Ko P K, Hu C. Lucky-electron model of channel hot-electron injection in MOSFET&amp;rsquo;s[J]. IEEE Transactions on Electron Devices, 1984, 31(9): 1116-1125.&lt;/p>
&lt;p>[3] Rauch S E, Guarin F. The Energy Driven Hot Carrier Model[A]. Tibor. Hot Carrier Degradation in Semiconductor Devices[C]. London: Springer, 2015: 29-56.&lt;/p>
&lt;p>[4] A. Bravaix, V. Huard, F. Cacho, X. Federspiel, D. Roy et al., Hot-carrier degradation in decananometer CMOS nodes: From an energy driven to a unified current degradation modeling by multiple carrier degradation process, in Hot-Carrier Degradation, ed. by T. Grasser (Springer, Wien/New York, 2015)&lt;/p>
&lt;p>[5] Starkov I. Comprehensive physical modeling of hot-carrier induced degradation[D]. TU Wien, 2013.&lt;/p></description></item></channel></rss>