<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1-bit 加法 逻辑表达式 1-bit 加法有两种类型： 半加器：不可以接收上一位的进位 全加器：可以接收上一位的进位 它们对应的真值表不难写出： 输入输出端口如下： $A"><title>加法</title><link rel=canonical href=https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/><link rel=stylesheet href=/scss/style.min.7fb5a1f08f67e3bdcc6696b335c3102ad72b845106e61a71cd0402e10b5f22de.css><meta property="og:title" content="加法"><meta property="og:description" content="1-bit 加法 逻辑表达式 1-bit 加法有两种类型： 半加器：不可以接收上一位的进位 全加器：可以接收上一位的进位 它们对应的真值表不难写出： 输入输出端口如下： $A"><meta property="og:url" content="https://todd.scuteee.com/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/"><meta property="og:site_name" content="Todd's Blog"><meta property="og:type" content="article"><meta property="article:section" content="DigitalIC"><meta property="article:published_time" content="2023-07-10T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-10T00:00:00+00:00"><meta name=twitter:title content="加法"><meta name=twitter:description content="1-bit 加法 逻辑表达式 1-bit 加法有两种类型： 半加器：不可以接收上一位的进位 全加器：可以接收上一位的进位 它们对应的真值表不难写出： 输入输出端口如下： $A"><link rel="shortcut icon" href=favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/avatar_huab97f25f655a875cd3229d10d376a5bb_18063_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>💘</span></figure><div class=site-meta><h1 class=site-name><a href=/>Todd's Blog</a></h1><h2 class=site-description>Life & Work</h2></div></header><ol class=social-menu><li><a href=https://github.com/toddzzf target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/posts/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>日常</span></a></li><li><a href=/food/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tools-kitchen-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19 3v12h-5c-.023-3.681.184-7.406 5-12zm0 12v6h-1v-3M8 4v17M5 4v3a3 3 0 106 0V4"/></svg><span>吃的</span></a></li><li><a href=/design/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-code" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="7 8 3 12 7 16"/><polyline points="17 8 21 12 17 16"/><line x1="14" y1="4" x2="10" y2="20"/></svg><span>网页设计</span></a></li><li><a href=/ppt/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-presentation" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="3" y1="4" x2="21" y2="4"/><path d="M4 4v10a2 2 0 002 2h12a2 2 0 002-2V4"/><line x1="12" y1="16" x2="12" y2="20"/><line x1="9" y1="20" x2="15" y2="20"/><path d="M8 12l3-3 2 2 3-3"/></svg><span>PPT</span></a></li><li class=current><a href=/digitalic/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circuit-diode" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 12h-6"/><path d="M2 12h6"/><path d="M8 7l8 5-8 5z"/><path d="M16 7v10"/></svg><span>Digital IC</span></a></li><li><a href=/analogic/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circuit-diode" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 12h-6"/><path d="M2 12h6"/><path d="M8 7l8 5-8 5z"/><path d="M16 7v10"/></svg><span>Analog IC</span></a></li><li><a href=/analog/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circuit-diode" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 12h-6"/><path d="M2 12h6"/><path d="M8 7l8 5-8 5z"/><path d="M16 7v10"/></svg><span>模拟电子技术</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/digitalic/%E6%95%B0%E5%AD%97%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF/11-%E7%AE%97%E6%9C%AF%E5%8D%95%E5%85%83/%E5%8A%A0%E6%B3%95/>加法</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jul 10, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 6 分钟</time></div></footer></div></header><section class=article-content><h2 id=1-bit-加法>1-bit 加法</h2><h3 id=逻辑表达式>逻辑表达式</h3><p>1-bit 加法有两种类型：</p><ul><li>半加器：不可以接收上一位的进位</li><li>全加器：可以接收上一位的进位</li></ul><p><img src=/images/half-and-full-adders.png loading=lazy alt=半加器和全加器></p><p>它们对应的真值表不难写出：</p><p><img src=/images/truth-table-of-half-and-full-adders.png loading=lazy alt=半加器和全加器的真值表></p><p>输入输出端口如下：</p><ul><li>$A$、$B$ 加数</li><li>$C$ 上一位的进位</li><li>$C_{out}$ 进位位</li><li>$S$ 和</li></ul><p>另外还有三个中间变量：</p><ul><li>$G$enerate：进位产生，即这一位会产生一个进位（不论上一位的进位如何），$G=AB$</li><li>$P$ropagate：进位传播，即将上一位的进位传播到下一位，$P=A\oplus B$，有时候也定义为 $P=A+B$</li><li>$K$ill：进位取消，即这一位不会产生进位（即使上一位有进位），$D=\bar{A}\bar{B}$</li></ul><p>从真值表，不难写出半加器的逻辑表达式：</p><p>$$
S=A \oplus B\\C_{out} = A \cdot B
$$</p><p>全加器的逻辑表达式：</p><p>$$
S = A \oplus B \oplus C\\C_{out} = AB + AC + BC = {\rm MAJ}(A,B,C)
$$</p><p>${\rm MAJ}$ 表示 majority，即取 A,B,C 中占大多数的值（也就是当至少有两个为 1 时输出 1）</p><p>全加器的另一种逻辑表达式：</p><p>$$
S = = P \oplus C\\C_{out} = G+PC
$$</p><h3 id=电路实现>电路实现</h3><p>半加器的电路实现并不难，只需要一个异或门和一个与门就行。</p><p><img src=/images/half-adder-design.png loading=lazy alt=半加器的电路实现></p><p>而全加器则复杂得多。我们先来看常规实现：用一个三输入异或门，和一个 MAJ 门</p><p><img src=/images/full-adder-design.png loading=lazy alt=全加器的电路实现></p><ul><li>三输入的异或门中有很多支路是共享的。比如下拉网络中，$AB\overline{C}$ 和 $A\overline{B}C$ 共享了 $A$ 支路。</li><li>MAJ 门的实现借鉴了“G、P、K”，<ul><li>当 A、B 都为 0 时，Kill，$C_{out}=0$；</li><li>当 A、B 都为 1 时，Generate，$C_{out}=1$；</li><li>当 A、B 有一个为 1 时，Propagate，$C_{out}$ 取决于 $C$</li></ul></li><li>一共需要 32 个晶体管<ul><li>反相器占 6 个</li><li>三输入异或门占 16 个</li><li>MAJ 门占 10 个</li></ul></li></ul><hr><p>另一种更紧凑的实现方法是求出 $C_{out}$ 后，再用来求 $S$：</p><p>$$
S = ABC + (A+B+C) \overline{C}_{out}
$$</p><p><img src=/images/mirror-adder.png loading=lazy alt="Mirror Adder"></p><ul><li>$\overline{C}_{out}$ 的求解使用的是 Minority 门，也就是将 MAJ 门的输入取反</li><li>整个电路是上下对称的，因此这种实现方式也叫做 mirror adder.</li><li>一共只使用了 28 个晶体管</li></ul><p>另外，为了优化延时（下一节会讲到，关键路径是进位的路径，也即产生 $\overline{C}_{out}$ 的路径），这个电路作了如下优化：</p><ul><li>关键路径上的晶体管的尺寸较大</li><li>非关键路径上的晶体管的尺寸都取最小，以减小关键路径的 Branch Effort</li><li>将上一级的进位位 $C$ 放在内部，这样中间节点就已经提前放电了（通过 $A,B$）</li><li>为了移除输出的反相器，使用正负逻辑交替连接（下一节会讲到）</li></ul><blockquote><p>这个电路的尺寸与教材的取值不同，我认为这里的取值更有道理。</p></blockquote><h3 id=传输门加法器>传输门加法器</h3><h2 id=多bits加法器>多bits加法器</h2><h3 id=逐位进位加法器>逐位进位加法器</h3><p>通过将多个全加器串联在一起，可以实现多 bits 加法器。</p><p><img src=/images/carry-ripple-adder.png loading=lazy alt=逐位进位加法器></p><p>这里为了符合算数规律，把低位放到右边。从图中可以看出，要算出最后一位 $S_4$，必须等前面的进位算出来。因此关键路径就是 $C_{in}\rightarrow C_1 \rightarrow C_2 \rightarrow C_3 \rightarrow S_4$，延时可以写为：</p><p>$$
t_{adder} = (N-1) t_{carry} + t_{sum}
$$</p><ul><li>$N$ 是加法器的位数</li><li>$t_{carry}$ 是从 $C_{in}$ 到 $C_{out}$ 的延时</li><li>$t_{sum}$ 是从 $C_{in}$ 到 $S$ 的延时</li><li>显然，优化 $t_{carry}$ 比优化 $t_{sum}$ 重要。</li></ul><p>另外值得说的是，延时还取决于输入的 $A$ 和 $B$。延时最坏的情况为：$A=x001$ 和 $B=x111$（答案不唯一，可以交换 $A,B$ 中的某些位）</p><p>图(b)展示了<strong>全加器</strong>的一个性质：<strong>把输入反相，则输出也会反相</strong>。这点看真值表不难证明。利用这点就可以节省全加器中的反相器。</p><p>逐位进位加法器的缺点是，如果位数很多，进位只能一位一位传播，速度很慢。解决方法是，我们 bits 分组，比如 32bit 分为 8 个 4bit，然后每个 4bit 加法器内部用一些方法提高进位传播速度。</p><h3 id=旁路进位加法器>旁路进位加法器</h3><p>考虑一个 4bits 的加法器。当 $P_0P_1P_2P_3 = 1$ 时，进位可以直接传到输出，就不需要一位一位传了。根据这个，我们可以设计“旁路进位加法器”：</p><p><img src=/images/carry-skip-adder.png loading=lazy alt=旁路进位加法器></p><p>将多个旁路进位加法器组合起来可以得到多 bits 的加法器。</p><p><img src=/images/4-16-bits-block-carry-skip-adder.png loading=lazy alt="4/16 bits block carry skip adder"></p><p>其关键路径如图中绿色部分所示。出人意料的是，关键路径居然经过了旁路进位，按道理旁路进位不应该更快吗？首先，我们要树立这么一个意识：<strong>所有的 $P$、$G$ 都是同时计算出来的</strong>。假如中间（bits 4 to 15）有一个 $P=0$，那么就依赖于 $G$ 来产生进位，前面的进位就没有用了。因此，如果关键路径必须经过旁路进位。</p><p>理解了上面一点，就可以简单地把延时计算出来：</p><p>$$
T_{add} = t_{setup} + M t_{carry} + (\frac{N}{M}-1) t_{bypass} + (M-1) t_{carry} + t_{sum}
$$</p><ul><li>$N$ 位加法器，划分为 $N/M$ 级，每级 $M$ 位</li><li>$t_{setup}$：产生 $P$、$G$ 信号所需的时间</li><li>$t_{carry}$：进位传播一位所需的延时</li><li>$t_{bypass}$：通过一级旁路多路开关的传播延时</li><li>$t_{sum}$：产生最后一级“和”所需的时间</li></ul><p>我们可以进一步利用这种“旁路”的思想。比如在单个旁路加法器内，进一步增加旁路。这就是我们下面所要介绍的。</p><h3 id=并行前缀加法器>并行前缀加法器</h3><p>为了更清楚地说明，我们定义：</p><p>$$
P_{i:j}=P_{i}P_{i-1}\cdots P_{j}=P_{i:k}P_{k-1:j}
$$</p><p>$$
G_{i:j} = G_{i:k}+P_{i:k}G_{k-1:j}
$$</p><p>$i:j$ 表示从第 $i$ 级到第 $j$ 级（$i>j$）。为了简约起见，定义 $C_{i-1}=G_{i-1}$，且 $C_{-1}=G_{-1}=0$。以上式子可以代入到旁路进位加法器中来理解，在此不作过多解释。</p><p>一旦知道 $G_{i:j}$，就可以用 $S_{i}=A_i\oplus B_i\oplus G_{i-1:-1}$ 来算出和。因此，如何快速算出 $G_{i-1:-1}$ 就是关键。</p><p>以一个 16-bits 加法器为例。我们最终目标是要计算出 $G_{3:-1}$。逐次进位的做法是：</p><ol><li>$G_{0:-1}=G_{0}+P_{0}G_{-1}$</li><li>$G_{1:-1}=G_{1}+P_{1}G_{0:-1}$</li><li>$G_{2:-1}=G_{2}+P_{2}G_{1:-1}$</li><li>$G_{3:-1}=G_{3}+P_{3}G_{2:-1}$</li><li>……</li><li>$G_{15:-1}=G_{15}+P_{15}G_{14:-1}$</li></ol><p>为了方便理解，我们可以用下图来表示逐次进位加法器。可以看出它从上到下有很多级。</p><p><img src=/images/carry-ripple-adder-pg-network.png loading=lazy alt="逐次进位加法器 PG 网络"></p><p>旁路进位的做法是：</p><ol><li>$G_{3:-1}=G_{3:0}+P_{3:0}G_{-1}$</li><li>$G_{7:-1}=G_{7:4}+P_{7:4}G_{3:-1}$</li><li>$G_{11:-1}=G_{11:8}+P_{11:8}G_{7:-1}$</li><li>$G_{15:-1}=G_{15:12}+P_{15:12}G_{11:-1}$</li></ol><p>其中，</p><ul><li>$P_{3:0}=P_3P_2P_1P_0$</li><li>$G_{3:0}=G_3+P_3G_{2:-1}$<ul><li>$G_{2:-1}=G_2+P_2G_{1:-1}$<ul><li>$G_{1:-1}=G_1+P_1G_{0:-1}$<ul><li>$G_{0:-1}=G_0+P_0G_{-1}=G_0$</li></ul></li></ul></li></ul></li></ul><p>下图表示旁路进位加法器。它从上到下的级数比逐次进位加法器少。</p><p><img src=/images/carry-skip-adder-pg-network.png loading=lazy alt="旁路进位加法器 PG 网络"></p><p>我们可以进一步拆分 $G_{3:0}$：</p><ul><li>$G_{3:0}=G_{3}+P_{3}G_{2:-1}$<ul><li>$G_{2:-1}=G_{2:1}+P_{2:1}G_{0:-1}$<ul><li>$G_{2:1}=G_{2}+P_{2}G_{1}$</li><li>$G_{0:-1}=G_{0}+P_{0}G_{-1}$</li></ul></li></ul></li></ul><p>这样拆分的好处是：当 $G_0=1$ 时，$G_{0:-1}=1$，$G_{2:1}$ 就可以算出来。而如果不拆分，则 $G_{0:-1}$ 算出来后，还要算 $G_{1:-1}$，才能得到 $G_{2:1}$</p><p>以上公式可能有点抽象，下面这张图则更好理解：</p><p><img src=/images/16-bit-prefix-adder.png loading=lazy alt="16-bit prefix adder"></p><p>可以只看 $3:-1$，并对比上面的文字分析。这种加法器叫做并行前缀加法器（prefix adder），其好处是，如果中间某一位 $G_i=1$，那么只需要 4 级，就可以传到最后一位 $G_{14:-1}$。它从上到下的级数比旁路进位加法器还少。</p><p>它的延时可以写成：</p><p>$$
T = t_{pg}+(\log_2 N)t_{AO}+t_{\rm xor}
$$</p><ul><li>$t_{pg}$ 为计算 $P_i,G_i$ 的延时</li><li>$t_{AO}$ 为图中黑色方块的延时</li><li>$t_{\rm xor}$ 为异或门的延时</li></ul><h3 id=超前进位加法器>超前进位加法器</h3><p>超前进位加法器是对旁路进位加法器的优化。简单来说就是，旁路进位器进位传播为：</p><ul><li>$G_{3:0}=G_3+P_3G_{2:-1}$<ul><li>$G_{2:-1}=G_2+P_2G_{1:-1}$<ul><li>$G_{1:-1}=G_1+P_1G_{0:-1}$<ul><li>$G_{0:-1}=G_0+P_0G_{-1}=G_0$</li></ul></li></ul></li></ul></li></ul><p>超前进位就是把这个结合：</p><p>$$
G_{3:0} = G_3+P_3{ G_2+P_2[G_1+P_1(G_0+P_0G_{-1})] }+P_{3:0}G_{-1}
$$</p><p>实现电路如下：</p><p><img src=/images/carry-lookahead-adder.png loading=lazy alt=超前进位加法器></p><p>下图是一个 16 位的超前进位加法器</p><p><img src=/images/16-bit-carry-lookahead-adder.png loading=lazy alt="16位 超前进位加法器"></p><p>延时计算如下：</p><p>$$
t_{cla} = t_{pg} + t_{pg(n)}+[(n-1)+(k-1)]t_{AO}+t_{\rm xor}
$$</p><ul><li>$t_{pg}$ 是计算出 $P,G$ 的延时</li><li>$t_{pg(b)}$ 是那一堆与门与或门的延时</li><li>$t_{AO}$ 是下图中黑色方块的延时</li><li>$t_{\rm xor}$ 是求 $S$ 的延时</li><li>把 $N$ bits 的加法器分为 $k$ 份，每份 $n$ bits</li></ul><p>中间的 $[(n-1)+(k-1)]$ 是怎么来的？是因为尽管 $C_{3:0}$ 提前算出来了，但是 $G_{3:-1},G_{2:-1}$ 还没算出来（也就是下图里的黑色方块）。</p><p><img src=/images/carry-lookahead-adder-pg-network.png loading=lazy alt="超前进位加法器 PG 网络"></p><h3 id=进位选择加法器>进位选择加法器</h3><p>进位选择加法器是对旁路进位加法器的另一种优化。其思想是，进位只有 0 或 1，那么干脆就把两种情况都算出来，然后用一个 2-1 mux 来决定最终结果。</p><p><img src=/images/carry-select-adder.png loading=lazy alt=进位选择加法器></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],macros:{"\\dif":"\\mathop{}\\!\\mathrm{d}","\\l":"\\left","\\r":`\\right`}})})</script></article><footer class=site-footer><section class=copyright>&copy;
2020 -
2023 Todd's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.12.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#1-bit-加法>1-bit 加法</a><ol><li><a href=#逻辑表达式>逻辑表达式</a></li><li><a href=#电路实现>电路实现</a></li><li><a href=#传输门加法器>传输门加法器</a></li></ol></li><li><a href=#多bits加法器>多bits加法器</a><ol><li><a href=#逐位进位加法器>逐位进位加法器</a></li><li><a href=#旁路进位加法器>旁路进位加法器</a></li><li><a href=#并行前缀加法器>并行前缀加法器</a></li><li><a href=#超前进位加法器>超前进位加法器</a></li><li><a href=#进位选择加法器>进位选择加法器</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>